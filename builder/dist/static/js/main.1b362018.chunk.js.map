{"version":3,"sources":["config/i18n.js","components/WidgetControl.tsx","components/StyleComponents.tsx","components/CampaignTemplate.tsx","components/EditorWrapper.tsx","components/Stepper.tsx","components/StepperContent.tsx","config/FontAwesomeIcon.ts","containers/CampaignTemplateWrapper.tsx","validation-schemas/sending-schema.ts","components/SendingToListModal.tsx","validation-schemas/config-schema.ts","components/Sending.tsx","components/Loader.tsx","containers/CampaignConfig.tsx","App.tsx","serviceWorker.ts","stores/UiStore.ts","stores/Campaign.ts","stores/CampaignStore.ts","stores/Menu/MenuItem.ts","stores/Menu/Menu.ts","stores/Menu/MenusStore.ts","components/templates/Post.tsx","components/templates/Logo.tsx","components/templates/Navigation.tsx","components/Autocomplete.tsx","components/editors/PostEditor.tsx","components/editors/LogoEditor.tsx","components/editors/NavigationEditor.tsx","stores/Widget.tsx","components/templates/Title.tsx","components/editors/TitleEditor.tsx","stores/WidgetsStore.ts","stores/templateData_temp.ts","stores/Template.ts","stores/TemplateStore.ts","index.tsx","api/WpexApi.ts","stores/Menu/MenusApi.ts"],"names":["i18n","use","Backend","init","backend","loadPath","lng","interpolation","escapeValue","WidgetControlStyled","styled","div","_templateObject","WidgetControl","props","react_default","a","createElement","className","selected","onClick","onEdit","index_es","icon","onAdd","onDelete","children","Flex","StyleComponents_templateObject","FlexMinHeightContent","_templateObject2","FlexCenter","_templateObject3","FlexColumnCenter","_templateObject4","_templateObject5","FlexAutoScroll","_templateObject6","ScrollableStyled","_templateObject7","_templateObject8","_templateObject9","juice","require","CampaignTemplateStyled","CampaignTemplate_templateObject","isOpen","CampaignTemplate","inject","observer","computedStyleToInlineStyle","element","options","each","Array","prototype","forEach","Error","recursive","call","child","_this","computedStyle","getComputedStyle","properties","property","style","getPropertyValue","who","deep","tagName","txt","ax","el","document","clone","cloneNode","appendChild","innerHTML","indexOf","substring","this","updateHtml","campaignStore","campaign","html","head","body","previewText","content","linkToArchiveWrapper","querySelector","template","getElementById","cloneCss","concat","mailServiceFields","preview","from","querySelectorAll","node","remove","result","htmlToString","_this2","widgets","map","widget","index","components_WidgetControl","key","isSelected","widgetEditHandler","widgetAddHandler","widgetDeleteHandler","renderTemplate","Object","objectSpread","data","id","React","Component","whyDidYouRender","EditorWrapperStyled","EditorWrapper_templateObject","EditorWrapper","onUpdateData","widgetDateKey","dataChanged","updateData","save","_callee","_key2","regenerator_default","wrap","_context","prev","next","loading","enqueueSnackbar","variant","setTimeout","closeSnackbar","t0","stop","selectedWidget","resetWidgetSelected","config","displayName","t","renderEditor","dir","uiStore","Button","color","disabled","alt","src","width","height","marginRight","observable","withSnackbar","StepperStyled","Stepper_templateObject","_ref","isRTL","_ref2","LiStyled","li","Stepper_templateObject2","_ref3","step","stepperState","LiStyledObserver","_ref4","objectWithoutProperties","assign","Stepper","iconName","setStep","StepperContent","othersProps","cloneElement","library","add","faChevronLeft","faChevronRight","faPencilAlt","faPlusSquare","faTrashAlt","faTimes","CampaignTemplateWrapperStyled","CampaignTemplateWrapper_templateObject","CampaignTemplateWrapper","onWidgetEditHandler","widgetIndex","setWidgetSelected","onWidgetDeleteHandler","deleteWidget","onWidgetAddHandler","addWidget","type","isSaveButtonDisable","abrupt","sent","value","setHtml","childrenWithProps","Children","isWidgetSelected","sendingSchema","Yup","shape","emails","of","email","ModalContentStyled","SendingToListModal_templateObject","ConfirmMessageStyled","SendingToListModal_templateObject2","SendingToListModal","isOpenModal","handleClose","action","_useState","useState","_useState2","slicedToArray","setType","_useState3","_useState4","setLoading","useEffect","Modal","aria-labelledby","aria-describedby","open","onClose","Typography","TextField","fullWidth","margin","onChange","event","target","marginTop","getConfigSchema","mailchimpListId","required","templateId","name","test","title","replayTo","subjectLine","SendingFormWrapperStyled","section","Sending_templateObject","SendToAllWrapper","Sending_templateObject2","disableSendToAll","UlStyled","ul","Sending_templateObject3","textAlign","Sending","classCallCheck","possibleConstructorReturn","getPrototypeOf","initializerDefineProperty","Sending_descriptor","assertThisInitialized","Sending_descriptor2","onUpdate","asyncToGenerator","mark","field","setFieldTouched","setState","defineProperty","_x","_x2","_x3","apply","arguments","onUpdateDebounced","debounce","_callee2","setFieldValue","_event$target","_args2","_context2","length","undefined","split","Function","String","trim","persist","_x4","_x5","_x6","_descriptor3","send","_callee3","response","errorKey","sendingSuccessfully","_context3","error","console","log","handleOpen","canSendTest","errors","isValidSync","asJson","configFormIsValid","api","mailchimpConfig","private_key","privateKeyMissing","goToConfigForm","preventDefault","state","_this$props","templateStore","otherProps","mailchimpCampaignId","propsDisableSendToAll","disableSendTest","entries","errorsMessages","href","alignItems","display","formik_esm","initialValues","validationSchema","validateOnChange","enableReinitialize","onSubmit","values","_ref5","setSubmitting","_ref6","touched","borderBottom","paddingBottom","flex","label","helperText","join","onBlur","size","sendTest","marginBottom","components_SendingToListModal","_callee4","_context4","_this3","success_send_test","send_test_response","detail","updateFromJson","LoaderStyled","Loader_templateObject","Loader","show","CampaignConfigFormWrapperStyled","CampaignConfig_templateObject","CampaignConfig_templateObject2","CustomSelect","items","menuItems","item","MenuItem_MenuItem","splice","Math","random","FormControl","InputLabel","htmlFor","Select","input","OutlinedInput","labelWidth","CampaignConfig","resetForm","Number","setTemplate","_x7","_x8","t1","onSelectTemplate","onSelectMailchimpList","formDataHasChange","components_Loader","loadingData","JSON","stringify","mailchimpLists","_ref7","dirty","isValid","handleSubmit","CampaignConfig_UlStyled","CampaignConfig_CustomSelect","templates","fontSize","computed","App","StylesProvider","jss","ThemeProvider","theme","components_StepperContent","containers_CampaignConfig","containers_CampaignTemplateWrapper","components_EditorWrapper","components_CampaignTemplate","components_Sending","components_Stepper","Boolean","window","location","hostname","match","UiStore","_jssLTR","create","plugins","toConsumableArray","jssPreset","_jssRTL","rtl","_themeRTL","createMuiTheme","direction","palette","primary","main","contrastText","_themeLTR","UiStore_descriptor","UiStore_descriptor2","UiStore_descriptor3","_descriptor4","_descriptor5","setLocale","locale","campaignDraftOrNew","getLocale","i18next","changeLanguage","Campaign","store","uuidv4","post_id","mailchimpWebId","status","Campaign_descriptor","Campaign_descriptor2","Campaign_descriptor3","Campaign_descriptor4","Campaign_descriptor5","_descriptor6","getTemplate","createTemplate","saveCampaign","getPostIdFromUrl","json","parse","CampaignStore","CampaignStore_descriptor","CampaignStore_descriptor2","CampaignStore_descriptor3","CampaignStore_descriptor4","CampaignStore_descriptor5","CampaignStore_descriptor6","loadInitData","lists","campaignAsync","getMailchimpLists","getCampaignByPostId","setMailchimpLists","t2","t3","list","campaigns","find","push","Promise","rs","rj","loadCampaigns","updateTodoFromServer","url","URL","searchParams","get","widgetSelectedIndex","MenuItem","ID","guid","Menu","menu","term_id","MenusStore","menuApi","MenusStore_descriptor","MenusStore_descriptor2","fetch","PostStyled","Post_templateObject","isBgGray","Table","table","Post_templateObject2","Post","post","image_src","post_title","post_excerpt","snippet","replace","border","maxWidth","rel","LogoStyled","Logo_templateObject","Logo","NavigationStyled","Navigation_templateObject","pointCSS","Navigation","fill","inputComponent","inputRef","ref","components","Control","InputProps","inputProps","selectProps","classes","innerRef","innerProps","textFieldProps","Paper","square","paper","MultiValue","Chip","tabIndex","classNames","chip","chipFocused","isFocused","removeProps","deleteIcon","NoOptionsMessage","noOptionsMessage","Option","buttonRef","component","fontWeight","Placeholder","placeholder","SingleValue","singleValue","ValueContainer","valueContainer","Wrapper","Autocomplete_templateObject","WrapperInput","Autocomplete_templateObject2","IntegrationReactSelect","selectStyles","base","text","& input","font","root","NoSsr","react_select_browser_esm","styles","suggestions","onInputChange","inputChange","isClearable","isSearchable","isLoading","divider","defaultProps","withStyles","padding","flexWrap","overflow","spacing","unit","backgroundColor","emphasize","grey","position","left","zIndex","right","withTheme","query","RxStore","subject","BehaviorSubject","asObservable","pipe","distinctUntilChanged","createClass","pluck","PostEditor","querySubscribe","BASE_URL","protocol","host","pathname","slice","query$","select","set","changeSelection","post_content","unsubscribe","subscribeToQuery","startWith","debounceTime","filter","switchMap","axios","headers","Content-Type","posts","catchError","err","caught","throwError","subscribe","Autocomplete","RadioGroup","aria-label","FormControlLabel","control","Radio","Checkbox","checked","LogoEditorStyled","LogoEditor_templateObject","LogoEditor","frame","onSelect","attachment","first","toJSON","openMedia","wp","media","frames","file_frame","multiple","on","off","e","NavigationEditor","menuStore","Fragment","Widget","_ref$config","_ref$data","_ref$key","_ref$isSelected","Widget_descriptor","Widget_descriptor2","Widget_descriptor3","templateComponent","editorComponent","Widget_descriptor4","renderButton","TitleStyled","Title_templateObject","Title","subTitle","TitleEditorStyled","TitleEditor_templateObject","TitleEditor","WidgetsStore","WidgetsStore_descriptor","editor","widgetModel","setEditorComponent","setTemplateComponent","Map","logoWidget","titleWidget","menuDataWidget","postDataWidget","postLargeDataWidget","widgetsStore","Template","Template_class","Template_descriptor","Template_descriptor2","createWidget","getWidgetData","currentWidget","beforeWidget","afterWidget","widgetType","findIndex","applyDecoratedDescriptor","configurable","enumerable","writable","initializer","getOwnPropertyDescriptor","TemplateStore","WpexApi","getMailchimpConfig","_getShortCode","warn","_getLocale","_getMailchimpConfig","toSend","jqueryParam","_saveCampaign","_loadCampaigns","_callee5","_context5","_getMailchimpLists","_callee6","_context6","_sendTest","_callee7","dataToSend","_context7","_send","_callee8","_context8","_getCampaignByPostId","_callee9","_context9","s","k","v","encodeURIComponent","buildParams","prefix","obj","i","len","isArray","TemplatesStore","stores","ReactDOM","render","build","hideIconVariant","anchorOrigin","vertical","horizontal","mobx_react_module","src_App_0","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"wQAGeA,IACVC,IAAIC,KACJC,KAAK,CACFC,QAAS,CACLC,SAA4E,yDAEhFC,IAAK,QACLC,cAAe,CACXC,aAAa,giCCPzB,IAAMC,EAAsBC,IAAOC,IAAVC,KAgEVC,EAfO,SAACC,GACnB,OACIC,EAAAC,EAAAC,cAACR,EAAD,CAAqBS,UAAWJ,EAAMK,SAAW,WAAa,IAC1DJ,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WACXH,EAAAC,EAAAC,cAAA,KAAGG,QAASN,EAAMO,QAAlB,IAA2BN,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAAiBC,KAAK,eAAjD,KACAR,EAAAC,EAAAC,cAAA,KAAGG,QAASN,EAAMU,OAAlB,IAA0BT,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAAiBC,KAAK,gBAAhD,KACAR,EAAAC,EAAAC,cAAA,KAAGG,QAASN,EAAMW,UAAlB,IAA6BV,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAAiBC,KAAK,cAAnD,MAEJR,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YACVJ,EAAMY,6nCC5DhB,UAAMC,EAAOjB,IAAOC,IAAViB,KAMJC,EAAuBnB,YAAOiB,EAAPjB,CAAHoB,KAIpBC,EAAarB,YAAOiB,EAAPjB,CAAHsB,KASVC,GAJavB,YAAOiB,EAAPjB,CAAHwB,KAISxB,YAAOqB,EAAPrB,CAAHyB,MAIhBC,EAAiB1B,YAAOiB,EAAPjB,CAAH2B,KASdC,GAL2B5B,IAAOC,IAAV4B,KAKL7B,IAAOC,IAAV6B,MASgB9B,YAAO4B,EAAP5B,CAAH+B,yJC/B1C,YAAMC,EAAQC,EAAQ,KAChBC,EAAyBlC,YAAO0B,EAAP1B,CAAHmC,IAGxB,SAAC/B,GACG,OAAOA,EAAMgC,OAAS,IAAM,WAyIrBC,EAnIdC,YAAO,mBACPA,YAAO,aACPC,4NAgFGC,2BAA6B,SAACC,EAAcC,GACxC,IAAMC,EAAOC,MAAMC,UAAUC,QAC7B,IAAKL,EACD,MAAM,IAAIM,MAAM,yBAGfL,IACDA,EAAU,IAGVA,EAAQM,WACRL,EAAKM,KAAKR,EAAQzB,SAAU,SAACkC,GACzBC,EAAKX,2BAA2BU,EAAOR,KAI/C,IAAMU,EAAgBC,iBAAiBZ,GACvCE,EAAKM,KAAKP,EAAQY,YAAcF,EAAe,SAACG,GAC5Cd,EAAQe,MAAMD,GAAYH,EAAcK,iBAAiBF,kFA7FpDG,EAAUC,GACnB,IAAKD,IAAQA,EAAIE,QACb,MAAO,GAEX,IAAIC,EAAKC,EAAIC,EAA4BC,SAASzD,cAAc,OAC1D0D,EAAQP,EAAIQ,WAAU,GAQ5B,OAPAH,EAAGI,YAAYF,GACfJ,EAAME,EAAGK,UACLT,IACAG,EAAKD,EAAIQ,QAAQ,KAAO,EACxBR,EAAMA,EAAIS,UAAU,EAAGR,GAAMJ,EAAIU,UAAYP,EAAIS,UAAUR,IAE/DC,EAAK,KACGF,iDAIRU,KAAKC,WAAWD,KAAKnE,MAAMqE,cAAcC,6CAIlCA,GACP,IAAMC,EAAOX,SAASzD,cAAc,QAC9BqE,EAAOZ,SAASzD,cAAc,QAC9BsE,EAAOb,SAASzD,cAAc,QAC9BuE,EAAcd,SAASzD,cAAc,OACrCwE,EAAUf,SAASzD,cAAc,OACjCyE,EAAuBhB,SAASzD,cAAc,OAC9CiD,EAAQQ,SAASiB,cAAc,sBAC/BC,EAAWlB,SAASmB,eAAe,YAEzC,GAAI3B,EAAO,CACP,IAAM4B,EAAgB5B,EAAMU,WAAU,GACtCkB,EAAShB,UAAY,s2PACrBQ,EAAKT,YAAYiB,GAGrBN,EAAYV,UAAZ,mMAAAiB,OAA2NX,EAASY,kBAAkBC,QAAtP,UACAV,EAAKV,YAAYW,GAEjBE,EAAqBZ,UAAY,yIACjCW,EAAQZ,YAAYa,GAEhBE,IACAA,EAAS1E,UAAY,GACrBuE,EAAQX,UAAYc,EAASd,UAC7BxB,MAAM4C,KAAKT,EAAQU,iBAAiB,aAAa3C,QAAQ,SAAA4C,GAAI,OAAIA,EAAKC,YAG1EhB,EAAKR,YAAYS,GACjBC,EAAKV,YAAYY,GACjBJ,EAAKR,YAAYU,GAKjB,IAAMe,EAAS5D,EAAMuC,KAAKsB,aAAalB,GAAM,IAO7CJ,KAAKnE,MAAMoE,WAAYoB,oCAkCiJ,IAAAE,EAAAvB,KAElKwB,EAAUxB,KAAKnE,MAAM2F,QAAQC,IAAI,SAACC,EAAgBC,GAAjB,OACnC7F,EAAAC,EAAAC,cAAC4F,EAAD,CAAeC,IAAKH,EAAOG,IACZ3F,SAAUwF,EAAOI,WACjB1F,OAAQ,kBAAMmF,EAAK1F,MAAMkG,kBAAkBJ,IAC3CpF,MAAO,kBAAMgF,EAAK1F,MAAMmG,iBAAiBN,EAAQC,IACjDnF,SAAU,kBAAM+E,EAAK1F,MAAMoG,oBAAoBN,KACzDD,EAAOQ,eAAPC,OAAAC,EAAA,EAAAD,CAAA,GAA0BZ,EAAK1F,MAA/B,CAAsCwG,KAAMX,EAAOW,WAI5D,OACIvG,EAAAC,EAAAC,cAAC2B,EAA2BqC,KAAKnE,MAC7BC,EAAAC,EAAAC,cAACY,EAAyBoD,KAAKnE,MAC3BC,EAAAC,EAAAC,cAACgB,EAAqBgD,KAAKnE,MACvBC,EAAAC,EAAAC,cAAA,OAAKsG,GAAG,YAEHd,aAvHEe,IAAMC,aAE1BC,iBAAkB,oyCCjB7B,IAAMC,GAAsBjH,YAAOiB,EAAPjB,CAAHkH,KAQrB,SAAC9G,GACG,OAAOA,EAAMgC,OAAS,IAAM,UAkD9B+E,GAFL7E,YAAO,UAAW,mBAClBC,mTAOG6E,aAAe,SAACC,EAAuBT,GACnCzD,EAAKmE,aAAc,EACnBnE,EAAK/C,MAAMmH,WAAWF,EAAeT,MAGzCY,0BAAO,SAAAC,IAAA,IAAArB,EAAAsB,EAAA,OAAAC,EAAArH,EAAAsH,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACH5E,EAAK6E,SAAU,EADZH,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAIO5E,EAAK/C,MAAMqE,cAAcC,SAAS8C,OAJzC,OAKOpB,EAAMjD,EAAK/C,MAAM6H,gBAAgB,oBAAqB,CAACC,QAAS,YACtEC,WAAW,kBAAMhF,EAAK/C,MAAMgI,cAAchC,IAAM,MANjDyB,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAQ,GAAAR,EAAA,SAQOzB,EAAMjD,EAAK/C,MAAM6H,gBAAgB,QAAS,CAACC,QAAS,UAC1DC,WAAW,kBAAMhF,EAAK/C,MAAMgI,cAAchC,IAAM,MATjD,QAYHjD,EAAKmE,aAAc,EACnBnE,EAAK6E,SAAU,EAbZ,yBAAAH,EAAAS,SAAAb,EAAA,yFAkBH,IAAMxB,EAAiB1B,KAAKnE,MAAMqE,cAAcC,SAASQ,SAASqD,eAElE,OACIlI,EAAAC,EAAAC,cAAC0G,GAAwB1C,KAAKnE,MAC1BC,EAAAC,EAAAC,cAAA,cACIF,EAAAC,EAAAC,cAAA,UAAQG,QAAS6D,KAAKnE,MAAMoI,qBACxBnI,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAAiBC,KAAK,kBAE1BR,EAAAC,EAAAC,cAAA,YAAO0F,GAAUA,EAAOwC,OAAOC,YAA/B,IAA6CpJ,IAAKqJ,EAAE,UAExDtI,EAAAC,EAAAC,cAAA,YACK0F,GAAUA,EAAO2C,aAAa,CAC3BxB,aAAc7C,KAAK6C,aACnBnB,YAGR5F,EAAAC,EAAAC,cAAA,UAAQsI,IAAKtE,KAAKnE,MAAM0I,QAAQD,KAC5BxI,EAAAC,EAAAC,cAACwI,GAAA,EAAD,CAAQb,QAAQ,WACRxH,QAAS6D,KAAKnE,MAAMqE,cAAcC,SAASQ,SAASsD,qBACvDlJ,IAAKqJ,EAAE,WAEZtI,EAAAC,EAAAC,cAACwI,GAAA,EAAD,CACIC,MAAM,UACNd,QAAQ,YACRe,SAAW1E,KAAKyD,UAAYzD,KAAK+C,YACjC5G,QAAS6D,KAAKiD,MACbjD,KAAKyD,SACF3H,EAAAC,EAAAC,cAAA,OACI2I,IAAI,UACJC,IAAqF,2FACrFC,MAAM,OACNC,OAAO,OAAO7F,MAAO,CAAC8F,YAAa,MAC1C/E,KAAKyD,QAAU1I,IAAKqJ,EAAE,UAAYrJ,IAAKqJ,EAAE,kBA7DtC7B,IAAMC,gDAE7BwC,+EAA8B,8CAE9BA,+EAAyB,kBAkEfC,2BAAarC,6iBCrI5B,aAAMsC,GAAgBzJ,YAAOiB,EAAPjB,CAAH0J,KAiBI,SAAAC,GAAA,OAAAA,EAAEb,QAA0Bc,MAAQ,IAAM,QACzC,SAAAC,GAAA,OAAAA,EAAEf,QAA0Bc,MAAQ,OAAS,MAI/DE,GAAW9J,IAAO+J,GAAVC,KACD,SAAAC,GAAA,IAAEnB,EAAFmB,EAAEnB,QAASoB,EAAXD,EAAWC,KAAX,OAA0BpB,EAAQqB,aAAeD,EAAO,YAAc,UAG7EE,GAAmB7H,YAAS,SAAA8H,GAAA,IAAET,EAAFS,EAAET,MAAUxJ,EAAZsG,OAAA4D,GAAA,EAAA5D,CAAA2D,EAAA,kBAC9BhK,EAAAC,EAAAC,cAACuJ,GAADpD,OAAA6D,OAAA,GAAcnK,EAAd,CAAqBwJ,MAAOA,IAAQxJ,EAAMY,YAmC/BwJ,GAjCClI,YAAO,UAAPA,CAAkBC,YAAS,SAACnC,GAExC,IAAMqK,EAAa,WAAApF,OAAcjF,EAAM0I,QAAQc,MAAQ,OAAS,SAChE,OACIvJ,EAAAC,EAAAC,cAACkJ,GAAD/C,OAAA6D,OAAA,GAAmBnK,EAAnB,CACewG,KAAMxG,EAAM0I,QAAQqB,aACpBtB,IAAKzI,EAAM0I,QAAQD,MAC9BxI,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAC6J,GAAD1D,OAAA6D,OAAA,GAAsBnK,EAAtB,CACkB8J,KAAK,IACLN,MAAOxJ,EAAM0I,QAAQc,MACrBlJ,QAAS,kBAAMN,EAAMsK,QAAQ,MAC1CpL,IAAKqJ,EAAE,mBACRtI,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAAiBC,KAAM4J,KAE3BpK,EAAAC,EAAAC,cAAC6J,GAAD1D,OAAA6D,OAAA,GAAsBnK,EAAtB,CACkB8J,KAAK,IACLN,MAAOxJ,EAAM0I,QAAQc,MACrBlJ,QAAS,kBAAMN,EAAMsK,QAAQ,MAC1CpL,IAAKqJ,EAAE,iBACRtI,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAAiBC,KAAM4J,KAE3BpK,EAAAC,EAAAC,cAAC6J,GAAD1D,OAAA6D,OAAA,GAAsBnK,EAAtB,CACkB8J,KAAK,IACLN,MAAOxJ,EAAM0I,QAAQc,MACrBlJ,QAAS,kBAAMN,EAAMsK,QAAQ,MAC1CpL,IAAKqJ,EAAE,iBClDbgC,GARQrI,YAAO,UAAPA,CAAkBC,YAAS,SAAAoH,GAAoD,IAAlD3I,EAAkD2I,EAAlD3I,SAAU8H,EAAwCa,EAAxCb,QAASoB,EAA+BP,EAA/BO,KAASU,EAAsBlE,OAAA4D,GAAA,EAAA5D,CAAAiD,EAAA,+BAClG,OAAOO,IAASpB,EAAQqB,aACnB9J,EAAAC,EAAAC,cAACmB,EAAmBkJ,EAChB9D,IAAM+D,aAAa7J,EAAU4J,IAEhC,kGCNVE,KAAQC,IACJC,KACAC,KACAC,KACAC,KACAC,KACAC,MCFJ,IAAMC,GAAgCtL,YAAOiB,EAAPjB,CAAHuL,MAkEpBC,GAhEdlJ,YAAO,oBACPC,mRAKGkJ,oBAAsB,SAACC,GACnBvI,EAAK/C,MAAMqE,cAAckH,kBAAkBD,MAG/CE,sBAAwB,SAACF,GACrBvI,EAAK/C,MAAMqE,cAAcC,SAASQ,SAAS2G,aAAaH,MAG5DI,mBAAqB,SAAC7F,EAAgBC,GAClC/C,EAAK/C,MAAMqE,cAAcC,SAASQ,SAAS6G,UAAU9F,EAAOwC,OAAOuD,KAAM9F,MAG7EsC,oBAAsB,WAClBrF,EAAK/C,MAAMqE,cAAckH,kBAAkB,SAG/CnE,0BAAO,SAAAC,IAAA,OAAAE,EAAArH,EAAAsH,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACH5E,EAAK8I,qBAAsB,EADxBpE,EAAAE,KAAA,EAEU5E,EAAK/C,MAAMqE,cAAc+C,OAFnC,cAAAK,EAAAqE,OAAA,SAAArE,EAAAsE,MAAA,wBAAAtE,EAAAS,SAAAb,QAKPF,WAAa,SAACnB,EAAagG,GACvBjJ,EAAK8I,qBAAsB,EACvB9I,EAAK/C,MAAMqE,cAAcC,SAAS6D,iBAClCpF,EAAK/C,MAAMqE,cAAcC,SAAS6D,eAAe3B,KAAKR,GAAOgG,MAIrE5H,WAAa,SAACG,GACVxB,EAAK/C,MAAMqE,cAAcC,SAAS2H,QAAQ1H,4EAG8H,IAAAmB,EAAAvB,KAClK+H,EAAoBxF,IAAMyF,SAASvG,IAAIzB,KAAKnE,MAAMY,SAAU,SAACkC,GAC/D,OAAO4D,IAAM+D,aAAa3H,EAAO,CAC7B9C,MAAO0F,EAAK1F,MACZ6L,oBAAqBnG,EAAKmG,oBAC1B3F,kBAAmBR,EAAK2F,oBACxBjF,oBAAqBV,EAAK8F,sBAC1BrF,iBAAkBT,EAAKgG,mBACvBtD,oBAAqB1C,EAAK0C,oBAC1BhB,KAAM1B,EAAK0B,KACXD,WAAYzB,EAAKyB,WACjBtB,OAAQH,EAAK1F,MAAMqE,cAAcC,SAAS6D,eAC1CxC,QAASD,EAAK1F,MAAMqE,cAAcC,SAASQ,SAASa,QACpD3D,OAAQ0D,EAAK1F,MAAMqE,cAAc+H,iBACjChI,WAAYsB,EAAKtB,eAIzB,OACInE,EAAAC,EAAAC,cAAC+K,GAAkC/G,KAAKnE,MACnCkM,UAxDqBxF,IAAMC,8DAEvCwC,+EAAiC,sECHvBkD,GAROC,YAEjBC,MAAM,CACHC,OAAQF,WAEHG,GAAGH,YAAaI,ojBCA7B,IAAMC,GAAqB/M,IAAOC,IAAV+M,MAUlBC,GAAuBjN,IAAOC,IAAViN,MAkEXC,sBA3Df,SAAAxD,GAAqE,IAAxCyD,EAAwCzD,EAAxCyD,YAAaC,EAA2B1D,EAA3B0D,YAAaC,EAAc3D,EAAd2D,OAAcC,EAEzCC,mBAAS,IAFgCC,EAAA/G,OAAAgH,GAAA,EAAAhH,CAAA6G,EAAA,GAE1DvB,EAF0DyB,EAAA,GAEpDE,EAFoDF,EAAA,GAAAG,EAGnCJ,oBAAS,GAH0BK,EAAAnH,OAAAgH,GAAA,EAAAhH,CAAAkH,EAAA,GAG1D5F,EAH0D6F,EAAA,GAGjDC,EAHiDD,EAAA,GAYjE,OAPAE,oBAAU,WACN,OAAO,WACHD,GAAW,GACXH,EAAQ,MAEd,CAACP,IAGC/M,EAAAC,EAAAC,cAACyN,GAAA,EAAD,CACIC,kBAAgB,qBAChBC,mBAAiB,2BACjBC,KAAMf,EACNgB,QAASf,GAEThN,EAAAC,EAAAC,cAACwM,GAAD,KACI1M,EAAAC,EAAAC,cAAC8N,GAAA,EAAD,CAAYnG,QAAQ,KAAKrB,GAAG,eACvBvH,IAAKqJ,EAAE,2BAEZtI,EAAAC,EAAAC,cAAC8N,GAAA,EAAD,CAAYnG,QAAQ,YAAYrB,GAAG,4BAC9BvH,IAAKqJ,EAAE,mDAGZtI,EAAAC,EAAAC,cAAC0M,GAAD,KACK3N,IAAKqJ,EAAE,yBAEZtI,EAAAC,EAAAC,cAAC+N,GAAA,EAAD,CACIC,WAAS,EACTC,OAAO,SACPtG,QAAQ,WACRkE,MAAOJ,EACP/C,SAAUjB,EACVyG,SAAU,SAACC,GAAD,OAAgBf,EAAQe,EAAMC,OAAOvC,QAC/CJ,KAAK,SAET3L,EAAAC,EAAAC,cAAA,OAAKiD,MAAO,CAACoL,UAAW,SACpBvO,EAAAC,EAAAC,cAACwI,GAAA,EAAD,CAAQb,QAAQ,YAAYc,MAAM,UAAUC,SAAmB,SAAT+C,GAAmBhE,EAAStH,QAAS,WACvFoN,GAAW,GACXR,MAECtF,GACG3H,EAAAC,EAAAC,cAAA,OACI2I,IAAI,UACJC,IAAiF,2FACjFC,MAAM,OACNC,OAAO,OAAO7F,MAAO,CAAC8F,YAAa,MAC1CtB,EAAU1I,IAAKqJ,EAAE,eAAiBrJ,IAAKqJ,EAAE,SAE9CtI,EAAAC,EAAAC,cAACwI,GAAA,EAAD,CAAQrI,QAAS2M,GAAjB,cChBLwB,GAzDS,WACpB,OAAOnC,YAEFC,MAAM,CACHmC,gBAAiBpC,YAEZqC,SAASzP,IAAKqJ,EAAE,6CACrBqG,WAAYtC,YAEPqC,SAASzP,IAAKqJ,EAAE,gCACrBsG,KAAMvC,YAEDwC,KACG,OACA,oIACA,SAAA9C,GAAK,MAAI,0DAAyD8C,KAAK9C,KAE1E2C,SAASzP,IAAKqJ,EAAE,2BACrBrD,kBAAmBoH,YAEdC,MAAM,CACHpH,QAASmH,YAEJwC,KACG,UACA,oIACA,SAAA9C,GAAK,MAAI,0DAAyD8C,KAAK9C,KAE1E2C,SAASzP,IAAKqJ,EAAE,8BACrBwG,MAAOzC,YAEFwC,KACG,QACA,oIACA,SAAA9C,GAAK,MAAI,0DAAyD8C,KAAK9C,KAE1E2C,SAASzP,IAAKqJ,EAAE,4BACrBnD,KAAMkH,YAEDqC,SAASzP,IAAKqJ,EAAE,qBACrByG,SAAU1C,YAELI,MAAMxN,IAAKqJ,EAAE,0BACboG,SAASzP,IAAKqJ,EAAE,0BACrB0G,YAAa3C,YAERwC,KACG,cACA,oIACA,SAAA9C,GAAK,MAAI,0DAAyD8C,KAAK9C,KAE1E2C,SAASzP,IAAKqJ,EAAE,+uCCrCzC,IAAM2G,GAA2BtP,IAAOuP,QAAVC,KA4BV,SAACpP,GAAD,OAAgBA,EAAM0I,QAAQc,MAAQ,QAAU,QAU7C,SAACxJ,GAAD,OAAgBA,EAAM0I,QAAQc,MAAQ,IAAM,QAC3C,SAACxJ,GAAD,OAAgBA,EAAM0I,QAAQc,MAAQ,OAAS,MAGjE6F,GAAmBzP,IAAOC,IAAVyP,KACT,SAACtP,GAAD,OAAgBA,EAAMuP,iBAAmB,MAAQ,KAC9C,SAACvP,GAAD,OAAgBA,EAAM0I,QAAQc,MAAQ,QAAU,SAE1DgG,GAAW5P,IAAO6P,GAAVC,KAEI,SAAAnG,GAAA,OAAAA,EAAEb,QAA0BiH,YAUxCC,GAFL1N,YAAO,gBAAiB,gBAAiB,UAAW,UACpDC,4BAOG,SAAAyN,EAAY5P,GAAY,IAAA+C,EAAA,OAAAuD,OAAAuJ,EAAA,EAAAvJ,CAAAnC,KAAAyL,GACpB7M,EAAAuD,OAAAwJ,EAAA,EAAAxJ,CAAAnC,KAAAmC,OAAAyJ,EAAA,EAAAzJ,CAAAsJ,GAAA/M,KAAAsB,KAAMnE,IADcsG,OAAA0J,EAAA,EAAA1J,CAAAvD,EAAA,UAAAkN,GAAA3J,OAAA4J,EAAA,EAAA5J,CAAAvD,IAAAuD,OAAA0J,EAAA,EAAA1J,CAAAvD,EAAA,cAAAoN,GAAA7J,OAAA4J,EAAA,EAAA5J,CAAAvD,MAQxBqN,SARwB,eAAA3G,EAAAnD,OAAA+J,EAAA,EAAA/J,CAAAiB,EAAArH,EAAAoQ,KAQb,SAAAjJ,EAAOkJ,EAAevE,EAAYwE,GAAlC,OAAAjJ,EAAArH,EAAAsH,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OACP5E,EAAK0N,SAALnK,OAAAoK,GAAA,EAAApK,CAAA,GAAgBiK,EAAQvE,IACxBwE,EAAgBD,GAAO,GAAM,GAFtB,wBAAA9I,EAAAS,SAAAb,MARa,gBAAAsJ,EAAAC,EAAAC,GAAA,OAAApH,EAAAqH,MAAA3M,KAAA4M,YAAA,GAAAhO,EAaxBiO,kBAAoBC,oBAASlO,EAAKqN,SAAU,KAbpBrN,EAexBsL,SAfwB,eAAAxE,EAAAvD,OAAA+J,EAAA,EAAA/J,CAAAiB,EAAArH,EAAAoQ,KAeb,SAAAY,EAAO5C,EAAY6C,EAAoBX,GAAvC,IAAAS,EAAAG,EAAAvC,EAAA7C,EAAAqF,EAAAN,UAAA,OAAAxJ,EAAArH,EAAAsH,KAAA,SAAA8J,GAAA,cAAAA,EAAA5J,KAAA4J,EAAA3J,MAAA,OAA6DsJ,IAA7DI,EAAAE,OAAA,QAAAC,IAAAH,EAAA,KAAAA,EAAA,GAAAD,EACa9C,EAAMC,OAArBM,EADEuC,EACFvC,KAEL7C,GAFWA,EADJoF,EACIpF,OAEGyF,MAAM,KAAK7L,IAAI8L,SAASjP,UAAUI,KAAM8O,OAAOlP,UAAUmP,MAEvET,EAActC,EAAM7C,GAEhBiF,IACA3C,EAAMuD,UACN9O,EAAKiO,kBAAkBnC,EAAM7C,EAAOwE,IATjC,wBAAAc,EAAApJ,SAAAgJ,MAfa,gBAAAY,EAAAC,EAAAC,GAAA,OAAAnI,EAAAiH,MAAA3M,KAAA4M,YAAA,GAAAhO,EA4BxByN,gBAAkB,SAAClC,EAAYkC,GAE3BA,EADelC,EAAMC,OAAdM,MACe,GAAM,IA9BRvI,OAAA0J,EAAA,EAAA1J,CAAAvD,EAAA,WAAAkP,GAAA3L,OAAA4J,EAAA,EAAA5J,CAAAvD,MAwDxBmP,KAxDwB5L,OAAA+J,EAAA,EAAA/J,CAAAiB,EAAArH,EAAAoQ,KAwDjB,SAAA6B,IAAA,IAAAC,EAAAC,EAAAC,EAAA,OAAA/K,EAAArH,EAAAsH,KAAA,SAAA+K,GAAA,cAAAA,EAAA7K,KAAA6K,EAAA5K,MAAA,cAAA4K,EAAA7K,KAAA,EAAA6K,EAAA5K,KAAA,EAEwB5E,EAAK/C,MAAMqE,cAAcC,SAAS4N,OAF1D,OAEOE,EAFPG,EAAAxG,KAIChJ,EAAKkK,cAEDmF,EAAS5L,KAAKgM,OACRH,EAAWtP,EAAK/C,MAAM6H,gBAAgBuK,EAAS5L,KAAKgM,MAAO,CAAC1K,QAAS,UAC3EC,WAAW,kBAAMhF,EAAK/C,MAAMgI,cAAcqK,IAAW,OAE/CC,EAAsBvP,EAAK/C,MAAM6H,gBAAgB,+CAAgD,CAACC,QAAS,YACjHC,WAAW,kBAAMhF,EAAK/C,MAAMgI,cAAcsK,IAAsB,OAXrEC,EAAA5K,KAAA,gBAAA4K,EAAA7K,KAAA,EAAA6K,EAAAtK,GAAAsK,EAAA,SAcCE,QAAQC,IAARH,EAAAtK,IAdD,yBAAAsK,EAAArK,SAAAiK,EAAA,iBAxDiBpP,EA0ExBkK,YAAc,WACVlK,EAAKiK,aAAc,GA3ECjK,EA8ExB4P,WAAa,WACT5P,EAAKiK,aAAc,GA/ECjK,EAkFxB6P,YAAc,WACV,IAAMC,EAAc,GAcpB,OAb0BpE,KAAkBqE,YAAlBxM,OAAAC,EAAA,EAAAD,CAAA,GACnBvD,EAAK/C,MAAMqE,cAAcC,SAASyO,OADf,CAEtBnE,WAAY7L,EAAK/C,MAAMqE,cAAcC,SAASQ,SAAW/B,EAAK/C,MAAMqE,cAAcC,SAASQ,SAAS2B,GAAK,QAIzGoM,EAAOG,mBAAoB,GAG1BjQ,EAAK/C,MAAMiT,IAAIC,gBAAgBC,aAA8D,KAA/CpQ,EAAK/C,MAAMiT,IAAIC,gBAAgBC,cAC9EN,EAAOO,mBAAoB,GAGxBP,GAjGa9P,EAqGxBsQ,eAAiB,SAAC/E,GACdvL,EAAK/C,MAAM0I,QAAQ4B,QAAQ,GAC3BgE,EAAMgF,kBApGNvQ,EAAKwQ,MAAQ,CACT/G,OAAQ,IAJQzJ,wEA0GoJ,IAAA2C,EAAAvB,KAAAqP,EASpKrP,KAAKnE,MALLqE,GAJoKmP,EAGpKC,cAHoKD,EAIpKnP,eACAqE,EALoK8K,EAKpK9K,QAGGgL,GARiKF,EAMpKP,IANoKO,EAOpK1J,KAPoKxD,OAAA4D,GAAA,EAAA5D,CAAAkN,EAAA,2DAWlKjE,EAA0E,qBAA/ClL,EAAcC,SAASqP,qBAAsF,KAA/CtP,EAAcC,SAASqP,qBAA6E,OAA/CtP,EAAcC,SAASqP,oBACrKC,EAAwB,CAACrE,mBAAiB7G,WAC1CkK,EAAczO,KAAKyO,cACnBiB,IAAoBvN,OAAOwN,QAAQlB,GAAarB,OAChDwC,EAAiBzN,OAAOwN,QAAQlB,GAAarB,OAC/CtR,EAAAC,EAAAC,cAACqP,GAAarL,KAAKnE,MACd4S,EAAYI,kBACT/S,EAAAC,EAAAC,cAAA,UAAKjB,IAAKqJ,EAAE,+CAAZ,IAA4DtI,EAAAC,EAAAC,cAAA,KAAG6T,KAAK,KACL1T,QAAS6D,KAAKkP,gBACxEnU,IAAKqJ,EAAE,YAAgBrJ,IAAKqJ,EAAE,iBAFnC,KAE6D,KAChEqK,EAAYQ,kBACTnT,EAAAC,EAAAC,cAAA,UAAKjB,IAAKqJ,EAAE,qDAAZ,IAAkEtI,EAAAC,EAAAC,cAAA,KAC9D6T,KAAK,2EAA2EzF,OAAO,UACtFrP,IAAKqJ,EAAE,YAFZ,IAE6BrJ,IAAKqJ,EAAE,6BAAoC,MAEhF,KAGJ,OACItI,EAAAC,EAAAC,cAACY,EAADuF,OAAA6D,OAAA,GAA0BuJ,EAA1B,CAAsCjL,IAAKtE,KAAKnE,MAAM0I,QAAQD,MAC1DxI,EAAAC,EAAAC,cAACgB,EAAD,KACQlB,EAAAC,EAAAC,cAAC+O,GAAD5I,OAAA6D,OAAA,GAA8BhG,KAAKnE,MAAnC,CAA0CoD,MAAO,CAAC6Q,WAAY,YAC1DhU,EAAAC,EAAAC,cAAA,UAAK0T,EAAkB3U,IAAKqJ,EAAE,WAAarJ,IAAKqJ,EAAE,mBAAlD,KACAtI,EAAAC,EAAAC,cAAA,UAAK0T,EAAkB3U,IAAKqJ,EAAE,wDAA0DrJ,IAAKqJ,EAAE,wCAC/FtI,EAAAC,EAAAC,cAAA,QAAMiD,MAAO,CAAC8Q,QAAS,SAClB/P,KAAKyD,SAGTmM,EAED9T,EAAAC,EAAAC,cAACgU,GAAA,EAAD,CACIC,cAAejQ,KAAKoP,MACpBc,iBAAkBhI,GAClBiI,kBAAkB,EAClBC,oBAAoB,EACpBC,SAAU,SAACC,EAADC,GAA6BA,EAAnBC,gBAGnB,SAAAC,GAAA,IACK/B,EADL+B,EACK/B,OACAgC,EAFLD,EAEKC,QACAJ,EAHLG,EAGKH,OACAtD,EAJLyD,EAIKzD,cACAX,EALLoE,EAKKpE,gBALL,OAOGvQ,EAAAC,EAAAC,cAAA,QAAMiD,MAAO,CAACuM,UAAW,SACrB1P,EAAAC,EAAAC,cAAA,OAAKiD,MAAO,CACR8Q,QAAS,OACTY,aAAc,oBACdC,cAAe,SAEf9U,EAAAC,EAAAC,cAAC+N,GAAA,EAAD,CACI9K,MAAO,CAAC4R,KAAM,GACdnM,SAAUnD,EAAKkC,SAAWiM,EAC1BoB,MAAO/V,IAAKqJ,EAAE,oBACd4F,WAAS,EACTC,OAAO,SACPtG,QAAQ,WACR+G,KAAK,SACLqG,WAAYL,EAAQrI,QAAUqG,EAAOrG,OAAStN,IAAKqJ,EAAE,yBAA2BrJ,IAAKqJ,EAAE,2DACvFiK,MAAOqC,EAAQrI,QAAUqG,EAAOrG,UAAYqG,EAAOrG,OACnDR,MAAOyI,EAAOjI,OAAO2I,KAAK,KAC1B9G,SAAU,SAACC,GAAD,OAAgB5I,EAAK2I,SAASC,EAAO6C,EAAeX,IAC9D4E,OAAQ,SAAC9G,GAAD,OAAgB5I,EAAK8K,gBAAgBlC,EAAOkC,MAExDvQ,EAAAC,EAAAC,cAACwI,GAAA,EAAD,CACIb,QAAQ,YACRc,MAAM,UACNyM,KAAK,SACLxM,SAAUnD,EAAKkC,SAA8C,IAAnCtB,OAAOwN,QAAQe,GAAStD,QAAiBjL,OAAOwN,QAAQe,GAAStD,OAAS,GAAKjL,OAAOwN,QAAQjB,GAAQtB,OAAS,EACzIjR,QAAS,kBAAMoF,EAAK4P,SAAS5P,EAAK6N,MAAM/G,UACvC9G,EAAKkC,SACF3H,EAAAC,EAAAC,cAAA,OACI2I,IAAI,UACJC,IAAiF,2FACjFC,MAAM,OACNC,OAAO,OAAO7F,MAAO,CAAC8F,YAAa,MAC1CxD,EAAKkC,QAAU1I,IAAKqJ,EAAE,eAAiBrJ,IAAKqJ,EAAE,cAIvDtI,EAAAC,EAAAC,cAACkP,GAAqBuE,EAClB3T,EAAAC,EAAAC,cAAA,MAAIiD,MAAO,CAACmS,aAAc,IACrBrW,IAAKqJ,EAAE,sDADZ,KAGAtI,EAAAC,EAAAC,cAACwI,GAAA,EAAD,CAAQb,QAAQ,YACRc,MAAM,UACNC,SAAU0G,EACVjP,QAASoF,EAAKiN,YAEjBzT,IAAKqJ,EAAE,sBAQhCtI,EAAAC,EAAAC,cAACqV,GAAD,CACIvI,YAAa9I,KAAK8I,YAClBD,YAAa7I,KAAK6I,YAClBE,OAAQ/I,KAAK+N,gBAhOnBxL,IAAMC,kDAEvBwC,+EAA8B,gDAE9BA,+EAAkC,6CAmClC+D,gIAAkB,SAAAuI,EAAOjJ,GAAP,IAAA4F,EAAAE,EAAAD,EAAA,OAAA9K,EAAArH,EAAAsH,KAAA,SAAAkO,GAAA,cAAAA,EAAAhO,KAAAgO,EAAA/N,MAAA,cACfgO,EAAK/N,SAAU,EADA8N,EAAAhO,KAAA,EAAAgO,EAAA/N,KAAA,EAIYgO,EAAK3V,MAAMqE,cAAcC,SAASgR,SAAS9I,GAJvD,QAIL4F,EAJKsD,EAAA3J,MAMEvF,KAAKoP,mBACRtD,EAAsBqD,EAAK3V,MAAM6H,gBAAgB,uDAAwD,CAACC,QAAS,YACzHC,WAAW,kBAAM4N,EAAK3V,MAAMgI,cAAcsK,IAAsB,QAE1DD,EAAWsD,EAAK3V,MAAM6H,gBAAgBuK,EAAS5L,KAAKqP,mBAAmBC,OAAQ,CAAChO,QAAS,UAC/FC,WAAW,kBAAM4N,EAAK3V,MAAMgI,cAAcqK,IAAW,MAGzDsD,EAAK3V,MAAMqE,cAAcC,SAASyR,eAAe3D,EAAS5L,KAAKlC,UAdpDoR,EAAA/N,KAAA,gBAAA+N,EAAAhO,KAAA,EAAAgO,EAAAzN,GAAAyN,EAAA,SAiBXjD,QAAQC,IAARgD,EAAAzN,IAjBW,QAoBf0N,EAAK/N,SAAU,EApBA,yBAAA8N,EAAAxN,SAAAuN,EAAA,2FAiMRrM,2BAAawG,gWChT5B,gBAAMoG,GAAepW,IAAOC,IAAVoW,MA0BHC,GAZA,SAAA3M,GACX,OAD4BA,EAAf4M,KAETlW,EAAAC,EAAAC,cAAC6V,GAAD,KAEI/V,EAAAC,EAAAC,cAAA,OAAKC,UAAU,UACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,UACfH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WACfH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YANZ,sgECInB,OAAMgW,GAAkCxW,YAAOuB,EAAPvB,CAAHyW,KAsCjB,SAACrW,GAAD,OAAgBA,EAAM0I,QAAQc,MAAQ,QAAU,SAa9DgG,GAAW5P,IAAO6P,GAAV6G,MA0CRC,GAAe,SAAAhN,GAAuD,IAArDiN,EAAqDjN,EAArDiN,MAAOxK,EAA8CzC,EAA9CyC,MAAOqC,EAAuC9E,EAAvC8E,SAAUmE,EAA6BjJ,EAA7BiJ,MAAOyC,EAAsB1L,EAAtB0L,MAAOpG,EAAetF,EAAfsF,KAGnD4H,EAAYD,EAAM5Q,IAAI,SAAC8Q,EAAW5Q,GACpC,OACI7F,EAAAC,EAAAC,cAACwW,GAAA,EAAD,CAAU3K,MAAO0K,EAAKjQ,IAAMX,EAClBE,IAAK0Q,EAAK1Q,KAAO0Q,EAAKjQ,IAAKiQ,EAAKpO,aAAeoO,EAAK7H,MAAQ6H,EAAK3H,SAqBnF,OAhBA/C,EAAyB,qBAAVA,EAAwBA,EAAQ,GAE/CyK,EAAUG,OAAO,EAAG,EAChB3W,EAAAC,EAAAC,cAACwW,GAAA,EAAD,CAAU3K,MAAM,GAAGhG,IAAK6Q,KAAKC,UACzB7W,EAAAC,EAAAC,cAAA,oBAaJF,EAAAC,EAAAC,cAAC4W,GAAA,EAAD,CAAajP,QAAQ,WAAWqG,WAAS,GACrClO,EAAAC,EAAAC,cAAC6W,GAAA,EAAD,CAAYC,QAASpI,GAChBoG,GAELhV,EAAAC,EAAAC,cAAC+W,GAAA,EAAD,CACI1E,MAAwB,qBAAVA,EACdxG,MAAOA,EACPqC,SAAUA,EACV8I,MACIlX,EAAAC,EAAAC,cAACiX,GAAA,EAAD,CACIC,WAAY,GACZxI,KAAMA,EACNpI,GAAIoI,KAGX4H,KAeXa,GAFLpV,YAAO,gBAAiB,gBAAiB,cACzCC,+BAKG,SAAAmV,EAAYtX,GAAY,IAAA+C,EAAA,OAAAuD,OAAAuJ,EAAA,EAAAvJ,CAAAnC,KAAAmT,IACpBvU,EAAAuD,OAAAwJ,EAAA,EAAAxJ,CAAAnC,KAAAmC,OAAAyJ,EAAA,EAAAzJ,CAAAgR,GAAAzU,KAAAsB,KAAMnE,KAQVoQ,SATwB,eAAA3G,EAAAnD,OAAA+J,EAAA,EAAA/J,CAAAiB,EAAArH,EAAAoQ,KASb,SAAAjJ,EAAOkJ,EAAevE,EAAYwE,GAAlC,OAAAjJ,EAAArH,EAAAsH,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAWP6I,EAAgBD,GAAO,GAAM,GAXtB,wBAAA9I,EAAAS,SAAAb,MATa,gBAAAsJ,EAAAC,EAAAC,GAAA,OAAApH,EAAAqH,MAAA3M,KAAA4M,YAAA,GAAAhO,EAuBxBiO,kBAAoBC,oBAASlO,EAAKqN,SAAU,KAvBpBrN,EAyBxBsL,SAzBwB,eAAAxE,EAAAvD,OAAA+J,EAAA,EAAA/J,CAAAiB,EAAArH,EAAAoQ,KAyBb,SAAAY,EAAO5C,EAAY6C,EAAoBX,GAAvC,IAAAS,EAAAG,EAAAvC,EAAA7C,EAAAqF,EAAAN,UAAA,OAAAxJ,EAAArH,EAAAsH,KAAA,SAAA8J,GAAA,cAAAA,EAAA5J,KAAA4J,EAAA3J,MAAA,OAA6DsJ,IAA7DI,EAAAE,OAAA,QAAAC,IAAAH,EAAA,KAAAA,EAAA,GAAAD,EACe9C,EAAMC,OAArBM,EADAuC,EACAvC,KAAM7C,EADNoF,EACMpF,MAEbmF,EAActC,EAAM7C,GAEhBiF,GACA3C,EAAMuD,UACN9O,EAAKiO,kBAAkBnC,EAAM7C,EAAOwE,IAEpCzN,EAAKqN,SAASvB,EAAM7C,EAAOwE,GATxB,wBAAAc,EAAApJ,SAAAgJ,MAzBa,gBAAAY,EAAAC,EAAAC,GAAA,OAAAnI,EAAAiH,MAAA3M,KAAA4M,YAAA,GAAAhO,EAsCxByN,gBAAkB,SAAClC,EAAYkC,GAE3BA,EADelC,EAAMC,OAAdM,MACe,GAAM,IAxCR9L,EA2CxByR,SA3CwB,eAAAE,EAAApO,OAAA+J,EAAA,EAAA/J,CAAAiB,EAAArH,EAAAoQ,KA2Cb,SAAA6B,EAAOsC,EAAPxK,GAAA,IAAA0K,EAAA4C,EAAAjT,EAAAsK,EAAA,OAAArH,EAAArH,EAAAsH,KAAA,SAAA+K,GAAA,cAAAA,EAAA7K,KAAA6K,EAAA5K,MAAA,cAAkCgN,EAAlC1K,EAAkC0K,cAAe4C,EAAjDtN,EAAiDsN,UAClDjT,EAAWvB,EAAK/C,MAAMqE,cAAcC,SACpCsK,EAAuD,KAAtB6F,EAAO7F,gBAAoB4C,EAAYgG,OAAO/C,EAAO7F,YAE5FtK,EAASmT,YAAY7I,GACrBtK,EAASoK,gBAAkB+F,EAAO/F,gBAClCpK,EAASuK,KAAO4F,EAAO5F,KACvBvK,EAASY,kBAAoBuP,EAAOvP,kBAP7BqN,EAAA7K,KAAA,EAAA6K,EAAA5K,KAAA,GASG5E,EAAKqE,OATR,QAAAmL,EAAA5K,KAAA,iBAAA4K,EAAA7K,KAAA,GAAA6K,EAAAtK,GAAAsK,EAAA,iBAaPoC,GAAc,GACd4C,IAdO,yBAAAhF,EAAArK,SAAAiK,EAAA,kBA3Ca,gBAAAuF,EAAAC,GAAA,OAAAjD,EAAA5D,MAAA3M,KAAA4M,YAAA,GAAAhO,EA4DxBqE,KA5DwBd,OAAA+J,EAAA,EAAA/J,CAAAiB,EAAArH,EAAAoQ,KA4DjB,SAAAmF,IAAA,IAAAnR,EAAA0B,EAAAqM,EAAA,OAAA9K,EAAArH,EAAAsH,KAAA,SAAAkO,GAAA,cAAAA,EAAAhO,KAAAgO,EAAA/N,MAAA,cACGrD,EAAWvB,EAAK/C,MAAMqE,cAAcC,SAE1CvB,EAAK0N,SAAS,CAAC7I,SAAS,IAHrB8N,EAAAhO,KAAA,EAAAgO,EAAAhO,KAAA,EAAAgO,EAAA/N,KAAA,EAMWrD,EAAS8C,OANpB,OAAAsO,EAAA/N,KAAA,gBAAA+N,EAAAhO,KAAA,EAAAgO,EAAAzN,GAAAyN,EAAA,iBAUO1P,EAAMjD,EAAK/C,MAAM6H,gBAAgB,sBAAuB,CAACC,QAAS,YAExEC,WAAW,kBAAMhF,EAAK/C,MAAMgI,cAAchC,IAAM,MAZjD0P,EAAA/N,KAAA,iBAAA+N,EAAAhO,KAAA,GAAAgO,EAAAkC,GAAAlC,EAAA,SAcOrD,EAAWtP,EAAK/C,MAAM6H,gBAAgB,mDAAoD,CAACC,QAAS,UAE1GC,WAAW,kBAAMhF,EAAK/C,MAAMgI,cAAcqK,IAAW,KAhBtD,eAkBHtP,EAAK0N,SAAS,CAAC7I,SAAS,IAlBrB8N,EAAA5J,OAAA,mCAAA4J,EAAAxN,SAAAuN,EAAA,wBA5DiB1S,EAmFxB8U,iBAAmB,SAACpR,EAAiB+J,EAAsBW,GACvDA,EAAc,aAAc1K,GAC5B+J,EAAgB,cAAc,GAAM,IArFhBzN,EAwFxB+U,sBAAwB,SAACrR,EAAiB+J,EAAsBW,GAC5DA,EAAc,kBAAmB1K,GACjC+J,EAAgB,mBAAmB,GAAM,IAvFzCzN,EAAKwQ,MAAQ,CACT3L,SAAS,EACTmQ,mBAAmB,GALHhV,wEAyGoJ,IAAA2C,EAAAvB,KAAAqP,EAIpKrP,KAAKnE,MAFLqE,EAFoKmP,EAEpKnP,cACAoP,EAHoKD,EAGpKC,cAGJ,OACIxT,EAAAC,EAAAC,cAACY,EAADuF,OAAA6D,OAAA,GAA0BhG,KAAKnE,MAA/B,CAAsCyI,IAAKtE,KAAKnE,MAAM0I,QAAQD,MAC1DxI,EAAAC,EAAAC,cAAC6X,GAAD,CAAQ7B,KAAM9R,EAAc4T,cAC5BhY,EAAAC,EAAAC,cAACiW,GAAqCjS,KAAKnE,MACvCC,EAAAC,EAAAC,cAAA,UAAKjB,IAAKqJ,EAAE,2BACZtI,EAAAC,EAAAC,cAAA,UAAKjB,IAAKqJ,EAAE,kCAAZ,KAEAtI,EAAAC,EAAAC,cAAA,QAAMiD,MAAO,CAAC8Q,QAAS,SACV/P,KAAKoP,MAAM3L,QAAU,UAAY,KACzCsQ,KAAKC,UAAU9T,EAAc+T,iBAIlCnY,EAAAC,EAAAC,cAACgU,GAAA,EAAD,CACIC,cAAejQ,KAAKiQ,cACpBC,iBAAkB5F,KAClB6F,kBAAkB,EAClBC,oBAAoB,EACpBC,SAAUrQ,KAAKqQ,UAEd,SAAA6D,GASY,IARPC,EAQOD,EARPC,MACAC,EAOOF,EAPPE,QACA1F,EAMOwF,EANPxF,OACAgC,EAKOwD,EALPxD,QACAJ,EAIO4D,EAJP5D,OACAtD,EAGOkH,EAHPlH,cACAX,EAEO6H,EAFP7H,gBACAgI,EACOH,EADPG,aAEF,OACIvY,EAAAC,EAAAC,cAAA,QAAMqU,SAAUgE,GAEJvY,EAAAC,EAAAC,cAAA,QAAMiD,MAAO,CAAC8Q,QAAS,SAChBgE,KAAKC,UAAUtF,EAAOjE,YACxBsJ,KAAKC,UAAUtF,EAAOnE,iBACtBwJ,KAAKC,UAAU,CAACI,aAE7BtY,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAACsY,GAAD,KACIxY,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,UACKjB,IAAKqJ,EAAE,qBAEZtI,EAAAC,EAAAC,cAACuY,GAAD,CACIzD,MAAO/V,IAAKqJ,EAAE,YACdiO,MAAO/C,EAAckF,UACrB3M,MAAOyI,EAAO7F,WACd4D,MAAOK,EAAOjE,WACdC,KAAM,aACNR,SAAU,SAAChO,GAAD,OAAmBqF,EAAKmS,iBAAiBxX,EAASkO,OAAOvC,MAAOwE,EAAiBW,MAE/FlR,EAAAC,EAAAC,cAAA,OAAKiD,MAAO,CACRgL,OAAQ,aACRxF,MAAO,WACPgQ,SAAU,YACV/F,EAAOjE,YACX3O,EAAAC,EAAAC,cAAC+N,GAAA,EAAD,CACI+G,MAAO/V,IAAKqJ,EAAE,iBACd4F,WAAS,EACTC,OAAO,SACPtG,QAAQ,WACRoN,WAAYL,EAAQhG,MAAQgE,EAAOhE,MAAQgE,EAAOhE,KAClD2D,MAAOqC,EAAQhG,MAAQgE,EAAOhE,QAAUgE,EAAOhE,KAC/C7C,MAAOyI,EAAO5F,KACdR,SAAU,SAACC,GAAD,OAAgB5I,EAAK2I,SAASC,EAAO6C,EAAeX,IAC9D4E,OAAQ,SAAC9G,GAAD,OAAgB5I,EAAK8K,gBAAgBlC,EAAOkC,IACpD3B,KAAK,OACLjD,KAAK,UAGb3L,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,UACKjB,IAAKqJ,EAAE,qBAEZtI,EAAAC,EAAAC,cAACuY,GAAD,CACIzD,MAAO/V,IAAKqJ,EAAE,kBACdiO,MAAOnS,EAAc+T,eACrBpM,MAAOyI,EAAO/F,gBACd8D,MAAOqC,EAAQnG,iBAAmBmE,EAAOnE,gBACzCG,KAAM,kBACNR,SAAU,SAAChO,GAAD,OAAmBqF,EAAKoS,sBAAsBzX,EAASkO,OAAOvC,MAAOwE,EAAiBW,MAEpGlR,EAAAC,EAAAC,cAAA,OAAKiD,MAAO,CACRgL,OAAQ,aACRxF,MAAO,WACPgQ,SAAU,YACV/D,EAAQnG,iBAAmBmE,EAAOnE,iBACtCzO,EAAAC,EAAAC,cAAC+N,GAAA,EAAD,CACI+G,MAAO/V,IAAKqJ,EAAE,gBACd4F,WAAS,EACTC,OAAO,SACPtG,QAAQ,WACRoN,WAAYL,EAAQ3P,mBAAqB2P,EAAQ3P,kBAAkBC,SAAW0N,EAAO3N,mBAAqB2N,EAAO3N,kBAAkBC,QACnIqN,MAAOqC,EAAQ3P,mBAAqB2P,EAAQ3P,kBAAkBC,SAAW0N,EAAO3N,qBAAuB2N,EAAO3N,kBAAkBC,QAChI6G,MAAOyI,EAAOvP,kBAAkBC,QAChCkJ,SAAU,SAACC,GAAD,OAAgB5I,EAAK2I,SAASC,EAAO6C,EAAeX,IAC9D4E,OAAQ,SAAC9G,GAAD,OAAgB5I,EAAK8K,gBAAgBlC,EAAOkC,IACpD3B,KAAK,4BACLjD,KAAK,SAET3L,EAAAC,EAAAC,cAAC+N,GAAA,EAAD,CACI+G,MAAO/V,IAAKqJ,EAAE,SACd4F,WAAS,EACTC,OAAO,SACPtG,QAAQ,WACRoN,WAAYL,EAAQ3P,mBAAqB2P,EAAQ3P,kBAAkB6J,OAAS8D,EAAO3N,mBAAqB2N,EAAO3N,kBAAkB6J,MACjIyD,MAAOqC,EAAQ3P,mBAAqB2P,EAAQ3P,kBAAkB6J,OAAS8D,EAAO3N,qBAAuB2N,EAAO3N,kBAAkB6J,MAC9H/C,MAAOyI,EAAOvP,kBAAkB6J,MAChCV,SAAU,SAACC,GAAD,OAAgB5I,EAAK2I,SAASC,EAAO6C,EAAeX,IAC9D4E,OAAQ,SAAC9G,GAAD,OAAgB5I,EAAK8K,gBAAgBlC,EAAOkC,IACpD3B,KAAK,0BACLjD,KAAK,SAET3L,EAAAC,EAAAC,cAAC+N,GAAA,EAAD,CACI+G,MAAO/V,IAAKqJ,EAAE,gBACd4F,WAAS,EACTC,OAAO,SACPtG,QAAQ,WACRoN,WAAYL,EAAQ3P,mBAAqB2P,EAAQ3P,kBAAkB+J,aAAe4D,EAAO3N,mBAAqB2N,EAAO3N,kBAAkB+J,YACvIuD,MAAOqC,EAAQ3P,mBAAqB2P,EAAQ3P,kBAAkB+J,aAAe4D,EAAO3N,qBAAuB2N,EAAO3N,kBAAkB+J,YACpIjD,MAAOyI,EAAOvP,kBAAkB+J,YAChCZ,SAAU,SAACC,GAAD,OAAgB5I,EAAK2I,SAASC,EAAO6C,EAAeX,IAC9D4E,OAAQ,SAAC9G,GAAD,OAAgB5I,EAAK8K,gBAAgBlC,EAAOkC,IACpD3B,KAAK,gCACLjD,KAAK,SAET3L,EAAAC,EAAAC,cAAC+N,GAAA,EAAD,CACI+G,MAAO/V,IAAKqJ,EAAE,QACd4F,WAAS,EACTC,OAAO,SACPtG,QAAQ,WACRoN,WAAYL,EAAQ3P,mBAAqB2P,EAAQ3P,kBAAkBE,MAAQyN,EAAO3N,mBAAqB2N,EAAO3N,kBAAkBE,KAChIoN,MAAOqC,EAAQ3P,mBAAqB2P,EAAQ3P,kBAAkBE,MAAQyN,EAAO3N,qBAAuB2N,EAAO3N,kBAAkBE,KAC7H4G,MAAOyI,EAAOvP,kBAAkBE,KAChCiJ,SAAU,SAACC,GAAD,OAAgB5I,EAAK2I,SAASC,EAAO6C,EAAeX,IAC9D4E,OAAQ,SAAC9G,GAAD,OAAgB5I,EAAK8K,gBAAgBlC,EAAOkC,IACpD3B,KAAK,yBACLjD,KAAK,SAET3L,EAAAC,EAAAC,cAAC+N,GAAA,EAAD,CACI+G,MAAO/V,IAAKqJ,EAAE,aACd4F,WAAS,EACTC,OAAO,SACPtG,QAAQ,WACRoN,WAAYL,EAAQ3P,mBAAqB2P,EAAQ3P,kBAAkB8J,UAAY6D,EAAO3N,mBAAqB2N,EAAO3N,kBAAkB8J,SACpIwD,MAAOqC,EAAQ3P,mBAAqB2P,EAAQ3P,kBAAkB8J,UAAY6D,EAAO3N,qBAAuB2N,EAAO3N,kBAAkB8J,SACjIhD,MAAOyI,EAAOvP,kBAAkB8J,SAChCX,SAAU,SAACC,GAAD,OAAgB5I,EAAK2I,SAASC,EAAO6C,EAAeX,IAC9D4E,OAAQ,SAAC9G,GAAD,OAAgB5I,EAAK8K,gBAAgBlC,EAAOkC,IACpD3B,KAAK,6BACLjD,KAAK,WAQjB3L,EAAAC,EAAAC,cAACwI,GAAA,EAAD,CAAQb,QAAQ,YACRc,MAAM,UACNyM,KAAK,QACLzJ,KAAK,SACL/C,SAAUnD,EAAK6N,MAAM3L,UAAY0Q,IAAUC,GAE9C7S,EAAK6N,MAAM3L,SACR3H,EAAAC,EAAAC,cAAA,OACI2I,IAAI,UACJC,IAAqF,2FACrFC,MAAM,OACNC,OAAO,OAAO7F,MAAO,CAAC8F,YAAa,MAC1CxD,EAAK6N,MAAM3L,QAAU1I,IAAKqJ,EAAE,WAAarJ,IAAKqJ,EAAE,2DA3LjF,IAAMjE,EAAWH,KAAKnE,MAAMqE,cAAcC,SAE1C,MAAO,CACHoK,gBAAiBpK,EAASyO,OAAOrE,gBAAkBpK,EAASyO,OAAOrE,gBAAkB,GACrFG,KAAMvK,EAASyO,OAAOlE,KACtB3J,kBAAmBZ,EAASyO,OAAO7N,kBACnC0J,WAAYtK,EAASyO,OAAOjO,SAAWR,EAASyO,OAAOjO,SAAS2B,GAAK,WAzGpDC,IAAMC,cAExBC,iBAAkB,kDA+FxBiS,mGAyMUzP,2BAAakO,wBCxaZwB,GAhCf5W,YAAO,gBAAiB,cACxBC,gMAGO,OACIlC,EAAAC,EAAAC,cAAC4Y,GAAA,EAAD,CAAgBC,IAAK7U,KAAKnE,MAAM0I,QAAQsQ,KACpC/Y,EAAAC,EAAAC,cAAC8Y,GAAA,EAAD,CAAeC,MAAO/U,KAAKnE,MAAM0I,QAAQwQ,OACrCjZ,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACXH,EAAAC,EAAAC,cAACgZ,GAAD,CAAgBrP,KAAM,GAClB7J,EAAAC,EAAAC,cAACiZ,GAAD,OAGJnZ,EAAAC,EAAAC,cAACgZ,GAAD,CAAgBrP,KAAM,GAClB7J,EAAAC,EAAAC,cAACkZ,GAAD,KACIpZ,EAAAC,EAAAC,cAACmZ,GAAD,MACArZ,EAAAC,EAAAC,cAACoZ,EAAD,QAIRtZ,EAAAC,EAAAC,cAACgZ,GAAD,CAAgBrP,KAAM,GAClB7J,EAAAC,EAAAC,cAACqZ,GAAD,OAGJvZ,EAAAC,EAAAC,cAACsZ,GAAD,CAASnP,QAASnG,KAAKnE,MAAM0I,QAAQ4B,oBArB3C3D,uBCLE+S,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,gMC6DSC,kBAxCX,SAAAA,EAAY9G,GAAe3M,OAAAuJ,EAAA,EAAAvJ,CAAAnC,KAAA4V,GAAA5V,KA7B3B8O,SA6B0B,EAAA9O,KA5B1B6V,QAAeC,aAAO,CAACC,QAAQ5T,OAAA6T,GAAA,EAAA7T,CAAK8T,eAAYF,WA4BtB/V,KA3B1BkW,QAAeJ,aAAO,CAACC,QAAO,GAAAjV,OAAAqB,OAAA6T,GAAA,EAAA7T,CAAM8T,eAAYF,SAAlB,CAA2BI,WA2B/BnW,KAzB1BoW,UAAiBC,aAAe,CAC5BC,UAAW,MACXC,QAAS,CACLC,QAAS,CACLC,KAAM,UACNC,aAAc,YAoBA1W,KAf1B2W,UAAiBN,aAAe,CAC5BE,QAAS,CACLC,QAAS,CACLC,KAAM,UACNC,aAAc,YAWAvU,OAAA0J,EAAA,EAAA1J,CAAAnC,KAAA,SAAA4W,GAAA5W,MAAAmC,OAAA0J,EAAA,EAAA1J,CAAAnC,KAAA,eAAA6W,GAAA7W,MAAAmC,OAAA0J,EAAA,EAAA1J,CAAAnC,KAAA,qBAAA8W,GAAA9W,MAAAmC,OAAA0J,EAAA,EAAA1J,CAAAnC,KAAA,YAAA+W,GAAA/W,MAAAmC,OAAA0J,EAAA,EAAA1J,CAAAnC,KAAA,UAAAgX,GAAAhX,MACtBA,KAAK8O,IAAMA,EACX9O,KAAKiX,4DAUL,OAAOjX,KAAKqF,MAAQ,MAAQ,oCAI5B,MAAwB,UAAhBrF,KAAKkX,yCAIb,OAAOlX,KAAKqF,MAAQ,QAAU,mCAI9B,OAAOrF,KAAKqF,MAAQrF,KAAKkW,QAAUlW,KAAK6V,sCAIxC,OAAO7V,KAAKqF,MAAQrF,KAAKoW,UAAYpW,KAAK2W,kDAQ1C,MAAmC,UAA5B3W,KAAKmX,kEA1CfnS,8EAA4B,kDAE5BA,+EAA0B,uDAE1BA,8EAAiD,kDAOjD+D,+GAAmB,SAAA7F,IAAA,IAAA+K,EAAA,OAAA7K,EAAArH,EAAAsH,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACO5E,EAAKkQ,IAAIsI,YADhB,cACVnJ,EADU3K,EAAAsE,KAAAtE,EAAAE,KAAA,EAEV6T,IAAQC,eAAerJ,EAASiJ,QAFtB,OAGhBtY,EAAKsY,OAASjJ,EAASiJ,OAHP,wBAAA5T,EAAAS,SAAAb,yCAMnBwR,0GAIAA,gHAIAA,8GAIAA,0GAIAA,iHAIA3L,0FAAiB,SAACpD,GACfpE,EAAKqE,aAAeD,kDAGvB+O,4GClEgB6C,kBAgCjB,SAAAA,EAAYC,EAAsBlI,GAA8C,IAAA1Q,EAAAoB,KAAhB6B,EAAgB+K,UAAAQ,OAAA,QAAAC,IAAAT,UAAA,GAAAA,UAAA,GAAV6K,OAAUtV,OAAAuJ,EAAA,EAAAvJ,CAAAnC,KAAAuX,GAAAvX,KA9BhFwX,WA8BgF,EAAAxX,KA5BhFsC,GAAoB,KA4B4DtC,KA1BhF0X,aA0BgF,EAAA1X,KAxBhF2X,eAAyB,GAwBuD3X,KAtBhF6B,SAsBgF,EAAA7B,KApBhF4X,OAAiB,QAoB+DzV,OAAA0J,EAAA,EAAA1J,CAAAnC,KAAA,WAAA6X,GAAA7X,MAAAmC,OAAA0J,EAAA,EAAA1J,CAAAnC,KAAA,gBAAA8X,GAAA9X,MAAAmC,OAAA0J,EAAA,EAAA1J,CAAAnC,KAAA,OAAA+X,GAAA/X,MAAAmC,OAAA0J,EAAA,EAAA1J,CAAAnC,KAAA,oBAAAgY,GAAAhY,MAAAmC,OAAA0J,EAAA,EAAA1J,CAAAnC,KAAA,kBAAAiY,GAAAjY,MAAAmC,OAAA0J,EAAA,EAAA1J,CAAAnC,KAAA,sBAAAkY,GAAAlY,WAgChFsT,YAAc,SAAC7I,GACX,IAAI9J,EAEsB,qBAAf8J,IACP9J,EAAW/B,EAAK0Q,cAAc6I,YAAY1N,IAG1C7L,EAAK+B,SADLA,EACgB/B,EAAK0Q,cAAc8I,eAAezX,GAElCA,GAzCwDX,KA2EhFiD,KA3EgFd,OAAA+J,EAAA,EAAA/J,CAAAiB,EAAArH,EAAAoQ,KA2EzE,SAAAjJ,IAAA,IAAA+K,EAAA,OAAA7K,EAAArH,EAAAsH,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACyB5E,EAAK4Y,MAAM1I,IAAIuJ,aAAazZ,EAAKgQ,QAD1D,cACGX,EADH3K,EAAAsE,KAEHhJ,EAAKgT,eAAe3D,EAAS9N,UAF1BmD,EAAAqE,OAAA,SAGIsG,GAHJ,wBAAA3K,EAAAS,SAAAb,MA3EyElD,KAiFhFmR,SAjFgF,eAAA7L,EAAAnD,OAAA+J,EAAA,EAAA/J,CAAAiB,EAAArH,EAAAoQ,KAiFrE,SAAAY,EAAO1E,GAAP,IAAA4F,EAAA,OAAA7K,EAAArH,EAAAsH,KAAA,SAAA8J,GAAA,cAAAA,EAAA5J,KAAA4J,EAAA3J,MAAA,cAAA2J,EAAA3J,KAAA,EACqB5E,EAAK4Y,MAAM1I,IAAIqC,SAASvS,EAAKgQ,OAAQvG,GAD1D,cACD4F,EADCd,EAAAvF,KAAAuF,EAAAxF,OAAA,SAEAsG,GAFA,wBAAAd,EAAApJ,SAAAgJ,MAjFqE,gBAAAP,GAAA,OAAAlH,EAAAqH,MAAA3M,KAAA4M,YAAA,GAAA5M,KAsFhF+N,KAtFgF5L,OAAA+J,EAAA,EAAA/J,CAAAiB,EAAArH,EAAAoQ,KAsFzE,SAAA6B,IAAA,OAAA5K,EAAArH,EAAAsH,KAAA,SAAA+K,GAAA,cAAAA,EAAA7K,KAAA6K,EAAA5K,MAAA,cAAA4K,EAAA5K,KAAA,EACU5E,EAAK4Y,MAAM1I,IAAIf,KAAKnP,EAAKgQ,QADnC,cAAAR,EAAAzG,OAAA,SAAAyG,EAAAxG,MAAA,wBAAAwG,EAAArK,SAAAiK,MArFHhO,KAAKwX,MAAQA,EACbxX,KAAK0X,QAAU1X,KAAKwX,MAAMc,mBAC1BtY,KAAKsP,cAAgBA,EACrBtP,KAAK6B,IAAMA,EACX7B,KAAKW,SAAWX,KAAKsP,cAAc8I,eAAepY,KAAKsP,cAAckF,UAAU,0DAqBhD,IAAnBpU,EAAmBwM,UAAAQ,OAAA,QAAAC,IAAAT,UAAA,GAAAA,UAAA,GAAJ,GACvB5M,KAAKW,WACLX,KAAKW,SAASP,KAAOA,0CAkBdmY,GACNA,IAGLvY,KAAK2X,eAAiBY,EAAKZ,eAC3B3X,KAAKuK,gBAAkBgO,EAAKhO,gBAC5BvK,KAAKwP,oBAAsB+I,EAAK/I,oBAChCxP,KAAKsC,GAAK+Q,OAAOkF,EAAKjW,IACtBtC,KAAK0K,KAAO6N,EAAK7N,KACjB1K,KAAK6B,IAAM0W,EAAK1W,IAChB7B,KAAK4X,OAASW,EAAKX,OACnB5X,KAAKe,kBAAoBwX,EAAKxX,kBAC9Bf,KAAKW,SAAWX,KAAKsP,cAAc8I,eAAeG,EAAK5X,uDAGE,IAAnCwG,EAAmCyF,UAAAQ,OAAA,QAAAC,IAAAT,UAAA,GAAAA,UAAA,GAAN,KAC/C5M,KAAKW,UACLX,KAAKW,SAASyG,kBAAkBD,8CAIb7E,GACvBtC,KAAKuK,gBAAkBjI,iCA3DvB,IAAMiW,EAAOxE,KAAKyE,MACdzE,KAAKC,UAAU,CACX1R,GAAItC,KAAKsC,GACTT,IAAK7B,KAAK6B,IACV8V,eAAgB3X,KAAK2X,eACrB5W,kBAAmBf,KAAKe,kBACxB6W,OAAQ5X,KAAK4X,OACblN,KAAM1K,KAAK0K,KACXH,gBAAiBvK,KAAKuK,gBACtBiF,oBAAqBxP,KAAKwP,oBAC1BkI,QAAS1X,KAAK0X,WAItB,OADAa,EAAK5X,SAAWX,KAAKW,UAAYX,KAAKW,SAASiO,OACxC2J,yCAiDP,OAAQvY,KAAKW,UAAYX,KAAKW,SAASqD,eAAkBhE,KAAKW,SAASqD,eAAiB,sDA1F3FgB,iHAEAA,wGAEAA,8EAA0B,uDAE1BA,8EAA+B,CAC5BhE,QAAS,GACT4J,MAAO,GACP3J,KAAM,GACN6J,YAAa,GACbD,SAAU,sDAGb7F,8EAAkC,yDAElCA,uGAUA0P,+GAkBA3L,0HAmCAA,qIAMAA,kIAIA2L,uFCxGgB+D,kBAgBjB,SAAAA,EAAYnJ,EAA8B/K,EAAkBuK,GAAc,IAAAlQ,EAAAoB,KAAAmC,OAAAuJ,EAAA,EAAAvJ,CAAAnC,KAAAyY,GAAAzY,KAd1E8O,SAc0E,EAAA3M,OAAA0J,EAAA,EAAA1J,CAAAnC,KAAA,cAAA0Y,GAAA1Y,MAAAmC,OAAA0J,EAAA,EAAA1J,CAAAnC,KAAA,UAAA2Y,GAAA3Y,MAAAmC,OAAA0J,EAAA,EAAA1J,CAAAnC,KAAA,YAAA4Y,GAAA5Y,MAAAmC,OAAA0J,EAAA,EAAA1J,CAAAnC,KAAA,WAAA6Y,GAAA7Y,MAAAmC,OAAA0J,EAAA,EAAA1J,CAAAnC,KAAA,gBAAA8Y,GAAA9Y,MAAAmC,OAAA0J,EAAA,EAAA1J,CAAAnC,KAAA,iBAAA+Y,GAAA/Y,WAO1EgZ,aAP0E,eAAA5T,EAAAjD,OAAA+J,EAAA,EAAA/J,CAAAiB,EAAArH,EAAAoQ,KAO3D,SAAAjJ,EAAO/C,GAAP,IAAA8Y,EAAAC,EAAA,OAAA9V,EAAArH,EAAAsH,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACX5E,EAAKkV,aAAc,EACbmF,EAAQra,EAAKkQ,IAAIqK,oBACnBD,EAAgBta,EAAKkQ,IAAIsK,oBAAoBjZ,EAASuX,SAH/CpU,EAAAQ,GAKXlF,EALW0E,EAAAE,KAAA,EAKkByV,EALlB,cAAA3V,EAAAmQ,GAAAnQ,EAAAsE,KAAAtE,EAAAQ,GAKNuV,kBALM3a,KAAA4E,EAAAQ,GAAAR,EAAAmQ,IAAAnQ,EAAAgW,GAMX1a,EAAKuB,SANMmD,EAAAE,KAAA,GAMwB0V,EANxB,QAAA5V,EAAAiW,GAAAjW,EAAAsE,KAAAtE,EAAAgW,GAMG1H,eANHlT,KAAA4E,EAAAgW,GAAAhW,EAAAiW,IAOX3a,EAAKkV,aAAc,EAPR,yBAAAxQ,EAAAS,SAAAb,MAP2D,gBAAAsJ,GAAA,OAAApH,EAAAuH,MAAA3M,KAAA4M,YAAA,GACtE5M,KAAKsP,cAAgBA,EACrBtP,KAAKG,SAAW,IAAIoX,GAASvX,KAAMsP,GACnCtP,KAAK8O,IAAMA,EACX9O,KAAKgZ,aAAahZ,KAAKG,wEAaD8Y,GAClBA,IACAjZ,KAAKiU,eAAiBgF,EAAMxX,IAAI,SAAC+X,GAAD,MAAgB,CAAClX,GAAIkX,EAAKlX,GAAI6B,YAAaqV,EAAK9O,sDAYnE6N,GACjB,IAAIpY,EAAWH,KAAKyZ,UAAUC,KAAK,SAAAvZ,GAAQ,OAAIA,EAASmC,KAAOiW,EAAKjW,KAMpE,OALKnC,IACDA,EAAW,IAAIoX,GAASvX,KAAMA,KAAKsP,eACnCtP,KAAKyZ,UAAUE,KAAKxZ,IAExBA,EAASyR,eAAe2G,GACjBpY,sJAIPH,KAAKyD,SAAU,WACQzD,KAAK8O,IAAIuJ,aAAarY,KAAKG,wBAA5C8N,kBACA,IAAI2L,QAAQ,SAACC,EAAIC,GACnBlW,WAAW,kBAAMiW,KAAM,qBAE3B7Z,KAAKyD,SAAU,oBACRwK,qQAKHwL,EAAwB,qBAGLzZ,KAAK8O,IAAIiL,uBAAtB1X,SACNoX,EAAYpX,EAAKZ,IAAI,SAACtB,GAAD,OAA2CoB,EAAKyY,qBAAqB7Z,sFAIvFsZ,6IAGJnX,GAEH,IAAInC,EAAiCH,KAAKyZ,UAAUC,KAAK,SAAAvZ,GAAQ,OAAIA,EAASmC,KAAOA,IAEjFnC,IACAH,KAAKG,SAAWA,8CAKpB,IAAM8Z,EAAM,IAAIC,IAAI1E,OAAOC,SAAS5F,MACpC,OAAOwD,OAAO4G,EAAIE,aAAaC,IAAI,qDAGc,IAAnCjT,EAAmCyF,UAAAQ,OAAA,QAAAC,IAAAT,UAAA,GAAAA,UAAA,GAAN,KAC3C5M,KAAKG,SAASiH,kBAAkBD,4CAvDhC,SAAQnH,KAAKG,SAASQ,WAAYX,KAAKG,SAASQ,SAASsH,mBAAoBjI,KAAKG,SAASQ,SAASsH,6DAIpG,OAAQjI,KAAKG,SAASQ,UAAYX,KAAKG,SAASQ,SAAS0Z,oBAAuBra,KAAKG,SAASQ,SAAS0Z,oBAAsB,yDAxChIrV,+EAAkC,4CAElCA,+EAA8B,8CAE9BA,8EAAmC,8CAEnCA,iHAEAA,kHAEAA,8EAAiC,oDAmBjC+D,mIAMA2L,qIAIAA,4FClDgB4F,GAKjB,SAAAA,EAAY/H,GAAYpQ,OAAAuJ,EAAA,EAAAvJ,CAAAnC,KAAAsa,GAAAta,KAJxBua,QAIuB,EAAAva,KAHvBwa,UAGuB,EAAAxa,KAFvB4K,WAEuB,EACnBzI,OAAO6D,OAAOhG,KAAMuS,ICJPkI,GAOjB,SAAAA,EAAYC,GAAYvY,OAAAuJ,EAAA,EAAAvJ,CAAAnC,KAAAya,GAAAza,KANxB8Q,WAMuB,EAAA9Q,KALvB0K,UAKuB,EAAA1K,KAJvB6H,WAIuB,EAAA7H,KAHvB2a,aAGuB,EAAA3a,KAFvBqS,WAEuB,EACnBlQ,OAAO6D,OAAOhG,KAAM0a,GAEhB1a,KAAKqS,QACLrS,KAAKqS,MAAQrS,KAAKqS,MAAM5Q,IAAI,SAAA8Q,GAAI,OAAI,IAAI+H,GAAS/H,OCU9CqI,OAdX,SAAAA,EAAYC,GAAoB1Y,OAAAuJ,EAAA,EAAAvJ,CAAAnC,KAAA4a,GAAA5a,KAJhC6a,aAI+B,EAAA1Y,OAAA0J,EAAA,EAAA1J,CAAAnC,KAAA,QAAA8a,GAAA9a,MAAAmC,OAAA0J,EAAA,EAAA1J,CAAAnC,KAAA,QAAA+a,GAAA/a,MAC3BA,KAAK6a,QAAUA,EACf7a,KAAKgb,8CAJRhW,8EAA2B,2CAO3B+D,+GAAe,SAAA7F,IAAA,IAAAmP,EAAA,OAAAjP,EAAArH,EAAAsH,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UACP5E,EAAKyT,MAAMjF,OADJ,CAAA9J,EAAAE,KAAA,eAAAF,EAAAE,KAAA,EAEY5E,EAAKic,QAAQG,QAFzB,OAEF3I,EAFE/O,EAAAsE,KAGRhJ,EAAKyT,MAAQA,EAAM5Q,IAAI,SAAA8Q,GAAI,OAAI,IAAIkI,GAAKlI,KAHhC,wBAAAjP,EAAAS,SAAAb,wnBCVpB,IAAM+X,GAAaxf,YAAOiB,EAAPjB,CAAHyf,KAIS,SAACrf,GAAD,MAAgC,UAAfA,EAAMqV,KAAoB,SAAW,OACvD,SAACrV,GAAD,OAAgBA,EAAMsf,SAAW,UAAY,eAQpD,SAACtf,GAAD,MAAgC,UAAfA,EAAMqV,KAAoB,QAAU,UAGhEkK,GAAQ3f,IAAO4f,MAAVC,KAGF,SAACzf,GAAD,MAAgC,UAAfA,EAAMqV,KAAoB,OAAS,SAClD,SAACrV,GAAD,MAAgC,UAAfA,EAAMqV,KAAoB,OAAS,OAGxC,SAACrV,GAAD,MAAgC,UAAfA,EAAMqV,KAAoB,IAAM,SA8EzDqK,GAxEF,SAAC1f,GAEV,IAAM2f,EAAO3f,EAAMwG,KAAKmZ,MAAQ,GAG5BC,EAMAD,EANAC,UACAC,EAKAF,EALAE,WACAC,EAIAH,EAJAG,aACAC,EAGAJ,EAHAI,QACApB,EAEAgB,EAFAhB,KAkBJ,OAdAmB,EAAeA,GAAgBA,EAAalO,OAGxCmO,EAAUA,GAAWA,EAAQnO,OAC7BkO,EAAgBA,GAAiC,KAAjBA,EAAuBA,EAAgBC,GAAuB,KAAZA,EAAiBA,OAAUvO,EAEzGoO,IAGAA,GADAA,GADAA,EAAYA,EAAUI,QAAQ,iBAAkB,uBAC1BA,QAAQ,SAAU,4BAClBA,QAAQ,YAAa,4BAM/C/f,EAAAC,EAAAC,cAACif,GAAepf,EACZC,EAAAC,EAAAC,cAAA,SAAOiD,MAAO,CAAC6c,OAAQ,EAAGjX,MAAO,OAAOkX,SAAS,MAC7CjgB,EAAAC,EAAAC,cAAA,aACAF,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAACof,GAAUvf,EACPC,EAAAC,EAAAC,cAAA,aACAF,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,OAAK2I,IAAK+W,EACL9W,IAAK6W,GAA4F,yFACjG5W,MAAM,aAKvB/I,EAAAC,EAAAC,cAACof,GAAUvf,EACPC,EAAAC,EAAAC,cAAA,aACAF,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,MAAIC,UAAW,QACXH,EAAAC,EAAAC,cAAA,MAAIiD,MAAO,CAACmS,aAAc,IACtBtV,EAAAC,EAAAC,cAAA,KACIoO,OAAO,SACP4R,IAAI,sBACJnM,KAAM2K,GAAQ,KAAMkB,GAAc,yBAE1C5f,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,KACIoO,OAAO,SACP4R,IAAI,sBACJnM,KAAM2K,GAAQ,KAAMmB,GAAgB,uSCxF5E,IAAMM,GAAaxgB,IAAOC,IAAVwgB,MAuBDC,GAdF,SAACtgB,GACV,IAAI+I,EAAyB,KAAnB/I,EAAMwG,KAAKuC,IAA4F,wFAA2F/I,EAAMwG,KAAKuC,IAIvN,OAFAA,GADAA,EAAMA,EAAIiX,QAAQ,SAAU,4BAClBA,QAAQ,YAAa,2BAG3B/f,EAAAC,EAAAC,cAACigB,GAAD,KACIngB,EAAAC,EAAAC,cAAA,OACI2I,IAAI,IACJC,IAAKA,ilBClBrB,aAAMwX,GAAmB3gB,IAAOC,IAAV2gB,MAwBhBC,GAAW,CACb7X,MAAO,WA6BI8X,GA1BI,SAAC1gB,GAAe,IAExB6e,EAAQ7e,EAAMwG,KAAdqY,KAEHrI,EAAQ,KAaZ,OAVIA,EADAqI,GAAQA,EAAKrI,MACLqI,EAAKrI,MAAM5Q,IAAI,SAAC8Q,EAAW5Q,GAAZ,OACnB7F,EAAAC,EAAAC,cAAA,MAAI6F,IAAK0Q,EAAKgI,IAAIze,EAAAC,EAAAC,cAAA,KAAG6T,KAAM0C,EAAKiI,MAAOjI,EAAK3H,OACvC8P,EAAKrI,MAAMjF,OAAS,EAAIzL,EAAQ7F,EAAAC,EAAAC,cAAA,QAAMiD,MAAOqd,IAAb,UAAkC,QAInE,IAAIje,MAAM,GAAGme,KAAK,MAAM/a,IAAI,SAAC8Q,EAAM5Q,GAAP,OAAiB7F,EAAAC,EAAAC,cAAA,MAAI6F,IAAKF,GAAO7F,EAAAC,EAAAC,cAAA,KAAG6T,KAAK,MAAR,QAAmBlO,EAAM,GAAOA,EAAQ,EACzG7F,EAAAC,EAAAC,cAAA,QAAMiD,MAAOqd,IAAb,UAAmC,KADc,OAKrDxgB,EAAAC,EAAAC,cAACogB,GAAD,KACItgB,EAAAC,EAAAC,cAAA,UACKqW,8OC0BjB,SAASoK,GAATrX,GAAmD,IAA1BsX,EAA0BtX,EAA1BsX,SAAa7gB,EAAasG,OAAA4D,GAAA,EAAA5D,CAAAiD,EAAA,cAC/C,OAAOtJ,EAAAC,EAAAC,cAAA,MAAAmG,OAAA6D,OAAA,CAAK2W,IAAKD,GAAc7gB,IAqFnC,mBAAM+gB,GAAa,CACfC,QAnFJ,SAAiBhhB,GACb,OACIC,EAAAC,EAAAC,cAAC+N,GAAA,EAAD5H,OAAA6D,OAAA,CACIgE,WAAS,EACT8S,WAAY,CACRL,kBACAM,WAAW5a,OAAAC,EAAA,EAAAD,CAAA,CACPlG,UAAWJ,EAAMmhB,YAAYC,QAAQjK,MACrC0J,SAAU7gB,EAAMqhB,SAChBzgB,SAAUZ,EAAMY,UACbZ,EAAMshB,cAGbthB,EAAMmhB,YAAYI,kBAuE9B3C,KAVJ,SAAc5e,GACV,OACIC,EAAAC,EAAAC,cAACqhB,GAAA,EAADlb,OAAA6D,OAAA,CAAOsX,QAAM,EAACrhB,UAAWJ,EAAMmhB,YAAYC,QAAQM,OAAW1hB,EAAMshB,YAC/DthB,EAAMY,WAQf+gB,WAzBJ,SAAoB3hB,GAChB,OACIC,EAAAC,EAAAC,cAACyhB,GAAA,EAAD,CACIC,UAAW,EACX5M,MAAOjV,EAAMY,SACbR,UAAW0hB,KAAW9hB,EAAMmhB,YAAYC,QAAQW,KAA3Bzb,OAAAoK,GAAA,EAAApK,CAAA,GAChBtG,EAAMmhB,YAAYC,QAAQY,YAAchiB,EAAMiiB,YAEnDthB,SAAUX,EAAMkiB,YAAY5hB,QAC5B6hB,WAAYliB,EAAAC,EAAAC,cAACK,EAAA,EAAD8F,OAAA6D,OAAA,GAAqBnK,EAAMkiB,YAA3B,CAAwCzhB,KAAK,cAiBjE2hB,iBAtGJ,SAA0BpiB,GACtB,OACIC,EAAAC,EAAAC,cAAC8N,GAAA,EAAD3H,OAAA6D,OAAA,CACIvB,MAAM,gBACNxI,UAAWJ,EAAMmhB,YAAYC,QAAQiB,kBACjCriB,EAAMshB,YAETthB,EAAMY,WAgGf0hB,OArEJ,SAAgBtiB,GAEZ,OACIC,EAAAC,EAAAC,cAACwW,GAAA,EAADrQ,OAAA6D,OAAA,CACIoY,UAAWviB,EAAMqhB,SACjBhhB,SAAUL,EAAMiiB,UAChBO,UAAU,MACVpf,MAAO,CACHqf,WAAYziB,EAAMiG,WAAa,IAAM,MAErCjG,EAAMshB,YAETthB,EAAMwG,KAAKoZ,WACR3f,EAAAC,EAAAC,cAAA,OAAK4I,IAAK/I,EAAMwG,KAAKoZ,UAAWxc,MAAO,CAAC8c,SAAU,GAAIhX,YAAa,GAAKJ,IAAK,SAVrF,IAUkG9I,EAAMY,WAyD5G8hB,YApDJ,SAAqB1iB,GACjB,OACIC,EAAAC,EAAAC,cAAC8N,GAAA,EAAD3H,OAAA6D,OAAA,CACIvB,MAAM,gBACNxI,UAAWJ,EAAMmhB,YAAYC,QAAQuB,aACjC3iB,EAAMshB,YAETthB,EAAMY,WA8CfgiB,YAzCJ,SAAqB5iB,GACjB,OACIC,EAAAC,EAAAC,cAAC8N,GAAA,EAAD3H,OAAA6D,OAAA,CAAY/J,UAAWJ,EAAMmhB,YAAYC,QAAQyB,aAAiB7iB,EAAMshB,YACnEthB,EAAMY,WAuCfkiB,eAlCJ,SAAwB9iB,GACpB,OAAOC,EAAAC,EAAAC,cAAA,OAAKC,UAAWJ,EAAMmhB,YAAYC,QAAQ2B,gBAAiB/iB,EAAMY,YAoCtEoiB,GAAUpjB,YAAOiB,EAAPjB,CAAHqjB,MAOPC,GAAetjB,IAAOC,IAAVsjB,MAKZC,GADLjhB,oMAkBY,IAAAqR,EACyBrP,KAAKnE,MAA5BohB,EADF5N,EACE4N,QAASlI,EADX1F,EACW0F,MAEVmK,EAAe,CACjBlM,MAAO,SAACmM,GAAD,OAAAhd,OAAAC,EAAA,EAAAD,CAAA,GACAgd,EADA,CAEH1a,MAAOsQ,EAAMwB,QAAQ6I,KAAK5I,QAC1B6I,UAAW,CACPC,KAAM,eAKlB,OACIxjB,EAAAC,EAAAC,cAAC6iB,GAAD,KACI/iB,EAAAC,EAAAC,cAAC+iB,GAAD,CAAc9iB,UAAWghB,EAAQsC,MAC7BzjB,EAAAC,EAAAC,cAACwjB,GAAA,EAAD,KACI1jB,EAAAC,EAAAC,cAACyjB,GAAA,EAAD,CACIxC,QAASA,EACTyC,OAAQR,EACRtC,WAAYA,GACZze,QAAS6B,KAAKnE,MAAM8jB,YACpB9X,MAAO7H,KAAKnE,MAAMgM,MAClB+X,cAAe5f,KAAKnE,MAAMgkB,YAC1B3V,SAAUlK,KAAKnE,MAAMqO,SACrBsU,YAAaxe,KAAKnE,MAAM2iB,aAAe,iBACvCsB,aAAW,EACXC,cAAY,EACZC,UAAWhgB,KAAKnE,MAAM4H,UAE1B3H,EAAAC,EAAAC,cAAA,OAAKC,UAAWghB,EAAQgD,oBA/CX1d,IAAMC,cAazB0d,aAAe,CACzBrY,MAAO,kBA2CAsY,gBA/NU,SAACpL,GAAD,MAAiB,CAEtC/B,MAAO,CACHjD,QAAS,OACTqQ,QAAS,GAEbxB,eAAgB,CACZ7O,QAAS,OACTsQ,SAAU,OACVxP,KAAM,EACNf,WAAY,SACZwQ,SAAU,UAEd1C,KAAM,CACF3T,OAAM,GAAAnJ,OAAKiU,EAAMwL,QAAQC,KAAO,EAA1B,OAAA1f,OAAiCiU,EAAMwL,QAAQC,KAAO,EAAtD,OAEV3C,YAAa,CACT4C,gBAAiBC,qBACU,UAAvB3L,EAAMwB,QAAQ9O,KAAmBsN,EAAMwB,QAAQoK,KAAK,KAAO5L,EAAMwB,QAAQoK,KAAK,KAC9E,MAGRzC,iBAAkB,CACdkC,QAAO,GAAAtf,OAAKiU,EAAMwL,QAAQC,KAAnB,OAAA1f,OAAkD,EAArBiU,EAAMwL,QAAQC,KAA3C,OAEX9B,YAAa,CACTjK,SAAU,IAEd+J,YAAa,CACToC,SAAU,WACVC,KAAM,EACNpM,SAAU,IAEd8I,MAAO,CACHqD,SAAU,WACVE,OAAQ,EACRzW,UAAW0K,EAAMwL,QAAQC,KACzBK,KAAM,EACNE,MAAO,GAEXd,QAAS,CACLnb,OAA6B,EAArBiQ,EAAMwL,QAAQC,QAsLS,CAACQ,WAAW,GAApCb,CAA2ClB,oKChOpD7P,GAAe,CACjBuQ,iBAAatS,EACb4T,MAAO,MAwBLzJ,GAAQ,IArBd,oBAAA0J,IAAA/e,OAAAuJ,EAAA,EAAAvJ,CAAAnC,KAAAkhB,GAAAlhB,KAEYmhB,QAAU,IAAIC,KAAuBhS,IAFjDpP,KAGYwX,MAAQxX,KAAKmhB,QAAQE,eAAeC,KAAKC,gBAHrD,OAAApf,OAAAqf,EAAA,EAAArf,CAAA+e,EAAA,EAAArf,IAAA,SAAAgG,MAAA,SASc6C,GACN,OAAO1K,KAAKwX,MAAM8J,KAAKG,aAAM/W,MAVrC,CAAA7I,IAAA,MAAAgG,MAAA,SAaQ6C,EAAc0E,GACdpP,KAAKmhB,QAAQ3d,KAAbrB,OAAAC,EAAA,EAAAD,CAAA,GACOnC,KAAK6H,MADZ1F,OAAAoK,GAAA,EAAApK,CAAA,GACoBuI,EAAO0E,OAfnC,CAAAvN,IAAA,QAAAuY,IAAA,WAMQ,OAAOpa,KAAKmhB,QAAQtZ,UAN5BqZ,EAAA,IAqIeQ,GA9Gd3jB,YAAO,cACPC,sTAOGqE,KAAY,OAEZsf,wBAEAC,SAAmDpM,OAAOC,SAASoM,SAAW,KAAOrM,OAAOC,SAASqM,KAAOtM,OAAOC,SAASsM,SAASzU,MAAM,KAAK0U,MAAM,EAAExM,OAAOC,SAASsM,SAASzU,MAAM,KAAKF,OAAO,GAAG4D,KAAK,OAE3MiR,OAA6BzK,GAAM0K,OAAO,WAE1CtC,cAAgB,SAACqB,GACTA,EAAM7T,OAAS,GACfoK,GAAM2K,IAAI,QAASlB,MA0C3BmB,gBAAkB,SAAClmB,IACE,OAAbA,GAAsBA,GAAYA,EAASqe,MACvCre,UACOA,EAASmmB,aAEpBzjB,EAAK/C,MAAMgH,aAAa,OAAQ3G,2FA1ChC8D,KAAK2hB,iBACL3hB,KAAK2hB,eAAeW,cACpB9K,GAAM2K,IAAI,QAAS,mDAKvBniB,KAAKuiB,8DAGU,IAAAhhB,EAAAvB,KACfA,KAAK2hB,eAAiB3hB,KAAKiiB,OAAOX,KAC9BkB,aAAU,MACVC,aAAa,KACblB,eACAmB,aAAO,SAACzB,GAAD,MAA4B,kBAAVA,IACzB0B,aAAU,SAAA1B,GAEN,OADA1f,EAAKkC,SAAU,EACRmf,KAAMpH,KAAN,GAAA1a,OAAcS,EAAKqgB,SAAnB,6DAAA9gB,OAAwFmgB,GAAS,CACpG4B,QAAS,CACLC,eAAgB,wDAI5BrhB,aAAI,SAACwM,GACD1M,EAAKoe,YAAc1R,EAAS5L,KAAK0gB,MAAMthB,IAAI,SAAC+Z,GAAD,OAAArZ,OAAAC,EAAA,EAAAD,CAAA,GACpCqZ,EADoC,CAEvC1K,MAAS0K,EAAKE,WACd7T,MAAS2T,EAAKE,WACdD,UAAaD,EAAKC,cAEtBla,EAAKkC,SAAU,IAEnBuf,aAAW,SAACC,EAAKC,GAAN,OAAiBC,aAAWF,MACzCG,6CAYsK,IAAA5R,EAAAxR,KACxK,OACIlE,EAAAC,EAAAC,cAAA,OAAKsI,IAAKtE,KAAKnE,MAAM0I,QAAQD,KACzBxI,EAAAC,EAAAC,cAACqnB,GAAD,CACI7E,YAAazjB,IAAKqJ,EAAE,eACpByD,MAAO7H,KAAKnE,MAAM6F,OAAOW,KAAKmZ,KAC9BmE,YAAa3f,KAAK2f,YAClBE,YAAa7f,KAAK4f,cAClB1V,SAAUlK,KAAKoiB,gBACf3e,QAASzD,KAAKyD,UAGlB3H,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kBACXH,EAAAC,EAAAC,cAAC4W,GAAA,EAAD,KACI9W,EAAAC,EAAAC,cAACsnB,GAAA,EAAD,CACIC,aAAW,SACX7Y,KAAK,UACL7C,MAAO7H,KAAKnE,MAAM6F,OAAOW,KAAK6O,KAC9BhH,SAAU,SAACC,GAAD,OAAgBqH,EAAK3V,MAAMgH,aAAa,OAAQsH,EAAMC,OAAOvC,SAEvE/L,EAAAC,EAAAC,cAACwnB,GAAA,EAAD,CAAkB3b,MAAM,QAAQ4b,QAAS3nB,EAAAC,EAAAC,cAAC0nB,GAAA,EAAD,MAAU5S,MAAO/V,IAAKqJ,EAAE,WACjEtI,EAAAC,EAAAC,cAACwnB,GAAA,EAAD,CAAkB3b,MAAM,QAAQ4b,QAAS3nB,EAAAC,EAAAC,cAAC0nB,GAAA,EAAD,MAAU5S,MAAO/V,IAAKqJ,EAAE,aAGzEtI,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAC4W,GAAA,EAAD,KACI9W,EAAAC,EAAAC,cAACwnB,GAAA,EAAD,CACIC,QAAS3nB,EAAAC,EAAAC,cAAC2nB,GAAA,EAAD,CACLC,QAAS5jB,KAAKnE,MAAM6F,OAAOW,KAAK8Y,SAChCjR,SAAU,SAACC,GAAD,OAAgBqH,EAAK3V,MAAMgH,aAAa,WAAYsH,EAAMC,OAAOwZ,UAC3E/b,MAAM,YACViJ,MAAO/V,IAAKqJ,EAAE,gCAlGrB7B,IAAMC,sDAE1BwC,8EAAgC,6CAEhCA,+EAA8B,gKC/CnC,+BAAM6e,GAAmBpoB,IAAOC,IAAVooB,MAiEPC,GAnDdhmB,YAAO,cACPC,0NAIGgmB,eAEAC,SAAW,WACP,IAAMC,EAAatlB,EAAKolB,MAAM5U,QAAQgL,IAAI,aAAa+J,QAAQC,SAC/DxlB,EAAK/C,MAAMgH,aAAa,MAAOqhB,EAAWjK,QAG9CoK,UAAY,WACRzlB,EAAKolB,MAAMpa,4FAIX,IAAM0a,EAAK9O,OAAO8O,GAClBtkB,KAAKgkB,MAAQM,EAAGC,MAAMC,OAAOC,WAAaH,EAAGC,MAAM,CAC/CG,UAAU,IAEd1kB,KAAKgkB,MAAMW,GAAG,SAAU3kB,KAAKikB,yDAI7B,IACIjkB,KAAKgkB,MAAMY,IAAI5kB,KAAKikB,UACtB,MAAOY,sCAMT,OACI/oB,EAAAC,EAAAC,cAAC6nB,GAAD,CAAkBvf,IAAKtE,KAAKnE,MAAM0I,QAAQD,KACtCxI,EAAAC,EAAAC,cAACwI,GAAA,EAAD,CAAQb,QAAQ,YAAYc,MAAM,UAAUtI,QAAS6D,KAAKqkB,WACrDtpB,IAAKqJ,EAAE,mCAlCH7B,IAAMC,qBCehBsiB,GA/Bd/mB,YAAO,gBACPC,gfAQOgC,KAAKyD,SAAU,WACTzD,KAAKnE,MAAMkpB,UAAU/J,eAC3Bhb,KAAK0a,KAAQ1a,KAAKnE,MAAMkpB,UAAU1S,MAClCrS,KAAKyD,SAAU,qIAGyJ,IAAAlC,EAAAvB,KACxK,OACIlE,EAAAC,EAAAC,cAAAF,EAAAC,EAAAipB,SAAA,KACIlpB,EAAAC,EAAAC,cAACqnB,GAAD,CACI7E,YAAazjB,IAAKqJ,EAAE,qBACpBX,QAASzD,KAAKyD,QACdoE,MAAO7H,KAAKnE,MAAM6F,OAAOW,KAAKqY,KAC9BiF,YAAa3f,KAAK0a,KAClBmF,YAAa,aAEb3V,SAAU,SAAC7H,GAAD,OAAYd,EAAK1F,MAAMgH,aAAa,OAAOR,cAvB1CE,IAAMC,+CAEhCwC,8EAAyB,6CAEzBA,+EAA6B,sBC8EnBigB,kBA9DX,SAAAA,EAAA7f,GAQqC,IAAAxG,EAAAoB,KAAAklB,EAAA9f,EAPrBlB,cAOqB,IAAAghB,EAPZ,CACLzd,KAAM,OACNtD,YAAa,QAKI+gB,EAAAC,EAAA/f,EAHrB/C,YAGqB,IAAA8iB,EAHd,GAGcA,EAAAC,EAAAhgB,EAFrBvD,WAEqB,IAAAujB,EAFf3N,OAEe2N,EAAAC,EAAAjgB,EADrBtD,kBACqB,IAAAujB,KAAAljB,OAAAuJ,EAAA,EAAAvJ,CAAAnC,KAAAilB,GAAAjlB,KApBrC6B,SAoBqC,EAAAM,OAAA0J,EAAA,EAAA1J,CAAAnC,KAAA,aAAAslB,GAAAtlB,MAAAmC,OAAA0J,EAAA,EAAA1J,CAAAnC,KAAA,SAAAulB,GAAAvlB,MAAAmC,OAAA0J,EAAA,EAAA1J,CAAAnC,KAAA,OAAAwlB,GAAAxlB,WAZ7BylB,uBAY6B,EAAAzlB,KAV7B0lB,qBAU6B,EAAAvjB,OAAA0J,EAAA,EAAA1J,CAAAnC,KAAA,mBAAA2lB,GAAA3lB,WAuBrCqE,aAAe,WAAgB,IAAfxI,EAAe+Q,UAAAQ,OAAA,QAAAC,IAAAT,UAAA,GAAAA,UAAA,GAAP,GACdpK,EAAY5D,EAAK8mB,gBAIvB,OAFA7pB,EAAKsG,OAAAC,EAAA,EAAAD,CAAA,GAAOtG,EAAU+C,EAAKyD,MAEnBvG,EAAAC,EAAAC,cAACwG,EAAc3G,IA5BUmE,KA+BrCkC,eAAiB,WAAgB,IAAfrG,EAAe+Q,UAAAQ,OAAA,QAAAC,IAAAT,UAAA,GAAAA,UAAA,GAAP,GAChBpK,EAAY5D,EAAK6mB,kBAIvB,OAFA5pB,EAAKsG,OAAAC,EAAA,EAAAD,CAAA,GAAOtG,EAAU+C,EAAKyD,MAEnBvG,EAAAC,EAAAC,cAACwG,EAAc3G,IApCUmE,KAgDrC4lB,aAAe,WACX,OAAQ9pB,EAAAC,EAAAC,cAAA,0BAhDRgE,KAAKkE,OAASA,EACdlE,KAAKqC,KAAOA,EACZrC,KAAK6B,IAAMA,EACX7B,KAAK8B,WAAaA,iEAWH4jB,GACf1lB,KAAK0lB,gBAAkBA,+CAGND,GACjBzlB,KAAKylB,kBAAoBA,sCAZzB,OAAOzlB,KAAKkE,OAAOC,2CAgCnB,MAAO,CACHD,OAAQlE,KAAKkE,OACb7B,KAAMrC,KAAKqC,KACXR,IAAK7B,KAAK6B,wDA7DjBmD,+EAAwB,2CAExBA,8EAAyB,0CAEzBA,8EAAuB,8CAqBvB0P,gIAIA3L,0FAA0B,SAAC1G,GACxBd,EAAKc,KAAOA,yZC7CpB,OAAMwjB,GAAcpqB,IAAOC,IAAVoqB,MA2BFC,GATD,SAAClqB,GACX,OACIC,EAAAC,EAAAC,cAAC6pB,GAAD,KACI/pB,EAAAC,EAAAC,cAAA,UAA0B,KAArBH,EAAMwG,KAAKuI,MAAe/O,EAAMwG,KAAKuI,MAAQ,yBAClD9O,EAAAC,EAAAC,cAAA,UAA6B,KAAxBH,EAAMwG,KAAK2jB,SAAkBnqB,EAAMwG,KAAK2jB,SAAW,wJCnBpE,yBAAMC,GAAoBxqB,IAAOC,IAAVwqB,MAkCRC,GA/BdpoB,YAAO,+LAGwK,IAAAa,EAAAoB,KACxK,OACIlE,EAAAC,EAAAC,cAACiqB,GAAD,CAAmB3hB,IAAKtE,KAAKnE,MAAM0I,QAAQD,KACvCxI,EAAAC,EAAAC,cAAC+N,GAAA,EAAD,CACIC,WAAS,EACTrG,QAAQ,WACRrB,GAAG,gBACHwO,MAAO/V,IAAKqJ,EAAE,SACdyD,MAAO7H,KAAKnE,MAAM6F,OAAOW,KAAKuI,MAC9BV,SAAU,SAACC,GAAD,OAAWvL,EAAK/C,MAAMgH,aAAa,QAASsH,EAAMC,OAAOvC,QACnEoC,OAAO,WAEXnO,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAC+N,GAAA,EAAD,CACIpG,QAAQ,WACRqG,WAAS,EACT1H,GAAG,gBACHwO,MAAO/V,IAAKqJ,EAAE,aACdyD,MAAO7H,KAAKnE,MAAM6F,OAAOW,KAAK2jB,SAC9B9b,SAAU,SAACC,GAAD,OAAWvL,EAAK/C,MAAMgH,aAAa,WAAYsH,EAAMC,OAAOvC,QACtEoC,OAAO,oBAtBL1H,IAAMC,gBC8CjB4jB,kBAxCX,SAAAA,IAAejkB,OAAAuJ,EAAA,EAAAvJ,CAAAnC,KAAAomB,GAAAjkB,OAAA0J,EAAA,EAAA1J,CAAAnC,KAAA,QAAAqmB,GAAArmB,MACXA,KAAK9E,0DAKL8E,KAAKqS,MAAM8P,IAAI,QAAS,CACpBxhB,SAAUolB,GACVO,OAAQH,KAGZnmB,KAAKqS,MAAM8P,IAAI,OAAQ,CACnBxhB,SAAU4a,GACV+K,OAAQ5E,KAGZ1hB,KAAKqS,MAAM8P,IAAI,aAAc,CACzBxhB,SAAU4b,GACV+J,OAAQxB,KAGZ9kB,KAAKqS,MAAM8P,IAAI,OAAQ,CACnBxhB,SAAUwb,GACVmK,OAAQvC,0CAKHwC,GACT,IAAM7kB,EAAS,IAAIujB,GAAOsB,GACpB9e,EAAO/F,EAAOwC,OAAOuD,KAM3B,OAHA/F,EAAO8kB,mBAAmBxmB,KAAKqS,MAAM+H,IAAI3S,GAAM6e,QAC/C5kB,EAAO+kB,qBAAqBzmB,KAAKqS,MAAM+H,IAAI3S,GAAM9G,UAE1Ce,gDAtCVsD,+EAAqC,IAAI0hB,WCZjCC,GAAmC,CAC5CziB,OAAQ,CACJuD,KAAM,OACNtD,YAAa,QAEjBrC,YAAY,EACZO,KAAM,CACFuC,IAAI,KAKCgiB,GAAoC,CAC7C1iB,OAAQ,CACJuD,KAAM,QACNtD,YAAa,SAEjBrC,YAAY,EACZO,KAAM,CACFuI,MAAM,GACNob,SAAS,KAKJa,GAAuC,CAChD3iB,OAAQ,CACJuD,KAAM,aACNtD,YAAa,cAEjBrC,YAAY,EACZO,KAAM,IAGGykB,GAAuC,CAChD5iB,OAAQ,CACJuD,KAAM,OACNtD,YAAa,QAEjBrC,YAAY,EACZO,KAAM,CACF6O,KAAM,QACNiK,UAAU,IAIL4L,GAAsB5kB,OAAO6D,OAAO,GAAI8gB,GAAgB,CAACzkB,KAAKF,OAAAC,EAAA,EAAAD,CAAA,GAAK2kB,GAAezkB,KAArB,CAA2B6O,KAAQ,YCxCvG8V,GAAe,IAAIZ,GAEZa,IAAbC,GAAA,WAYI,SAAAD,EAAA7hB,GAA2E,IAAAxG,EAAAoB,KAA9DmE,EAA8DiB,EAA9DjB,YAAa3C,EAAiD4D,EAAjD5D,QAASc,EAAwC8C,EAAxC9C,GAAwC8iB,EAAAhgB,EAApCvD,WAAoC,IAAAujB,EAA9B3N,OAA8B2N,EAAAjjB,OAAAuJ,EAAA,EAAAvJ,CAAAnC,KAAAinB,GAAAjnB,KAV3EsC,QAU2E,EAAAtC,KAR3E6B,SAQ2E,EAAA7B,KAN3EmE,YAAsB,GAMqDhC,OAAA0J,EAAA,EAAA1J,CAAAnC,KAAA,OAAAmnB,GAAAnnB,MAAAmC,OAAA0J,EAAA,EAAA1J,CAAAnC,KAAA,UAAAonB,GAAApnB,WAS3EwH,UAAY,SAACC,EAAc9F,GACvB,IAAMD,EAAiBslB,GAAaK,aAAazoB,EAAK0oB,cAAc7f,IACpE7I,EAAK4C,QAAQiR,OAAO9Q,EAAQ,EAAG,EAAGD,IAXqC1B,KAc3EsH,aAAe,SAACH,GAEZ,IAAM3F,EAAU5C,EAAK4C,QACf+lB,EAAqB/lB,EAAQkY,KAAK,SAACnH,EAAc5Q,GAAf,OAAiCwF,IAAgBxF,IACnF6lB,EAAehmB,EAAQkY,KAAK,SAACnH,EAAc5Q,GAAf,OAAkCwF,EAAc,IAAOxF,IACnF8lB,EAAcjmB,EAAQkY,KAAK,SAACnH,EAAc5Q,GAAf,OAAkCwF,EAAc,IAAOxF,MAGlF6lB,GAAgBC,GAAeF,EAAcrjB,OAAOuD,OAASggB,EAAYvjB,OAAOuD,MACjF+f,IAAiBC,GAAeF,EAAcrjB,OAAOuD,OAAS+f,EAAatjB,OAAOuD,MAClF+f,GAAgBC,IAAgBF,EAAcrjB,OAAOuD,OAAS+f,EAAatjB,OAAOuD,MAAQ8f,EAAcrjB,OAAOuD,OAASggB,EAAYvjB,OAAOuD,QAG5I7I,EAAK4C,QAAQiR,OAAOtL,EAAa,IA3BkCnH,KAgC3EsnB,cAAgB,SAACI,GACb,MAAmB,SAAfA,EACOZ,GAEQ,eAAfY,EACOb,GAEQ,SAAfa,EACOf,GAGJG,IA3CgE9mB,KAwE3EiE,oBAAsB,WAClBrF,EAAK4C,QAAQjD,QAAQ,SAACmD,GAAD,OAAoBA,EAAOI,YAAa,KAxE7D9B,KAAKmE,YAAcA,EACnBnE,KAAKsC,GAAKA,EACVtC,KAAK6B,IAAMA,EAGX7B,KAAKwB,QAAUA,EAAQC,IAAI,SAAAC,GAAM,OAAIslB,GAAaK,aAAallB,OAAO6D,OAAO,GAAItE,MAlBzF,OAAAS,OAAAqf,EAAA,EAAArf,CAAA8kB,EAAA,EAAAplB,IAAA,oBAAAgG,MAAA,WA0DiE,IAAnCV,EAAmCyF,UAAAQ,OAAA,QAAAC,IAAAT,UAAA,GAAAA,UAAA,GAAN,KACnD5M,KAAKwB,QAAQjD,QAAS,SAACmD,EAAQC,GAAT,OAAmBD,EAAOI,WAAaH,IAAUwF,MA3D/E,CAAAtF,IAAA,SAAAuY,IAAA,WA+DQ,MAAO,CACH5Y,QAASxB,KAAKwB,QAAQC,IAAI,SAACC,GAAD,OAAiBA,EAAOkN,SAClDzK,YAAanE,KAAKmE,YAClB7B,GAAItC,KAAKsC,GACTlC,KAAMJ,KAAKI,QAnEvB,CAAAyB,IAAA,mBAAAuY,IAAA,WAwEQ,YAA4D/M,IAArDrN,KAAKwB,QAAQkY,KAAK,SAAChY,GAAD,OAAYA,EAAOI,eAxEpD,CAAAD,IAAA,sBAAAuY,IAAA,WA4EQ,IAAMzY,EAAQ3B,KAAKwB,QAAQmmB,UAAU,SAACjmB,GAAD,OAAoBA,EAAOI,aAChE,OAAkB,IAAXH,EAAeA,EAAQ,OA7EtC,CAAAE,IAAA,iBAAAuY,IAAA,WAiFQ,OAAoC,OAA7Bpa,KAAKqa,oBAA+Bra,KAAKwB,QAAQxB,KAAKqa,qBAAuB,SAjF5F4M,EAAA,GAAAE,GAAAhlB,OAAAylB,EAAA,EAAAzlB,CAAA+kB,GAAA5oB,UAAA,QAQK0G,MARL,CAAA6iB,cAAA,EAAAC,YAAA,EAAAC,UAAA,EAAAC,YAAA,iBAQ+B,MAR/BZ,GAAAjlB,OAAAylB,EAAA,EAAAzlB,CAAA+kB,GAAA5oB,UAAA,WAUK0G,MAVL,CAAA6iB,cAAA,EAAAC,YAAA,EAAAC,UAAA,EAAAC,YAAA,iBAUoC,MAVpC7lB,OAAAylB,EAAA,EAAAzlB,CAAA+kB,GAAA5oB,UAAA,qBA0DKyK,MA1DL5G,OAAA8lB,yBAAAf,GAAA5oB,UAAA,qBAAA4oB,GAAA5oB,WAAA6D,OAAAylB,EAAA,EAAAzlB,CAAA+kB,GAAA5oB,UAAA,oBAuEKoW,MAvELvS,OAAA8lB,yBAAAf,GAAA5oB,UAAA,oBAAA4oB,GAAA5oB,WAAA6D,OAAAylB,EAAA,EAAAzlB,CAAA+kB,GAAA5oB,UAAA,uBA2EKoW,MA3ELvS,OAAA8lB,yBAAAf,GAAA5oB,UAAA,uBAAA4oB,GAAA5oB,WAAA6D,OAAAylB,EAAA,EAAAzlB,CAAA+kB,GAAA5oB,UAAA,kBAgFKoW,MAhFLvS,OAAA8lB,yBAAAf,GAAA5oB,UAAA,kBAAA4oB,GAAA5oB,WAAA4oB,IC2BegB,yGARX/P,YAAc,SAACxW,GAAD,OAAsCoS,KAAKyE,MAAMzE,KAAKC,UAAUpV,EAAK4V,UAAU7S,iEAE9EhB,GACX,OAAO,IAAIsmB,GAAStmB,qDAvBvBqE,8EAAgD,CAC7C,CACI1C,GAAI,EACJT,IAAK4V,OACLtT,YAAa,aACb3C,QAAS,CAACmlB,GAAYE,GAAgBE,GAAqBD,GAAgBA,KAE/E,CACIxkB,GAAI,EACJT,IAAK4V,OACLtT,YAAa,WACb3C,QAAS,CAACmlB,GAAYC,GAAaG,GAAqBD,KAE5D,CACIxkB,GAAI,EACJT,IAAK4V,OACLtT,YAAa,eACb3C,QAAS,CAACmlB,GAAYG,GAAgBC,GAAqBD,aCXjEhY,GAAM,ICAZ,WAMI,SAAAqZ,IAAehmB,OAAAuJ,EAAA,EAAAvJ,CAAAnC,KAAAmoB,GAAAnoB,KAJf4hB,SAAmDpM,OAAOC,SAASoM,SAAW,KAAOrM,OAAOC,SAASqM,KAAOtM,OAAOC,SAASsM,SAASzU,MAAM,KAAK0U,MAAM,EAAExM,OAAOC,SAASsM,SAASzU,MAAM,KAAKF,OAAO,GAAG4D,KAAK,KAI7LhR,KAFd+O,gBAAuB,GAGnB/O,KAAKooB,qBAPb,OAAAjmB,OAAAqf,EAAA,EAAArf,CAAAgmB,EAAA,EAAAtmB,IAAA,eAAAgG,MAAA,eAAAwgB,EAAAlmB,OAAA+J,EAAA,EAAA/J,CAAAiB,EAAArH,EAAAoQ,KAAA,SAAAjJ,IAAA,IAAAkC,EAAA/C,EAAA,OAAAe,EAAArH,EAAAsH,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAaiCof,KAAMpH,KAAN,GAAA1a,OAAcd,KAAK4hB,SAAnB,gDAA4E,CAC7FiB,QAAS,CACLC,eAAgB,sDAfpC,cAAA1d,EAAA9B,EAAAsE,KAamBvF,EAbnB+C,EAamB/C,KAbnBiB,EAAAqE,OAAA,SAmBmBtF,GAnBnB,OAAAiB,EAAAC,KAAA,EAAAD,EAAAQ,GAAAR,EAAA,SAqBYgL,QAAQga,KAAK,4BAAbhlB,EAAAQ,IArBZ,yBAAAR,EAAAS,SAAAb,EAAAlD,KAAA,qCAAAqoB,EAAA1b,MAAA3M,KAAA4M,YAAA,KAAA/K,IAAA,YAAAgG,MAAA,eAAA0gB,EAAApmB,OAAA+J,EAAA,EAAA/J,CAAAiB,EAAArH,EAAAoQ,KAAA,SAAAY,IAAA,IAAAzH,EAAAjD,EAAA,OAAAe,EAAArH,EAAAsH,KAAA,SAAA8J,GAAA,cAAAA,EAAA5J,KAAA4J,EAAA3J,MAAA,cAAA2J,EAAA5J,KAAA,EAAA4J,EAAA3J,KAAA,EA4BiCof,KAAMpH,KAAN,GAAA1a,OAAcd,KAAK4hB,SAAnB,4CAAwE,CACzFiB,QAAS,CACLC,eAAgB,sDA9BpC,cAAAxd,EAAA6H,EAAAvF,KA4BmBvF,EA5BnBiD,EA4BmBjD,KA5BnB8K,EAAAxF,OAAA,SAkCmBtF,GAlCnB,OAAA8K,EAAA5J,KAAA,EAAA4J,EAAArJ,GAAAqJ,EAAA,SAoCYmB,QAAQga,KAAK,4BAAbnb,EAAArJ,IApCZ,yBAAAqJ,EAAApJ,SAAAgJ,EAAA/M,KAAA,qCAAAuoB,EAAA5b,MAAA3M,KAAA4M,YAAA,KAAA/K,IAAA,qBAAAgG,MAAA,eAAA2gB,EAAArmB,OAAA+J,EAAA,EAAA/J,CAAAiB,EAAArH,EAAAoQ,KAAA,SAAA6B,IAAA,IAAAya,EAAA/iB,EAAArD,EAAA,OAAAe,EAAArH,EAAAsH,KAAA,SAAA+K,GAAA,cAAAA,EAAA7K,KAAA6K,EAAA5K,MAAA,cAAA4K,EAAA7K,KAAA,EA0CgBklB,EAAc,CACd1f,OAAQ,6BA3CxBqF,EAAA5K,KAAA,EA8CiCof,KAAMpH,KAAN,GAAA1a,OAAcd,KAAK4hB,SAAnB,mBAA8C5hB,KAAK0oB,YAAYD,GAAS,CACzF5F,QAAS,CACLC,eAAgB,sDAhDpC,OAAApd,EAAA0I,EAAAxG,KA8CmBvF,EA9CnBqD,EA8CmBrD,KAMPrC,KAAK+O,gBAAkB1M,EApDnC+L,EAAA5K,KAAA,gBAAA4K,EAAA7K,KAAA,EAAA6K,EAAAtK,GAAAsK,EAAA,SAsDYE,QAAQga,KAAK,qCAAbla,EAAAtK,IAtDZ,yBAAAsK,EAAArK,SAAAiK,EAAAhO,KAAA,qCAAAwoB,EAAA7b,MAAA3M,KAAA4M,YAAA,KAAA/K,IAAA,eAAAgG,MAAA,eAAA8gB,EAAAxmB,OAAA+J,EAAA,EAAA/J,CAAAiB,EAAArH,EAAAoQ,KAAA,SAAAmF,EA0DuBnR,GA1DvB,IAAAsoB,EAAA3iB,EAAAzD,EAAA,OAAAe,EAAArH,EAAAsH,KAAA,SAAAkO,GAAA,cAAAA,EAAAhO,KAAAgO,EAAA/N,MAAA,cAAA+N,EAAAhO,KAAA,EA6DgBklB,EAAc,CACd1f,OAAQ,qBACR5I,SAAUA,GA/D1BoR,EAAA/N,KAAA,EAmEiCof,KAAMpH,KAAN,GAAA1a,OAAcd,KAAK4hB,SAAnB,mBAA8C5hB,KAAK0oB,YAAYD,GAAS,CACzF5F,QAAS,CACLC,eAAgB,sDArEpC,cAAAhd,EAAAyL,EAAA3J,KAmEmBvF,EAnEnByD,EAmEmBzD,KAnEnBkP,EAAA5J,OAAA,SAyEmBtF,GAzEnB,OAAAkP,EAAAhO,KAAA,EAAAgO,EAAAzN,GAAAyN,EAAA,SA2EYjD,QAAQga,KAAK,+BAAb/W,EAAAzN,IA3EZ,yBAAAyN,EAAAxN,SAAAuN,EAAAtR,KAAA,4BAAAwM,GAAA,OAAAmc,EAAAhc,MAAA3M,KAAA4M,YAAA,KAAA/K,IAAA,gBAAAgG,MAAA,eAAA+gB,EAAAzmB,OAAA+J,EAAA,EAAA/J,CAAAiB,EAAArH,EAAAoQ,KAAA,SAAA0c,IAAA,IAAApP,EAAAlJ,EAAAlO,EAAA,OAAAe,EAAArH,EAAAsH,KAAA,SAAAylB,GAAA,cAAAA,EAAAvlB,KAAAulB,EAAAtlB,MAAA,cAkFYiW,EAAiC,GAlF7CqP,EAAAvlB,KAAA,EAAAulB,EAAAtlB,KAAA,EAsFiCof,KAAMpH,KAAN,GAAA1a,OAAcd,KAAK4hB,SAAnB,8CAA0E,CAC3FiB,QAAS,CACLC,eAAgB,sDAxFpC,OAAAvS,EAAAuY,EAAAlhB,KAsFmBvF,EAtFnBkO,EAsFmBlO,KAMPoX,EAAYpX,EAAKoX,UA5F7BqP,EAAAtlB,KAAA,gBAAAslB,EAAAvlB,KAAA,EAAAulB,EAAAhlB,GAAAglB,EAAA,SA8FYxa,QAAQga,KAAK,gCAAbQ,EAAAhlB,IA9FZ,eAAAglB,EAAAnhB,OAAA,SAiGe8R,GAjGf,yBAAAqP,EAAA/kB,SAAA8kB,EAAA7oB,KAAA,qCAAA4oB,EAAAjc,MAAA3M,KAAA4M,YAAA,KAAA/K,IAAA,oBAAAgG,MAAA,eAAAkhB,EAAA5mB,OAAA+J,EAAA,EAAA/J,CAAAiB,EAAArH,EAAAoQ,KAAA,SAAA6c,IAAA,IAAAvY,EAAApO,EAAA,OAAAe,EAAArH,EAAAsH,KAAA,SAAA4lB,GAAA,cAAAA,EAAA1lB,KAAA0lB,EAAAzlB,MAAA,cAAAylB,EAAA1lB,KAAA,EAAA0lB,EAAAzlB,KAAA,EAsGiCof,KAAMpH,KAAN,GAAA1a,OAAcd,KAAK4hB,SAAnB,mBAA8C,mCAtG/E,cAAAnR,EAAAwY,EAAArhB,KAsGmBvF,EAtGnBoO,EAsGmBpO,KAtGnB4mB,EAAAthB,OAAA,SAyGmBtF,EAAK4W,OAzGxB,OAAAgQ,EAAA1lB,KAAA,EAAA0lB,EAAAnlB,GAAAmlB,EAAA,SA2GY3a,QAAQC,IAAI,8BAAZ0a,EAAAnlB,IA3GZ,yBAAAmlB,EAAAllB,SAAAilB,EAAAhpB,KAAA,qCAAA+oB,EAAApc,MAAA3M,KAAA4M,YAAA,KAAA/K,IAAA,WAAAgG,MAAA,eAAAqhB,EAAA/mB,OAAA+J,EAAA,EAAA/J,CAAAiB,EAAArH,EAAAoQ,KAAA,SAAAgd,EA+GmBhpB,EAA6BkI,GA/GhD,IAAA+gB,EAAA,OAAAhmB,EAAArH,EAAAsH,KAAA,SAAAgmB,GAAA,cAAAA,EAAA9lB,KAAA8lB,EAAA7lB,MAAA,cAAA6lB,EAAA9lB,KAAA,EAiHkB6lB,EAAa,CACfrgB,OAAQ,0BACR5I,SAAUA,EACVkI,OAAQA,GApHxBghB,EAAA7lB,KAAA,EAsHyBof,KAAMpH,KAAN,GAAA1a,OAAcd,KAAK4hB,SAAnB,sBAAA9gB,OAAiDd,KAAK0oB,YAAYU,KAtH3F,cAAAC,EAAA1hB,OAAA,SAAA0hB,EAAAzhB,MAAA,OAAAyhB,EAAA9lB,KAAA,EAAA8lB,EAAAvlB,GAAAulB,EAAA,SAyHY/a,QAAQC,IAAI,8BAAZ8a,EAAAvlB,IAzHZ,yBAAAulB,EAAAtlB,SAAAolB,EAAAnpB,KAAA,4BAAAyM,EAAAC,GAAA,OAAAwc,EAAAvc,MAAA3M,KAAA4M,YAAA,KAAA/K,IAAA,OAAAgG,MAAA,eAAAyhB,EAAAnnB,OAAA+J,EAAA,EAAA/J,CAAAiB,EAAArH,EAAAoQ,KAAA,SAAAod,EA6HeppB,GA7Hf,IAAAipB,EAAA,OAAAhmB,EAAArH,EAAAsH,KAAA,SAAAmmB,GAAA,cAAAA,EAAAjmB,KAAAimB,EAAAhmB,MAAA,cAAAgmB,EAAAjmB,KAAA,EA+HkB6lB,EAAa,CACfrgB,OAAQ,qBACR5I,SAAUA,GAjI1BqpB,EAAAhmB,KAAA,EAoIyBof,KAAMpH,KAAN,GAAA1a,OAAcd,KAAK4hB,SAAnB,sBAAA9gB,OAAiDd,KAAK0oB,YAAYU,KApI3F,cAAAI,EAAA7hB,OAAA,SAAA6hB,EAAA5hB,MAAA,OAAA4hB,EAAAjmB,KAAA,EAAAimB,EAAA1lB,GAAA0lB,EAAA,SAuIYlb,QAAQC,IAAI,8BAAZib,EAAA1lB,IAvIZ,yBAAA0lB,EAAAzlB,SAAAwlB,EAAAvpB,KAAA,4BAAA2N,GAAA,OAAA2b,EAAA3c,MAAA3M,KAAA4M,YAAA,KAAA/K,IAAA,sBAAAgG,MAAA,eAAA4hB,EAAAtnB,OAAA+J,EAAA,EAAA/J,CAAAiB,EAAArH,EAAAoQ,KAAA,SAAAud,EA2I8BhS,GA3I9B,IAAAxD,EAAA7R,EAAA,OAAAe,EAAArH,EAAAsH,KAAA,SAAAsmB,GAAA,cAAAA,EAAApmB,KAAAomB,EAAAnmB,MAAA,cAAAmmB,EAAApmB,KAAA,EAAAomB,EAAAnmB,KAAA,EA6IiCof,KAAMpH,KAAN,GAAA1a,OAAcd,KAAK4hB,SAAnB,uDAAA9gB,OAAkF4W,IA7InH,cAAAxD,EAAAyV,EAAA/hB,KA6ImBvF,EA7InB6R,EA6ImB7R,KA7InBsnB,EAAAhiB,OAAA,SA8ImBtF,EAAKlC,UA9IxB,OAAAwpB,EAAApmB,KAAA,EAAAomB,EAAA7lB,GAAA6lB,EAAA,SAgJYrb,QAAQC,IAAI,8BAAZob,EAAA7lB,IAhJZ,yBAAA6lB,EAAA5lB,SAAA2lB,EAAA1pB,KAAA,4BAAA4N,GAAA,OAAA6b,EAAA9c,MAAA3M,KAAA4M,YAAA,KAAA/K,IAAA,cAAAgG,MAAA,SAoJgB9L,GACR,IAAM6tB,EAAW,GAEXpjB,EAAM,SAACqjB,EAAQC,GAEjBA,EAAU,QADVA,EAAiB,oBAANA,EAAmBA,IAAMA,GACnB,QAAWzc,IAANyc,EAAkB,GAAKA,EAC7CF,EAAEA,EAAExc,QAAU2c,mBAAmBF,GAAK,IAAME,mBAAmBD,IAiCnE,OA9BoB,SAAdE,EAAwBC,EAAaC,GACvC,IAAIC,EAAGC,EAAKvoB,EAEZ,GAAIooB,EACA,GAAI5rB,MAAMgsB,QAAQH,GACd,IAAKC,EAAI,EAAGC,EAAMF,EAAI9c,OAAQ+c,EAAIC,EAAKD,IACnCH,EACIC,EAAS,KAAyB,kBAAXC,EAAIC,IAAmBD,EAAIC,GAAKA,EAAI,IAAM,IACjED,EAAIC,SAGT,GAAoB,oBAAhB3c,OAAO0c,GACd,IAAKroB,KAAOqoB,EACRF,EAAYC,EAAS,IAAMpoB,EAAM,IAAKqoB,EAAIroB,SAG9C2E,EAAIyjB,EAAQC,QAEb,GAAI7rB,MAAMgsB,QAAQH,GACrB,IAAKC,EAAI,EAAGC,EAAMF,EAAI9c,OAAQ+c,EAAIC,EAAKD,IACnC3jB,EAAI0jB,EAAIC,GAAGzf,KAAMwf,EAAIC,GAAGtiB,YAG5B,IAAKhG,KAAOqoB,EACRF,EAAYnoB,EAAKqoB,EAAIroB,IAG7B,OAAO+nB,EAGJI,CAAY,GAAIjuB,GAAGiV,KAAK,SA3LvCmX,EAAA,IDCM7Y,GAAgB,IAAIgb,GACpB/lB,GAAU,IAAIqR,GAAQ9G,IAItByb,GAAS,CACXrqB,cAJkB,IAAIuY,GAAcnJ,GAAe/K,GAASuK,IAK5DvK,WACAwgB,UAJc,IAAInK,GADI,qDEdtBgH,SAAmDpM,OAAOC,SAASoM,SAAW,KAAOrM,OAAOC,SAASqM,KAAOtM,OAAOC,SAASsM,SAASzU,MAAM,KAAK0U,MAAM,EAAExM,OAAOC,SAASsM,SAASzU,MAAM,KAAKF,OAAO,GAAG4D,KAAK,UAE3MgK,2BAAQ,SAAA9X,IAAA,IAAAoC,EAAAjD,EAAA,OAAAe,EAAArH,EAAAsH,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACiBof,KAAMpH,KAAN,GAAA1a,OAAclC,EAAKgjB,SAAnB,gDAA4E,CAC7FiB,QAAS,CACLC,eAAgB,sDAHpB,cAAAxd,EAAAhC,EAAAsE,KACGvF,EADHiD,EACGjD,KADHiB,EAAAqE,OAAA,SAOGtF,GAPH,wBAAAiB,EAAAS,SAAAb,QFkBRoM,iBACAR,QAQJ0b,IAASC,OACL3uB,EAAAC,EAAAC,cAAC0uB,GAAA,iBAAD,CAAkBC,iBAAiB,EACjBC,aAAc,CACVC,SAAU,MACVC,WAAY,UAE9BhvB,EAAAC,EAAAC,cAAC+uB,EAAA,EAAaR,GACVzuB,EAAAC,EAAAC,cAACgvB,GAAD,QAGNvrB,SAASmB,eAAe,SrB6FxB,kBAAmBqqB,WACrBA,UAAUC,cAAcC,MAAMC,KAAK,SAAAC,GACjCA,EAAaC","file":"static/js/main.1b362018.chunk.js","sourcesContent":["import i18n from \"i18next\";\nimport Backend from 'i18next-xhr-backend';\n\nconst locale = i18n\n    .use(Backend)\n    .init({\n        backend: {\n            loadPath: process.env.NODE_ENV !== 'production' ? '/locales/{{lng}}.json' : '/wp-content/plugins/wp-campaigns/locales/{{lng}}.json'\n        },\n        lng: \"en_US\",\n        interpolation: {\n            escapeValue: false\n        }\n    });\n\nexport default locale;\n","import styled from \"styled-components\";\nimport React from \"react\";\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome'\n\nconst WidgetControlStyled = styled.div`\n    max-width: 600px;\n    margin: 10px auto;\n    position: relative;\n    border: 2px solid transparent;\n    :hover{\n      border-color: #4f504f;    \n    }\n    &.selected{\n      border-color: #4f504f;    \n    }\n    .actions{\n        text-align: right;\n        display: flex;\n        justify-content: flex-end;\n        opacity: 0;\n        position: absolute;\n        width: 100%;\n        background: #000000c2;\n        color: #fff;\n        z-index: 1;\n    }\n    i{\n        margin: 8px 4px;\n    border-left: 2px solid #9e9e9e;\n    padding-left: 11px;\n    padding-right: 7px;\n    line-height: 30px;\n    cursor: pointer;\n    svg{\n        margin: 6px 4px;\n    }\n    :last-child{\n        border-right: none;\n    }\n    :first-child{\n        border-left: none;\n    }\n    }\n    \n    &.selected,\n    :hover{\n        .actions{\n            opacity: 1;\n        }\n    }\n`;\n\n\nconst WidgetControl = (props: any) => {\n    return (\n        <WidgetControlStyled className={props.selected ? 'selected' : ''}>\n            <div className=\"actions\">\n                <i onClick={props.onEdit}> <FontAwesomeIcon icon=\"pencil-alt\"/> </i>\n                <i onClick={props.onAdd}> <FontAwesomeIcon icon=\"plus-square\"/> </i>\n                <i onClick={props.onDelete}> <FontAwesomeIcon icon=\"trash-alt\"/> </i>\n            </div>\n            <div className=\"template\">\n                {props.children}\n            </div>\n        </WidgetControlStyled>\n    );\n};\n\nexport default WidgetControl;\n\n","import styled from \"styled-components\";\n\nexport const Flex = styled.div`\n      display:flex;\n      flex:1;\n      \n`;\n\nexport const FlexMinHeightContent = styled(Flex)`\nmin-height: -webkit-min-content;\n`;\n\nexport const FlexCenter = styled(Flex)`\n    align-items: center;\n    justify-content: center;\n`;\n\nexport const FlexColumn = styled(Flex)`\n  flex-direction: column;\n`;\n\nexport const FlexColumnCenter = styled(FlexCenter)`\nflex-direction: column;\n`;\n\nexport const FlexAutoScroll = styled(Flex)`\n overflow: auto;\n`;\n\nexport const ScrollableRelativeStyled = styled.div`\n    position: relative;\n    flex: 1;\n`;\n\nexport const ScrollableStyled = styled.div`\n    position: absolute;\n    left: 0;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    overflow: auto;\n    font-family: Arial,Helvetica Neue,Helvetica,sans-serif;\n`;\nexport const ScrollableCenterContentStyled = styled(ScrollableStyled)`\n    //align-items: center;\n    //justify-content: center;\n    display: flex;\n\n`;\n\n\n// ======\n\n\n\n","import styled from \"styled-components\";\nimport React from \"react\";\nimport WidgetControl from \"./WidgetControl\";\nimport {inject, observer} from \"mobx-react\";\nimport Widget from \"../stores/Widget\";\nimport {\n    FlexAutoScroll,\n    FlexMinHeightContent,\n    FlexColumnCenter,\n} from \"./StyleComponents\";\nimport Campaign from \"../stores/Campaign\";\n\nconst juice = require('juice');\nconst CampaignTemplateStyled = styled(FlexAutoScroll)`\n    transition: transform 500ms ease 150ms;\n    transform: translate(${\n    (props: any) => {\n        return props.isOpen ? '0' : '-300px'\n    }\n    });\n`;\n\n\n@inject('campaignStore')\n@inject('uiStore')\n@observer\nclass CampaignTemplate extends React.Component<any, any> {\n\n    static whyDidYouRender = true;\n\n    htmlToString(who: any, deep: boolean): string {\n        if (!who || !who.tagName) {\n            return '';\n        }\n        let txt, ax, el: HTMLDivElement | null = document.createElement('div');\n        const clone = who.cloneNode(true);\n        el.appendChild(clone);\n        txt = el.innerHTML;\n        if (deep) {\n            ax = txt.indexOf('>') + 1;\n            txt = txt.substring(0, ax) + who.innerHTML + txt.substring(ax);\n        }\n        el = null;\n        return (txt);\n    }\n\n    componentWillUnmount(): void {\n        this.updateHtml(this.props.campaignStore.campaign);\n    }\n\n    // need to be in service\n    updateHtml(campaign: Campaign) {\n        const html = document.createElement('html');\n        const head = document.createElement('head');\n        const body = document.createElement('body');\n        const previewText = document.createElement('div');\n        const content = document.createElement('div');\n        const linkToArchiveWrapper = document.createElement('div');\n        const style = document.querySelector('style[data-styled]');\n        const template = document.getElementById('template');\n\n        if (style) {\n            const cloneCss: any = style.cloneNode(true);\n            cloneCss.innerHTML = '/* sc-component-id: sc-bdVaJa */ .iLWcyK{max-width:600px;margin:10px auto;position:relative;border:2px solid transparent;} .iLWcyK:hover{border-color:#4f504f;} .iLWcyK.selected{border-color:#4f504f;} .iLWcyK .actions{text-align:right;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;opacity:0;position:absolute;width:100%;background:#000000c2;color:#fff;z-index:1;} .iLWcyK i{margin:8px 4px;border-left:2px solid #9e9e9e;padding-left:11px;padding-right:7px;line-height:30px;cursor:pointer;} .iLWcyK i svg{margin:6px 4px;} .iLWcyK i:last-child{border-right:none;} .iLWcyK i:first-child{border-left:none;} .iLWcyK.selected .actions,.iLWcyK:hover .actions{opacity:1;} /* sc-component-id: sc-bwzfXH */ /* sc-component-id: sc-htpNat */ .iJQKwy{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:1;-ms-flex:1;flex:1;min-height:-webkit-min-content;} /* sc-component-id: sc-bxivhb */ /* sc-component-id: sc-ifAKCX */ /* sc-component-id: sc-EHOje */ .gLTVQq{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:1;-ms-flex:1;flex:1;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;} /* sc-component-id: sc-bZQynM */ .gDjquy{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:1;-ms-flex:1;flex:1;overflow:auto;} /* sc-component-id: sc-gzVnrw */ /* sc-component-id: sc-htoDjs */ /* sc-component-id: sc-dnqmqq */ /* sc-component-id: sc-iwsKbI */ .ioquTM{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:1;-ms-flex:1;flex:1;overflow:auto;-webkit-transition:-webkit-transform 500ms ease 150ms;-webkit-transition:transform 500ms ease 150ms;transition:transform 500ms ease 150ms;-webkit-transform:translate(-300px);-ms-transform:translate(-300px);transform:translate(-300px);} /* sc-component-id: sc-gZMcBi */ .hNwQYP{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:1;-ms-flex:1;flex:1;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-flex:1;-ms-flex:1;flex:1;max-width:600px;border-right:1px solid #282c34;position:relative;-webkit-transition:-webkit-transform 500ms ease;-webkit-transition:transform 500ms ease;transition:transform 500ms ease;-webkit-transform:translate(-100%);-ms-transform:translate(-100%);transform:translate(-100%);} .hNwQYP header{-webkit-flex:1;-ms-flex:1;flex:1;max-height:60px;background:#282c34;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;color:white;} .hNwQYP header span{-webkit-flex:1;-ms-flex:1;flex:1;} .hNwQYP header button{position:relative;left:25px;background:transparent;border:none;color:white;cursor:pointer;padding:10px;font-size:17px;} .hNwQYP main{-webkit-flex:1;-ms-flex:1;flex:1;padding:20px;} .hNwQYP footer{-webkit-flex:1;-ms-flex:1;flex:1;max-height:60px;border-top:1px solid #282c34;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;padding-right:10px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;} .hNwQYP footer button{margin:10px;} .hNwQYP .fields-wrapper{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;} /* sc-component-id: sc-gqjmRU */ .hTnvgW{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:1;-ms-flex:1;flex:1;max-height:80px;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;background:#282c34;color:white;} .hTnvgW ul{list-style:none;margin:30px;} .hTnvgW ul li{display:inline-block;margin:0 10px;cursor:pointer;} .hTnvgW svg{margin-left:14px;margin-right:0;} /* sc-component-id: sc-VigVT */ .eqyCgV{color:white;}.hJDcAA{color:#989898ab;} /* sc-component-id: sc-jTzLTM */ .kBpHBG{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:1;-ms-flex:1;flex:1;} /* sc-component-id: sc-fjdhpX */ /* sc-component-id: sc-jzJRlG */ /* sc-component-id: sc-cSHVUG */ /* sc-component-id: sc-kAzzGY */ /* sc-component-id: sc-chPdSV */ /* sc-component-id: sc-kgoBCf */ .jDrawq{position:fixed;right:0;left:0;bottom:0;top:0;background:#ffffff78;z-index:100;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;font-size:30px;} /* sc-component-id: sc-kGXeez */ .dxpcOG{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:1;-ms-flex:1;flex:1;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:100%;max-width:700px;margin:0 auto;border-radius:3px;background:white;} .dxpcOG h1{margin:0;padding:19px 15px 10px;font-size:28px;font-weight:500;text-align:center;} .dxpcOG h3{margin-top:0;font-weight:500;text-align:center;color:rgba(0,0,0,.54);margin-bottom:53px;font-size:16px;} .dxpcOG h4{font-size:17px;font-weight:500;text-align:left;} .dxpcOG form{padding:0 40px 40px;} .dxpcOG ul{padding:0 23px;} /* sc-component-id: sc-kpOJdX */ .fYJAtH{padding:0;margin-bottom:30px;list-style-type:decimal;text-align:left;} /* sc-component-id: sc-dxgOiQ */ .lkfsfZ{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:1;-ms-flex:1;flex:1;font-family:Arial,Helvetica Neue,Helvetica,sans-serif;max-width:600px;margin:0px auto;background-color:transparent;padding:14px;} .lkfsfZ a{-webkit-text-decoration:none;text-decoration:none;color:black;} .lkfsfZ img{max-width:560px;}.keQoqO{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:1;-ms-flex:1;flex:1;font-family:Arial,Helvetica Neue,Helvetica,sans-serif;max-width:600px;margin:0px auto;background-color:#f0f0f0;padding:14px;} .keQoqO a{-webkit-text-decoration:none;text-decoration:none;color:black;} .keQoqO img{max-width:277px;} /* sc-component-id: sc-ckVGcZ */ .EeDxP{font-family:Arial,Helvetica Neue,Helvetica,sans-serif;text-align:right;float:none;width:100%;} .EeDxP td.text{padding-right:0;} .EeDxP td.text h3{margin-top:0;}.ioRzOG{font-family:Arial,Helvetica Neue,Helvetica,sans-serif;text-align:right;float:right;width:50%;} .ioRzOG td.text{padding-right:10px;} .ioRzOG td.text h3{margin-top:0;} /* sc-component-id: sc-jKJlTe */ .gdGwfl{text-align:center;font-family:Arial,Helvetica Neue,Helvetica,sans-serif;} .gdGwfl img{max-width:100px;} /* sc-component-id: sc-eNQAEJ */ .fEyOGn{font-family:Arial,Helvetica Neue,Helvetica,sans-serif;} .fEyOGn ul{text-align:center;margin:0;list-style:none;-webkit-flex:1;-ms-flex:1;flex:1;max-width:600px;border-bottom:1px solid #9e1c34;border-top:1px solid #9e1c34;padding:10px 0;} .fEyOGn ul li{display:inline-block;} .fEyOGn ul li a{-webkit-text-decoration:none;text-decoration:none;} .fEyOGn ul li span{display:inline-block;margin:0 6px;} /* sc-component-id: sc-hMqMXs */ /* sc-component-id: sc-kEYyzF */ /* sc-component-id: sc-kkGfuU */ /* sc-component-id: sc-iAyFgw */ /* sc-component-id: sc-hSdWYo */';\n            head.appendChild(cloneCss);\n        }\n\n        previewText.innerHTML = `<div id=\"previewText\" class=\"mcnPreview Text\" style=\"display:none; font-size:0px; line-height:0px; max-height:0px; max-width:0px; opacity:0; overflow:hidden; visibility:hidden; mso-hide:all;\">${campaign.mailServiceFields.preview}</div>`;\n        body.appendChild(previewText);\n\n        linkToArchiveWrapper.innerHTML = '<div style=\"text-align: center\"><a href=\"*|ARCHIVE|*\" style=\"font-size: 12px; color:#bdbcbc\">View this email in your browser</a></div>';\n        content.appendChild(linkToArchiveWrapper);\n\n        if (template) {\n            template.className = '';\n            content.innerHTML = template.innerHTML;\n            Array.from(content.querySelectorAll('.actions')).forEach(node => node.remove());\n        }\n\n        html.appendChild(head);\n        body.appendChild(content);\n        html.appendChild(body);\n\n        // delete all .actions buttons\n\n\n        const result = juice(this.htmlToString(html, false));\n\n\n        if (process.env.NODE_ENV !== 'production') {\n            console.log(result);\n        }\n\n        this.props.updateHtml((result));\n    }\n\n\n    // computedStyleToInlineStyle($0, {\n//     recursive: true,\n//     properties: style.match(/\\{([a-z\\-\\,\\.\\d\\:\\\\#;\\%\\s])+\\}/gi).reduce((acc,item)=>{\n//\n//         return acc.concat(item.replace(/{|}/g, '').split(';').map(rule => rule.split(':')[0]).filter(e=>e));\n//     },[])\n// });\n\n    computedStyleToInlineStyle = (element: any, options: any) => {\n        const each = Array.prototype.forEach;\n        if (!element) {\n            throw new Error(\"No element specified.\");\n        }\n\n        if (!options) {\n            options = {};\n        }\n\n        if (options.recursive) {\n            each.call(element.children, (child: any) => {\n                this.computedStyleToInlineStyle(child, options);\n            });\n        }\n\n        const computedStyle = getComputedStyle(element);\n        each.call(options.properties || computedStyle, (property: any) => {\n            element.style[property] = computedStyle.getPropertyValue(property);\n        });\n    }\n\n    render(): React.ReactElement<any, string | React.JSXElementConstructor<any>> | string | number | {} | React.ReactNodeArray | React.ReactPortal | boolean | null | undefined {\n\n        const widgets = this.props.widgets.map((widget: Widget, index: number) => (\n            <WidgetControl key={widget.key}\n                           selected={widget.isSelected}\n                           onEdit={() => this.props.widgetEditHandler(index)}\n                           onAdd={() => this.props.widgetAddHandler(widget, index)}\n                           onDelete={() => this.props.widgetDeleteHandler(index)}>\n                {widget.renderTemplate({...this.props, data: widget.data})}\n            </WidgetControl>\n        ));\n\n        return (\n            <CampaignTemplateStyled {...this.props}>\n                <FlexMinHeightContent {...this.props}>\n                    <FlexColumnCenter {...this.props}>\n                        <div id='template'>\n                            {/*<ElementorTemplate/>*/}\n                            {widgets}\n                        </div>\n                    </FlexColumnCenter>\n                </FlexMinHeightContent>\n            </CampaignTemplateStyled>\n        );\n    }\n}\n\nexport default CampaignTemplate;\n","import styled from \"styled-components\";\nimport React from \"react\";\nimport {Flex} from \"./StyleComponents\";\nimport Button from '@material-ui/core/Button';\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {inject, observer} from \"mobx-react\";\nimport {observable} from \"mobx\";\nimport Widget from \"../stores/Widget\";\nimport {withSnackbar} from \"notistack\";\nimport i18n from \"i18next\";\n\nconst EditorWrapperStyled = styled(Flex)`\n    flex-direction: column;\n    flex:1;\n    max-width:600px;\n    border-right:1px solid #282c34;\n    position: relative;\n    transition: transform 500ms ease;\n    transform: translate(${\n    (props: any) => {\n        return props.isOpen ? '0' : '-100%'\n    }\n    });\n    header{\n          flex:1; \n          max-height: 60px; \n          background: #282c34;\n          align-items: center;\n          //justify-content: center;\n          display: flex;\n          color: white;\n      span{\n          flex: 1;\n      }\n      button{\n        position: relative;\n        left: 25px;\n        background: transparent;\n        border: none;\n        color: white;\n        cursor: pointer;\n        padding: 10px;\n        font-size: 17px;\n      }\n  };\n    main{\n      flex:1;\n      padding:20px;\n    };\n    footer{\n        flex:1;\n        max-height: 60px;\n        border-top:1px solid #282c34;\n        justify-content: flex-end;\n        padding-right: 10px;\n        display: flex;\n        align-items: center;\n        button{\n        margin: 10px;\n        }\n    };\n    .fields-wrapper{\n        display: flex;\n        flex-direction: column;\n        align-items: flex-start;\n    }\n`;\n\n@inject('uiStore', 'campaignStore')\n@observer\nclass EditorWrapper extends React.Component<any, any> {\n\n    @observable loading: boolean = false;\n\n    @observable dataChanged = false;\n\n    onUpdateData = (widgetDateKey: string, data: any) => {\n        this.dataChanged = true;\n        this.props.updateData(widgetDateKey, data);\n    };\n\n    save = async () => {\n        this.loading = true;\n\n        try {\n            await this.props.campaignStore.campaign.save();\n            const key = this.props.enqueueSnackbar('Saving successful', {variant: 'success'});\n            setTimeout(() => this.props.closeSnackbar(key), 1500);\n        } catch (e) {\n            const key = this.props.enqueueSnackbar('Error', {variant: 'error'});\n            setTimeout(() => this.props.closeSnackbar(key), 1500);\n        }\n\n        this.dataChanged = false;\n        this.loading = false;\n    };\n\n    render(): React.ReactElement<any, string | React.JSXElementConstructor<any>> | string | number | {} | React.ReactNodeArray | React.ReactPortal | boolean | null | undefined {\n\n        const widget: Widget = this.props.campaignStore.campaign.template.selectedWidget;\n\n        return (\n            <EditorWrapperStyled {...this.props}>\n                <header>\n                    <button onClick={this.props.resetWidgetSelected}>\n                        <FontAwesomeIcon icon=\"chevron-left\"/>\n                    </button>\n                    <span>{widget && widget.config.displayName} {i18n.t('edit')}</span>\n                </header>\n                <main>\n                    {widget && widget.renderEditor({\n                        onUpdateData: this.onUpdateData,\n                        widget,\n                    })}\n                </main>\n                <footer dir={this.props.uiStore.dir}>\n                    <Button variant=\"outlined\"\n                            onClick={this.props.campaignStore.campaign.template.resetWidgetSelected}>\n                        {i18n.t('cancel')}\n                    </Button>\n                    <Button\n                        color=\"primary\"\n                        variant=\"contained\"\n                        disabled={(this.loading || !this.dataChanged)}\n                        onClick={this.save}>\n                        {this.loading && (\n                            <img\n                                alt='loading'\n                                src={process.env.NODE_ENV !== 'production' ? '/images/Dual_Ring-1s-200px-blue.svg' : '/wp-content/plugins/wp-campaigns/admin/partials/build/images/Dual_Ring-1s-200px-blue.svg'}\n                                width=\"20px\"\n                                height=\"20px\" style={{marginRight: 10}}/>)}\n                        {this.loading ? i18n.t('saving') : i18n.t('save')}\n                    </Button>\n                </footer>\n            </EditorWrapperStyled>\n        );\n    }\n}\n\n\nexport default withSnackbar(EditorWrapper);\n","import styled from \"styled-components\";\nimport React from \"react\";\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome'\nimport {Flex} from \"./StyleComponents\";\nimport {inject, observer} from \"mobx-react\";\nimport i18n from \"i18next\";\n\nconst StepperStyled = styled(Flex)`\n    max-height:80px;\n    align-items: center;\n    justify-content: center;\n    background:#282c34;\n    color: white;\n    ul{\n        list-style: none;\n            margin: 30px;\n        li{\n          display:inline-block;\n          margin:0 10px;\n          cursor: pointer;\n        }\n    }\n    \n    svg{\n        margin-left: ${({uiStore}: any) => uiStore.isRTL ? '0' : '14px'};\n        margin-right: ${({uiStore}: any) => uiStore.isRTL ? '14px' : '0'};\n    }\n`;\n\nconst LiStyled = styled.li`\n    color: ${({uiStore, step}: any) => uiStore.stepperState < step ? \"#989898ab\" : 'white'};\n`;\n\nconst LiStyledObserver = observer(({isRTL, ...props}) => (\n    <LiStyled {...props} isRTL={isRTL}>{props.children}</LiStyled>));\n\nconst Stepper = inject(\"uiStore\")(observer((props: any) => {\n\n    const iconName: any = `chevron-${props.uiStore.isRTL ? 'left' : 'right'}`;\n    return (\n        <StepperStyled {...props}\n                       data={props.uiStore.stepperState}\n                       dir={props.uiStore.dir}>\n            <ul>\n                <LiStyledObserver {...props}\n                                  step='1'\n                                  isRTL={props.uiStore.isRTL}\n                                  onClick={() => props.setStep(1)}>\n                    {i18n.t(\"Campaign config\")}\n                    <FontAwesomeIcon icon={iconName}/>\n                </LiStyledObserver>\n                <LiStyledObserver {...props}\n                                  step='2'\n                                  isRTL={props.uiStore.isRTL}\n                                  onClick={() => props.setStep(2)}>\n                    {i18n.t(\"Edit template\")}\n                    <FontAwesomeIcon icon={iconName}/>\n                </LiStyledObserver>\n                <LiStyledObserver {...props}\n                                  step='3'\n                                  isRTL={props.uiStore.isRTL}\n                                  onClick={() => props.setStep(3)}>\n                    {i18n.t(\"Sending\")}\n                </LiStyledObserver>\n            </ul>\n        </StepperStyled>\n    );\n}));\n\nexport default Stepper;\n\n","import React from \"react\";\nimport {FlexAutoScroll} from \"./StyleComponents\";\nimport {inject, observer} from \"mobx-react\";\n\nconst StepperContent = inject(\"uiStore\")(observer(({children, uiStore, step, ...othersProps}: any) => {\n    return step === uiStore.stepperState ?\n        (<FlexAutoScroll {...othersProps}>\n            {React.cloneElement(children, othersProps)}\n        </FlexAutoScroll>)\n        : null;\n}));\n\nexport default StepperContent;\n","import { library } from '@fortawesome/fontawesome-svg-core'\nimport { faChevronLeft,faChevronRight,faPencilAlt,faPlusSquare,faTrashAlt,faTimes } from '@fortawesome/free-solid-svg-icons'\n\nlibrary.add(\n    faChevronLeft,\n    faChevronRight,\n    faPencilAlt,\n    faPlusSquare,\n    faTrashAlt,\n    faTimes\n);\n","import styled from \"styled-components\";\nimport React from \"react\";\nimport {Flex} from \"../components/StyleComponents\";\nimport {inject, observer} from \"mobx-react\";\nimport Widget from \"../stores/Widget\";\nimport {observable} from \"mobx\";\n\nconst CampaignTemplateWrapperStyled = styled(Flex)``;\n\n@inject('campaignStore')\n@observer\nclass CampaignTemplateWrapper extends React.Component<any, any> {\n\n    @observable isSaveButtonDisable = true;\n\n    onWidgetEditHandler = (widgetIndex: number) => {\n        this.props.campaignStore.setWidgetSelected(widgetIndex);\n    };\n\n    onWidgetDeleteHandler = (widgetIndex: number) => {\n        this.props.campaignStore.campaign.template.deleteWidget(widgetIndex);\n    };\n\n    onWidgetAddHandler = (widget: Widget, index: number) => {\n        this.props.campaignStore.campaign.template.addWidget(widget.config.type, index);\n    };\n\n    resetWidgetSelected = () => {\n        this.props.campaignStore.setWidgetSelected(null);\n    };\n\n    save = async () => {\n        this.isSaveButtonDisable = true;\n        return await this.props.campaignStore.save();\n    };\n\n    updateData = (key: string, value: any) => {\n        this.isSaveButtonDisable = false;\n        if (this.props.campaignStore.campaign.selectedWidget) {\n            this.props.campaignStore.campaign.selectedWidget.data[key] = value;\n        }\n    };\n\n    updateHtml = (html: string) => {\n        this.props.campaignStore.campaign.setHtml(html);\n    }\n\n    render(): React.ReactElement<any, string | React.JSXElementConstructor<any>> | string | number | {} | React.ReactNodeArray | React.ReactPortal | boolean | null | undefined {\n        const childrenWithProps = React.Children.map(this.props.children, (child: any) => {\n            return React.cloneElement(child, {\n                props: this.props,\n                isSaveButtonDisable: this.isSaveButtonDisable,\n                widgetEditHandler: this.onWidgetEditHandler,\n                widgetDeleteHandler: this.onWidgetDeleteHandler,\n                widgetAddHandler: this.onWidgetAddHandler,\n                resetWidgetSelected: this.resetWidgetSelected,\n                save: this.save,\n                updateData: this.updateData,\n                widget: this.props.campaignStore.campaign.selectedWidget,\n                widgets: this.props.campaignStore.campaign.template.widgets,\n                isOpen: this.props.campaignStore.isWidgetSelected,\n                updateHtml: this.updateHtml\n            })\n        });\n\n        return (\n            <CampaignTemplateWrapperStyled {...this.props}>\n                {childrenWithProps}\n            </CampaignTemplateWrapperStyled>\n        );\n    }\n}\n\nexport default CampaignTemplateWrapper;\n\n","import * as Yup from \"yup\";\n\nconst sendingSchema = Yup\n    .object()\n    .shape({\n        emails: Yup\n            .array()\n            .of(Yup.string().email())\n    });\n\nexport default sendingSchema;\n","import styled from \"styled-components\";\nimport React, {useEffect, useState} from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\nimport {Button, TextField} from \"@material-ui/core\";\nimport Modal from \"@material-ui/core/Modal\";\nimport i18n from \"i18next\";\n\nconst ModalContentStyled = styled.div`\n    outline: none;\n    padding: 32px;\n    position: absolute;\n    box-shadow: 0px 3px 5px -1px rgba(0,0,0,0.2), 0px 5px 8px 0px rgba(0,0,0,0.14), 0px 1px 14px 0px rgba(0,0,0,0.12);\n    background-color: #fff;\n        top: 50%;\n    left: 48%;\n    transform: translate(-50%, -48%);\n`;\nconst ConfirmMessageStyled = styled.div`\n    margin-top: 25px;\n    font-size: 14px;\n    color: #241c15;\n    font-weight: 500;\n`;\n\nfunction SendingToListModal({isOpenModal, handleClose, action}: any) {\n\n    const [type, setType] = useState('');\n    const [loading, setLoading] = useState(false);\n\n    useEffect(() => {\n        return () => {\n            setLoading(false);\n            setType('');\n        };\n    },[isOpenModal]);\n\n    return (\n        <Modal\n            aria-labelledby=\"simple-modal-title\"\n            aria-describedby=\"simple-modal-description\"\n            open={isOpenModal}\n            onClose={handleClose}\n        >\n            <ModalContentStyled>\n                <Typography variant=\"h6\" id=\"modal-title\">\n                    {i18n.t(\"Let's spread the news.\")}\n                </Typography>\n                <Typography variant=\"subtitle1\" id=\"simple-modal-description\">\n                    {i18n.t(\"You're going to send to the list, you approve?\")}\n                </Typography>\n\n                <ConfirmMessageStyled>\n                    {i18n.t(\"Type SEND to confirm\")}\n                </ConfirmMessageStyled>\n                <TextField\n                    fullWidth\n                    margin=\"normal\"\n                    variant=\"outlined\"\n                    value={type}\n                    disabled={loading}\n                    onChange={(event: any) => setType(event.target.value)}\n                    type='text'\n                />\n                <div style={{marginTop: '20px'}}>\n                    <Button variant=\"contained\" color=\"primary\" disabled={type !== 'SEND' || loading} onClick={() => {\n                        setLoading(true);\n                        action();\n                    }}>\n                        {loading && (\n                            <img\n                                alt='loading'\n                                src={process.env.NODE_ENV !== 'production'?'/images/Dual_Ring-1s-200px-blue.svg':'/wp-content/plugins/wp-campaigns/admin/partials/build/images/Dual_Ring-1s-200px-blue.svg'}\n                                width=\"20px\"\n                                height=\"20px\" style={{marginRight: 10}}/>)}\n                        {loading ? i18n.t('Sending ...') : i18n.t('SEND')}\n                    </Button>\n                    <Button onClick={handleClose}>cancel</Button>\n                </div>\n            </ModalContentStyled>\n        </Modal>\n    )\n}\n\nexport default SendingToListModal;\n","import * as Yup from \"yup\";\nimport i18n from \"i18next\";\n\nconst getConfigSchema = function(){\n    return Yup\n        .object()\n        .shape({\n            mailchimpListId: Yup\n                .string()\n                .required(i18n.t('Choose mailchimp campaign id is required')),\n            templateId: Yup\n                .number()\n                .required(i18n.t('Choose template is required')),\n            name: Yup\n                .string()\n                .test(\n                    'name',\n                    \"Only a-z, A-Z, space char, 0-9 , , . - _ ! @ # $ % & * : ; \\\"  ' | < > ? + = ( ) / \\\\ ? . , ] [ , min 4 chars, max 70 chars\",\n                    value => /^[a-zA-Z0-9,.-_!@#$%&*:;\"'|<>?+=()/?.,\\]\\[}{\\s]{5,70}$/.test(value),\n                )\n                .required(i18n.t('Name field is required')),\n            mailServiceFields: Yup\n                .object()\n                .shape({\n                    preview: Yup\n                        .string()\n                        .test(\n                            'preview',\n                            \"Only a-z, A-Z, space char, 0-9 , , . - _ ! @ # $ % & * : ; \\\"  ' | < > ? + = ( ) / \\\\ ? . , ] [ , min 4 chars, max 70 chars\",\n                            value => /^[a-zA-Z0-9,.-_!@#$%&*:;\"'|<>?+=()/?.,\\]\\[}{\\s]{5,70}$/.test(value),\n                        )\n                        .required(i18n.t('Preview field is required')),\n                    title: Yup\n                        .string()\n                        .test(\n                            'title',\n                            \"Only a-z, A-Z, space char, 0-9 , , . - _ ! @ # $ % & * : ; \\\"  ' | < > ? + = ( ) / \\\\ ? . , ] [ , min 4 chars, max 70 chars\",\n                            value => /^[a-zA-Z0-9,.-_!@#$%&*:;\"'|<>?+=()/?.,\\]\\[}{\\s]{5,70}$/.test(value),\n                        )\n                        .required(i18n.t('Title field is required')),\n                    from: Yup\n                        .string()\n                        .required(i18n.t('From is required')),\n                    replayTo: Yup\n                        .string()\n                        .email(i18n.t('Invalid pattern email'))\n                        .required(i18n.t('Replay to is required')),\n                    subjectLine: Yup\n                        .string()\n                        .test(\n                            'subjectLine',\n                            \"Only a-z, A-Z, space char, 0-9 , , . - _ ! @ # $ % & * : ; \\\"  ' | < > ? + = ( ) / \\\\ ? . , ] [ , min 4 chars, max 70 chars\",\n                            value => /^[a-zA-Z0-9,.-_!@#$%&*:;\"'|<>?+=()/?.,\\]\\[}{\\s]{5,70}$/.test(value),\n                        )\n                        .required(i18n.t('Subject line is required')),\n                })\n\n        });\n}\n\nexport default getConfigSchema;\n","import styled from \"styled-components\";\nimport React from \"react\";\nimport {Flex, FlexColumnCenter, FlexMinHeightContent, FlexAutoScroll} from \"./StyleComponents\";\nimport {\n    Button,\n    TextField\n} from \"@material-ui/core\";\nimport {inject, observer} from \"mobx-react\";\nimport {Formik} from \"formik\";\nimport {debounce} from \"ts-debounce\";\nimport sendingSchema from \"../validation-schemas/sending-schema\";\nimport {action, observable} from \"mobx\";\nimport {withSnackbar} from \"notistack\";\nimport SendingToListModal from \"./SendingToListModal\";\nimport getConfigSchema from \"../validation-schemas/config-schema\";\nimport i18n from \"i18next\";\n\nconst SendingFormWrapperStyled = styled.section`\n        width: 700px;\n    margin: 0 auto;\n    display: block;\n    border-radius: 3px;\n    /* box-shadow: 0 3px 1px -2px rgba(0,0,0,.2), 0 2px 2px 0 rgba(0,0,0,.14), 0 1px 5px 0 rgba(0,0,0,.12); */\n    background: white;\n    //border: 1px solid #eeeeee;\n    \n    h1{\n        margin: 0;\n    padding: 19px 15px 10px;\n    font-size: 28px;\n    font-weight: 500;\n    text-align: center;\n    }\n    h3{\n    margin-top: 0;\n    font-weight: 500;\n    text-align: center;\n    color: rgba(0,0,0,.54);\n    margin-bottom: 53px;\n    font-size: 16px;\n    }\n    \n    h4{\n      font-size: 19px;\n      font-weight: 500;\n      text-align: ${(props: any) => props.uiStore.isRTL ? 'right' : 'left'};\n    }\n    \n    form{\n         padding:  0 40px 40px;\n    }\n    \n    button{\n        margin-top: 20px;\n        height: 36px;\n        margin-left: ${(props: any) => props.uiStore.isRTL ? '0' : '16px'};\n        margin-right: ${(props: any) => props.uiStore.isRTL ? '16px' : '0'};\n    }\n`;\nconst SendToAllWrapper = styled.div`\n  opacity: ${(props: any) => props.disableSendToAll ? '0.3' : '1'};\n  text-align: ${(props: any) => props.uiStore.isRTL ? 'right' : 'left'};\n`;\nconst UlStyled = styled.ul`\n    list-style: decimal;\n    text-align: ${({uiStore}: any) => uiStore.textAlign};\n    color: #ff5c5c;\n    padding: 0 61px 0;\n    a{\n    color: black;\n    }\n`;\n\n@inject(\"templateStore\", \"campaignStore\", \"uiStore\", 'api')\n@observer\nclass Sending extends React.Component<any, any> {\n\n    @observable loading: boolean = false;\n\n    @observable isOpenModal: boolean = false;\n\n    constructor(props: any) {\n        super(props);\n\n        this.state = {\n            emails: [],\n        }\n    }\n\n    onUpdate = async (field: string, value: any, setFieldTouched: any) => {\n        this.setState({[field]: value});\n        setFieldTouched(field, true, true);\n    };\n\n    onUpdateDebounced = debounce(this.onUpdate, 400);\n\n    onChange = async (event: any, setFieldValue: any, setFieldTouched: any, debounce = true) => {\n        let {name, value} = event.target;\n\n        value = value.split(',').map(Function.prototype.call, String.prototype.trim);\n\n        setFieldValue(name, value);\n\n        if (debounce) {\n            event.persist();\n            this.onUpdateDebounced(name, value, setFieldTouched);\n        }\n    };\n\n    setFieldTouched = (event: any, setFieldTouched: any) => {\n        const {name} = event.target;\n        setFieldTouched(name, true, true);\n    };\n\n    @action sendTest = async (emails: []) => {\n        this.loading = true;\n\n        try {\n            const response = await this.props.campaignStore.campaign.sendTest(emails);\n\n            if (response.data.success_send_test) {\n                const sendingSuccessfully = this.props.enqueueSnackbar('Has been sent successfully, please check your inbox!', {variant: 'success'});\n                setTimeout(() => this.props.closeSnackbar(sendingSuccessfully), 2500);\n            } else {\n                const errorKey = this.props.enqueueSnackbar(response.data.send_test_response.detail, {variant: 'error'});\n                setTimeout(() => this.props.closeSnackbar(errorKey), 3000);\n            }\n\n            this.props.campaignStore.campaign.updateFromJson(response.data.campaign);\n\n        } catch (e) {\n            console.log(e);\n        }\n\n        this.loading = false;\n    };\n\n    send = async () => {\n        try {\n            const response = await this.props.campaignStore.campaign.send();\n\n            this.handleClose();\n\n            if (response.data.error) {\n                const errorKey = this.props.enqueueSnackbar(response.data.error, {variant: 'error'});\n                setTimeout(() => this.props.closeSnackbar(errorKey), 5000);\n            } else {\n                const sendingSuccessfully = this.props.enqueueSnackbar('Hooray, campaign has been sent successfully!', {variant: 'success'});\n                setTimeout(() => this.props.closeSnackbar(sendingSuccessfully), 2500);\n            }\n        } catch (e) {\n            console.log(e);\n        }\n    }\n\n    handleClose = () => {\n        this.isOpenModal = false;\n    }\n\n    handleOpen = () => {\n        this.isOpenModal = true;\n    }\n\n    canSendTest = () => {\n        const errors: any = {};\n        const configFormIsValid = getConfigSchema().isValidSync({\n            ...this.props.campaignStore.campaign.asJson,\n            templateId: this.props.campaignStore.campaign.template ? this.props.campaignStore.campaign.template.id : '',\n        });\n\n        if (!configFormIsValid) {\n            errors.configFormIsValid = true;\n        }\n\n        if (!this.props.api.mailchimpConfig.private_key || this.props.api.mailchimpConfig.private_key === '') {\n            errors.privateKeyMissing = true;\n        }\n\n        return errors;\n\n    };\n\n    goToConfigForm = (event: any) => {\n        this.props.uiStore.setStep(1);\n        event.preventDefault();\n    };\n\n    render(): React.ReactElement<any, string | React.JSXElementConstructor<any>> | string | number | {} | React.ReactNodeArray | React.ReactPortal | boolean | null | undefined {\n\n        const {\n            templateStore,\n            campaignStore,\n            uiStore,\n            api,\n            step,\n            ...otherProps\n        } = this.props;\n\n        const disableSendToAll = (typeof campaignStore.campaign.mailchimpCampaignId === 'undefined' || campaignStore.campaign.mailchimpCampaignId === '' || campaignStore.campaign.mailchimpCampaignId === null);\n        const propsDisableSendToAll = {disableSendToAll,uiStore};\n        const canSendTest = this.canSendTest();\n        const disableSendTest = !!Object.entries(canSendTest).length;\n        const errorsMessages = Object.entries(canSendTest).length ? (\n            <UlStyled {...this.props}>\n                {canSendTest.configFormIsValid ?\n                    <li>{i18n.t('A few fields missing in config step, please')} <a href='#2'\n                                                                                   onClick={this.goToConfigForm}>\n                        {i18n.t('back to')}</a>{i18n.t('complete them')} </li> : null}\n                {canSendTest.privateKeyMissing ?\n                    <li>{i18n.t('You forget add private key from mailchimp, please')} <a\n                        href='/wp-admin/edit.php?post_type=wpex-campaigns&page=wpex_campaigns_settings' target='_blank'>\n                        {i18n.t('back to')}</a> {i18n.t('fill before you continue')}</li> : null}\n            </UlStyled>\n        ) : null;\n\n\n        return (\n            <FlexMinHeightContent {...otherProps} dir={this.props.uiStore.dir}>\n                <FlexColumnCenter>\n                        <SendingFormWrapperStyled {...this.props} style={{alignItems: 'center'}}>\n                            <h1>{disableSendTest ? i18n.t('Ohhh no') : i18n.t('Hooray! All set')}.</h1>\n                            <h3>{disableSendTest ? i18n.t('You missed a few things before you could send a test') : i18n.t('Test it, before you spread the news')}</h3>\n                            <span style={{display: 'none'}}>\n                                {this.loading}\n                            </span>\n\n                            {errorsMessages}\n\n                            <Formik\n                                initialValues={this.state}\n                                validationSchema={sendingSchema}\n                                validateOnChange={false}\n                                enableReinitialize={true}\n                                onSubmit={(values, {setSubmitting}) => {\n                                }}\n                            >\n                                {({\n                                      errors,\n                                      touched,\n                                      values,\n                                      setFieldValue,\n                                      setFieldTouched,\n                                  }: any) => (\n                                    <form style={{textAlign: 'left'}}>\n                                        <div style={{\n                                            display: 'flex',\n                                            borderBottom: '1px solid #f0ecec',\n                                            paddingBottom: '18px'\n                                        }}>\n                                            <TextField\n                                                style={{flex: 1}}\n                                                disabled={this.loading || disableSendTest}\n                                                label={i18n.t(\"Address for test\")}\n                                                fullWidth\n                                                margin=\"normal\"\n                                                variant=\"outlined\"\n                                                name='emails'\n                                                helperText={touched.emails && errors.emails ? i18n.t('Invalid email pattern') : i18n.t('Fro multiple address separate with comma separator like')}\n                                                error={touched.emails && errors.emails && !!errors.emails}\n                                                value={values.emails.join(',')}\n                                                onChange={(event: any) => this.onChange(event, setFieldValue, setFieldTouched)}\n                                                onBlur={(event: any) => this.setFieldTouched(event, setFieldTouched)}\n                                            />\n                                            <Button\n                                                variant=\"contained\"\n                                                color=\"primary\"\n                                                size=\"medium\"\n                                                disabled={this.loading || Object.entries(touched).length === 0 || (Object.entries(touched).length > 0 && Object.entries(errors).length > 0)}\n                                                onClick={() => this.sendTest(this.state.emails)}>\n                                                {this.loading && (\n                                                    <img\n                                                        alt='loading'\n                                                        src={process.env.NODE_ENV !== 'production'?'/images/Dual_Ring-1s-200px-blue.svg':'/wp-content/plugins/wp-campaigns/admin/partials/build/images/Dual_Ring-1s-200px-blue.svg'}\n                                                        width=\"20px\"\n                                                        height=\"20px\" style={{marginRight: 10}}/>)}\n                                                {this.loading ? i18n.t('Sending ...') : i18n.t('Test it!') }\n                                            </Button>\n                                        </div>\n\n                                        <SendToAllWrapper {...propsDisableSendToAll}>\n                                            <h4 style={{marginBottom: 0}}>\n                                                {i18n.t(\"Test completed successfully! let's spread the news\")}.\n                                            </h4>\n                                            <Button variant=\"contained\"\n                                                    color=\"primary\"\n                                                    disabled={disableSendToAll}\n                                                    onClick={this.handleOpen}\n                                            >\n                                                {i18n.t(\"Send to list\")}\n                                            </Button>\n\n                                        </SendToAllWrapper>\n                                    </form>)}\n                            </Formik>\n                        </SendingFormWrapperStyled>\n\n                        <SendingToListModal\n                            handleClose={this.handleClose}\n                            isOpenModal={this.isOpenModal}\n                            action={this.send}\n                        />\n                </FlexColumnCenter>\n            </FlexMinHeightContent>\n        );\n    }\n}\n\nexport default withSnackbar(Sending);\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nconst LoaderStyled = styled.div`\n    position: fixed;\n    right: 0;\n    left: 0;\n    bottom: 0;\n    top: 0;\n    background: #ffffff78;\n    z-index: 100;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 30px;\n`;\n\nconst Loader = ({show}: any) => {\n    return !show ? null :\n        <LoaderStyled>\n        {/*<img alt='loader' src='/images/Dual_Ring-1s-200px-blue.svg'/>*/}\n            <div className=\"loader\">\n                <div className=\"outer\"></div>\n                <div className=\"middle\"></div>\n                <div className=\"inner\"></div>\n            </div>\n    </LoaderStyled>;\n};\n\nexport default Loader;\n","import styled from \"styled-components\";\nimport React from \"react\";\nimport {FlexMinHeightContent, FlexColumnCenter} from \"../components/StyleComponents\";\nimport {\n    Button,\n    FormControl,\n    InputLabel,\n    MenuItem,\n    OutlinedInput,\n    Select,\n    TextField\n} from \"@material-ui/core\";\nimport {inject, observer} from \"mobx-react\";\nimport {Formik, FormikActions} from \"formik\";\nimport getConfigSchema from \"../validation-schemas/config-schema\";\nimport {debounce} from 'ts-debounce';\nimport Loader from \"../components/Loader\";\nimport {withSnackbar} from \"notistack\";\nimport {computed} from \"mobx\";\nimport i18n from \"i18next\";\n\n\nconst CampaignConfigFormWrapperStyled = styled(FlexColumnCenter)`\n    width: 100%;    \n    max-width: 700px;\n    margin: 0 auto;\n    border-radius: 3px;\n    background: white;\n    \n    h1{\n        margin: 0;\n    padding: 19px 15px 10px;\n    font-size: 28px;\n    font-weight: 500;\n    text-align: center;\n    }\n    h3{\n    margin-top: 0;\n    font-weight: 500;\n    text-align: center;\n    color: rgba(0,0,0,.54);\n    margin-bottom: 16px;\n    font-size: 16px;\n    position: relative;\n    :after{\n        content: ' ';\n        position: absolute;\n        bottom: -14px;\n        height: 1px;\n        width: 57%;\n        background: #2f89fc;\n        right: 0;\n        left: 0;\n        margin: 0 auto;\n      }\n    }\n    \n    h4{\n      font-size: 17px;\n      font-weight: 500;\n      text-align: ${(props: any) => props.uiStore.isRTL ? 'right' : 'left'};\n      padding-left: 54px;\n      margin-bottom: 31px;\n    }\n    \n    form{\n         padding:  0 40px 40px;\n    }\n    \n    ul{\n        padding: 0 23px;\n    }\n`;\nconst UlStyled = styled.ul`\n        padding: 0;\n        margin-bottom: 30px;\n        text-align: left;\n        counter-reset: section;\n        list-style: none;\n    li{\n        position: relative;\n\n        min-height: 59px;\n        flex-wrap: wrap;\n        flex: 1;\n        padding-right: 21px;\n        &:first-child{\n        border-bottom: 1px solid #dbdbdb;\n                padding-bottom: 45px;\n        margin-bottom: 50px;\n    }\n    }\n    \n    li::before {\n        counter-increment: section;\n        content: counter(section);\n        border: 2px solid #1c4bc3;\n        border-radius: 30px;\n        width: 35px;\n        height: 35px;\n        text-align: center;\n        margin-right: 16px;\n        position: absolute;\n        top: -10px;\n        left: 0;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        font-size: 19px;\n        font-weight: bold;\n        color: #1c4bc3;\n        line-height: 19px;\n        \n}\n`;\nconst CustomSelect = ({items, value, onChange, error, label, name}: any) => {\n\n    // #TODO set interface to items like label, value\n    const menuItems = items.map((item: any, index: number) => {\n        return (\n            <MenuItem value={item.id || index}\n                      key={item.key || item.id}>{item.displayName || item.name || item.title}\n            </MenuItem>\n        )\n    });\n\n    value = typeof value !== \"undefined\" ? value : '';\n\n    menuItems.splice(0, 0, (\n        <MenuItem value='' key={Math.random()}>\n            <em>None</em>\n        </MenuItem>)\n    );\n\n\n    // const inputLabel = React.useRef<any>(null);\n    // const [labelWidth, setLabelWidth] = React.useState(0);\n    // React.useEffect(() => {\n    //     setLabelWidth(inputLabel.current!.offsetWidth);\n    // }, []);\n\n    // menuItems.splice(0, 0, (<MenuItem key={'None'} value=\"\"><em>None</em></MenuItem>));\n    return (\n        <FormControl variant=\"outlined\" fullWidth>\n            <InputLabel htmlFor={name}>\n                {label}\n            </InputLabel>\n            <Select\n                error={typeof error !== \"undefined\"}\n                value={value}\n                onChange={onChange}\n                input={\n                    <OutlinedInput\n                        labelWidth={90}\n                        name={name}\n                        id={name}/>\n                }\n            >\n                {menuItems}\n            </Select>\n        </FormControl>\n    );\n};\n\ninterface ConfigFormValues {\n    templateId: string;\n    mailchimpListId: string;\n    name: string;\n    mailServiceFields: object;\n}\n\n@inject(\"templateStore\", \"campaignStore\", \"uiStore\")\n@observer\nclass CampaignConfig extends React.Component<any, any> {\n\n    static whyDidYouRender = true;\n\n    constructor(props: any) {\n        super(props);\n\n        this.state = {\n            loading: false,\n            formDataHasChange: false,\n        };\n    }\n\n    onUpdate = async (field: string, value: any, setFieldTouched: any) => {\n\n        // const campaign = this.props.campaignStore.campaign;\n        //\n        // if (field.indexOf('.') > -1) {\n        //     const [mailServiceFields, fieldName] = field.split('.');\n        //     campaign[mailServiceFields][fieldName] = value;\n        // } else {\n        //     campaign[field] = value;\n        // }\n\n        setFieldTouched(field, true, true);\n    };\n\n    onUpdateDebounced = debounce(this.onUpdate, 400);\n\n    onChange = async (event: any, setFieldValue: any, setFieldTouched: any, debounce = true) => {\n        const {name, value} = event.target;\n\n        setFieldValue(name, value);\n\n        if (debounce) {\n            event.persist();\n            this.onUpdateDebounced(name, value, setFieldTouched);\n        } else {\n            this.onUpdate(name, value, setFieldTouched);\n        }\n    };\n\n    setFieldTouched = (event: any, setFieldTouched: any) => {\n        const {name} = event.target;\n        setFieldTouched(name, true, true);\n    };\n\n    onSubmit = async (values: ConfigFormValues, {setSubmitting, resetForm}: FormikActions<ConfigFormValues>) => {\n        const campaign = this.props.campaignStore.campaign;\n        const templateId: number | undefined = values.templateId === '' ? undefined : Number(values.templateId);\n\n        campaign.setTemplate(templateId);\n        campaign.mailchimpListId = values.mailchimpListId;\n        campaign.name = values.name;\n        campaign.mailServiceFields = values.mailServiceFields;\n        try {\n            await this.save();\n        } catch (e) {\n\n        }\n        setSubmitting(false);\n        resetForm();\n    };\n\n    save = async () => {\n        const campaign = this.props.campaignStore.campaign;\n\n        this.setState({loading: true});\n        try {\n            try {\n                await campaign.save();\n            } catch (e) {\n\n            }\n            const key = this.props.enqueueSnackbar('Successfully saved.', {variant: 'success'});\n\n            setTimeout(() => this.props.closeSnackbar(key), 2500);\n        } catch (e) {\n            const errorKey = this.props.enqueueSnackbar('Something went strangely, turning to the manager', {variant: 'error'});\n\n            setTimeout(() => this.props.closeSnackbar(errorKey), 3000);\n        }\n        this.setState({loading: false});\n\n        return;\n    }\n\n    onSelectTemplate = (id: number | '', setFieldTouched: any, setFieldValue: any) => {\n        setFieldValue('templateId', id);\n        setFieldTouched('templateId', true, true);\n    }\n\n    onSelectMailchimpList = (id: number | '', setFieldTouched: any, setFieldValue: any) => {\n        setFieldValue('mailchimpListId', id);\n        setFieldTouched('mailchimpListId', true, true);\n    }\n\n    @computed get initialValues() {\n\n        const campaign = this.props.campaignStore.campaign;\n\n        return {\n            mailchimpListId: campaign.asJson.mailchimpListId ? campaign.asJson.mailchimpListId : '',\n            name: campaign.asJson.name,\n            mailServiceFields: campaign.asJson.mailServiceFields,\n            templateId: campaign.asJson.template ? campaign.asJson.template.id : '',\n        };\n    }\n\n    render(): React.ReactElement<any, string | React.JSXElementConstructor<any>> | string | number | {} | React.ReactNodeArray | React.ReactPortal | boolean | null | undefined {\n        const {\n            campaignStore,\n            templateStore\n        } = this.props;\n\n        return (\n            <FlexMinHeightContent {...this.props} dir={this.props.uiStore.dir}>\n                <Loader show={campaignStore.loadingData}/>\n                <CampaignConfigFormWrapperStyled  {...this.props}>\n                    <h1>{i18n.t('Campaign configuration')}</h1>\n                    <h3>{i18n.t('Tell a bit about your campaign')}.</h3>\n\n                    <span style={{display: \"none\"}}>\n                                {this.state.loading ? 'LOADING' : 'NO'}\n                        {JSON.stringify(campaignStore.mailchimpLists)}\n                            </span>\n\n\n                    <Formik\n                        initialValues={this.initialValues}\n                        validationSchema={getConfigSchema()}\n                        validateOnChange={false}\n                        enableReinitialize={true}\n                        onSubmit={this.onSubmit}\n                    >\n                        {({\n                              dirty,\n                              isValid,\n                              errors,\n                              touched,\n                              values,\n                              setFieldValue,\n                              setFieldTouched,\n                              handleSubmit,\n                          }: any) => {\n                            return (\n                                <form onSubmit={handleSubmit}>\n\n                                            <span style={{display: \"none\"}}>\n                                                  {JSON.stringify(errors.templateId)}\n                                                {JSON.stringify(errors.mailchimpListId)}\n                                                {JSON.stringify({isValid})}\n                                            </span>\n                                    <br/>\n                                    <UlStyled>\n                                        <li>\n                                            <h4>\n                                                {i18n.t('Campaign details')}\n                                            </h4>\n                                            <CustomSelect\n                                                label={i18n.t('Template')}\n                                                items={templateStore.templates}\n                                                value={values.templateId}\n                                                error={errors.templateId}\n                                                name={'templateId'}\n                                                onChange={(selected: any) => this.onSelectTemplate(selected.target.value, setFieldTouched, setFieldValue)}\n                                            />\n                                            <div style={{\n                                                margin: '8px 12px 0',\n                                                color: ' #f44336',\n                                                fontSize: '0.75rem',\n                                            }}>{errors.templateId}</div>\n                                            <TextField\n                                                label={i18n.t('Campaign name')}\n                                                fullWidth\n                                                margin=\"normal\"\n                                                variant=\"outlined\"\n                                                helperText={touched.name && errors.name && errors.name}\n                                                error={touched.name && errors.name && !!errors.name}\n                                                value={values.name}\n                                                onChange={(event: any) => this.onChange(event, setFieldValue, setFieldTouched)}\n                                                onBlur={(event: any) => this.setFieldTouched(event, setFieldTouched)}\n                                                name='name'\n                                                type='text'\n                                            />\n                                        </li>\n                                        <li>\n                                            <h4>\n                                                {i18n.t('Mailchimp fields')}\n                                            </h4>\n                                            <CustomSelect\n                                                label={i18n.t('Mailchimp list')}\n                                                items={campaignStore.mailchimpLists}\n                                                value={values.mailchimpListId}\n                                                error={touched.mailchimpListId && errors.mailchimpListId}\n                                                name={'mailchimpListId'}\n                                                onChange={(selected: any) => this.onSelectMailchimpList(selected.target.value, setFieldTouched, setFieldValue)}\n                                            />\n                                            <div style={{\n                                                margin: '8px 12px 0',\n                                                color: ' #f44336',\n                                                fontSize: '0.75rem',\n                                            }}>{touched.mailchimpListId && errors.mailchimpListId}</div>\n                                            <TextField\n                                                label={i18n.t('Preview text')}\n                                                fullWidth\n                                                margin=\"normal\"\n                                                variant=\"outlined\"\n                                                helperText={touched.mailServiceFields && touched.mailServiceFields.preview && errors.mailServiceFields && errors.mailServiceFields.preview}\n                                                error={touched.mailServiceFields && touched.mailServiceFields.preview && errors.mailServiceFields && !!errors.mailServiceFields.preview}\n                                                value={values.mailServiceFields.preview}\n                                                onChange={(event: any) => this.onChange(event, setFieldValue, setFieldTouched)}\n                                                onBlur={(event: any) => this.setFieldTouched(event, setFieldTouched)}\n                                                name='mailServiceFields.preview'\n                                                type='text'\n                                            />\n                                            <TextField\n                                                label={i18n.t('Title')}\n                                                fullWidth\n                                                margin=\"normal\"\n                                                variant=\"outlined\"\n                                                helperText={touched.mailServiceFields && touched.mailServiceFields.title && errors.mailServiceFields && errors.mailServiceFields.title}\n                                                error={touched.mailServiceFields && touched.mailServiceFields.title && errors.mailServiceFields && !!errors.mailServiceFields.title}\n                                                value={values.mailServiceFields.title}\n                                                onChange={(event: any) => this.onChange(event, setFieldValue, setFieldTouched)}\n                                                onBlur={(event: any) => this.setFieldTouched(event, setFieldTouched)}\n                                                name='mailServiceFields.title'\n                                                type='text'\n                                            />\n                                            <TextField\n                                                label={i18n.t('Subject line')}\n                                                fullWidth\n                                                margin=\"normal\"\n                                                variant=\"outlined\"\n                                                helperText={touched.mailServiceFields && touched.mailServiceFields.subjectLine && errors.mailServiceFields && errors.mailServiceFields.subjectLine}\n                                                error={touched.mailServiceFields && touched.mailServiceFields.subjectLine && errors.mailServiceFields && !!errors.mailServiceFields.subjectLine}\n                                                value={values.mailServiceFields.subjectLine}\n                                                onChange={(event: any) => this.onChange(event, setFieldValue, setFieldTouched)}\n                                                onBlur={(event: any) => this.setFieldTouched(event, setFieldTouched)}\n                                                name='mailServiceFields.subjectLine'\n                                                type='text'\n                                            />\n                                            <TextField\n                                                label={i18n.t('From')}\n                                                fullWidth\n                                                margin=\"normal\"\n                                                variant=\"outlined\"\n                                                helperText={touched.mailServiceFields && touched.mailServiceFields.from && errors.mailServiceFields && errors.mailServiceFields.from}\n                                                error={touched.mailServiceFields && touched.mailServiceFields.from && errors.mailServiceFields && !!errors.mailServiceFields.from}\n                                                value={values.mailServiceFields.from}\n                                                onChange={(event: any) => this.onChange(event, setFieldValue, setFieldTouched)}\n                                                onBlur={(event: any) => this.setFieldTouched(event, setFieldTouched)}\n                                                name='mailServiceFields.from'\n                                                type='text'\n                                            />\n                                            <TextField\n                                                label={i18n.t('Replay to')}\n                                                fullWidth\n                                                margin=\"normal\"\n                                                variant=\"outlined\"\n                                                helperText={touched.mailServiceFields && touched.mailServiceFields.replayTo && errors.mailServiceFields && errors.mailServiceFields.replayTo}\n                                                error={touched.mailServiceFields && touched.mailServiceFields.replayTo && errors.mailServiceFields && !!errors.mailServiceFields.replayTo}\n                                                value={values.mailServiceFields.replayTo}\n                                                onChange={(event: any) => this.onChange(event, setFieldValue, setFieldTouched)}\n                                                onBlur={(event: any) => this.setFieldTouched(event, setFieldTouched)}\n                                                name='mailServiceFields.replayTo'\n                                                type='text'\n                                            />\n\n\n                                        </li>\n                                    </UlStyled>\n\n\n                                    <Button variant=\"contained\"\n                                            color=\"primary\"\n                                            size=\"large\"\n                                            type=\"submit\"\n                                            disabled={this.state.loading || !dirty || !isValid}\n                                    >\n                                        {this.state.loading && (\n                                            <img\n                                                alt='loading'\n                                                src={process.env.NODE_ENV !== 'production' ? '/images/Dual_Ring-1s-200px-blue.svg' : '/wp-content/plugins/wp-campaigns/admin/partials/build/images/Dual_Ring-1s-200px-blue.svg'}\n                                                width=\"20px\"\n                                                height=\"20px\" style={{marginRight: 10}}/>)}\n                                        {this.state.loading ? i18n.t('loading') : i18n.t('save button')}\n                                    </Button>\n                                </form>\n                            )\n                        }}\n                    </Formik>\n                </CampaignConfigFormWrapperStyled>\n            </FlexMinHeightContent>\n        );\n    }\n}\n\nexport default withSnackbar(CampaignConfig);\n\n","import React, {Component} from 'react';\nimport './App.scss';\nimport CampaignTemplate from \"./components/CampaignTemplate\";\nimport EditorWrapper from \"./components/EditorWrapper\";\nimport Stepper from \"./components/Stepper\";\nimport StepperContent from \"./components/StepperContent\";\nimport './config/FontAwesomeIcon';\nimport CampaignTemplateWrapper from \"./containers/CampaignTemplateWrapper\";\nimport Sending from \"./components/Sending\";\nimport {inject, observer} from \"mobx-react\";\nimport CampaignConfig from \"./containers/CampaignConfig\";\nimport {StylesProvider, ThemeProvider} from \"@material-ui/styles\";\nimport ElementorTemplate from \"./components/ElementorTemplate\";\n\n\n@inject('campaignStore', 'uiStore')\n@observer\nclass App extends Component<any, any> {\n    render() {\n        return (\n            <StylesProvider jss={this.props.uiStore.jss}>\n                <ThemeProvider theme={this.props.uiStore.theme}>\n                    <div className=\"App\">\n                        <StepperContent step={1}>\n                            <CampaignConfig/>\n                        </StepperContent>\n\n                        <StepperContent step={2}>\n                            <CampaignTemplateWrapper>\n                                <EditorWrapper/>\n                                <CampaignTemplate/>\n                            </CampaignTemplateWrapper>\n                        </StepperContent>\n\n                        <StepperContent step={3}>\n                            <Sending/>\n                        </StepperContent>\n\n                        <Stepper setStep={this.props.uiStore.setStep}/>\n                    </div>\n\n                </ThemeProvider>\n            </StylesProvider>\n        );\n    }\n}\n\nexport default (App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import {action, computed, observable} from \"mobx\";\nimport {WpexApi} from \"../api/WpexApi\";\nimport {jssPreset} from \"@material-ui/styles\";\nimport rtl from \"jss-rtl\";\nimport {create} from 'jss';\nimport {createMuiTheme} from \"@material-ui/core\";\nimport i18next from 'i18next';\n\nclass UiStore {\n\n    api: WpexApi;\n    _jssLTR: any = create({plugins: [...jssPreset().plugins]});\n    _jssRTL: any = create({plugins: [...jssPreset().plugins, rtl()]});\n\n    _themeRTL: any = createMuiTheme({\n        direction: 'rtl',\n        palette: {\n            primary: {\n                main: '#3ea9f5',\n                contrastText: 'white',\n            },\n        },\n    });\n\n    _themeLTR: any = createMuiTheme({\n        palette: {\n            primary: {\n                main: '#3ea9f5',\n                contrastText: 'white',\n            },\n        },\n    });\n\n    @observable locale: string = '';\n\n    @observable stepperState = 1; // 1-4\n\n    @observable campaignDraftOrNew: 'Draft' | 'New' = 'New';\n\n    constructor(api: WpexApi) {\n        this.api = api;\n        this.setLocale();\n    }\n\n    @action setLocale = async () => {\n        const response = await this.api.getLocale();\n        await i18next.changeLanguage(response.locale);\n        this.locale = response.locale;\n    };\n\n    @computed get dir() {\n        return this.isRTL ? 'rtl' : 'ltr';\n    }\n\n    @computed get isRTL() {\n        return (this.locale === 'he_IL');\n    }\n\n    @computed get textAlign() {\n        return this.isRTL ? 'right' : 'left';\n    }\n\n    @computed get jss() {\n        return this.isRTL ? this._jssRTL : this._jssLTR;\n    }\n\n    @computed get theme() {\n        return this.isRTL ? this._themeRTL : this._themeLTR;\n    }\n\n    @action setStep = (step: number) => {\n        this.stepperState = step;\n    }\n\n    @computed get isDraftCampaign() {\n        return this.campaignDraftOrNew === 'Draft';\n    }\n}\n\nexport default UiStore;\n","import {action, computed, observable} from \"mobx\";\nimport CampaignStore from \"./CampaignStore\";\nimport uuidv4 from 'uuid/v4';\nimport TemplateStore from \"./TemplateStore\";\nimport {Template} from \"./Template\";\nimport CampaignInterface from \"./CampaignInterface\";\nimport Widget from \"./Widget\";\n\nexport default class Campaign implements CampaignInterface {\n\n    store: CampaignStore;\n\n    id: number | null = null;\n\n    post_id: number;\n\n    mailchimpWebId: string = '';\n\n    key: string;\n\n    status: string = 'draft';\n\n    @observable template: Template | undefined;\n\n    @observable templateStore: TemplateStore;\n\n    @observable name: string = \"\";\n\n    @observable mailServiceFields = {\n        preview: '',\n        title: '',\n        from: '',\n        subjectLine: '',\n        replayTo: '',\n    };\n\n    @observable mailchimpListId: any = '';\n\n    @observable mailchimpCampaignId: any;\n\n    constructor(store: CampaignStore, templateStore: TemplateStore, key = uuidv4()) {\n        this.store = store;\n        this.post_id = this.store.getPostIdFromUrl();\n        this.templateStore = templateStore;\n        this.key = key;\n        this.template = this.templateStore.createTemplate(this.templateStore.templates[0]);\n    }\n\n    @computed get asJson(): CampaignInterface {\n        const json = JSON.parse(\n            JSON.stringify({\n                id: this.id,\n                key: this.key,\n                mailchimpWebId: this.mailchimpWebId,\n                mailServiceFields: this.mailServiceFields,\n                status: this.status,\n                name: this.name,\n                mailchimpListId: this.mailchimpListId,\n                mailchimpCampaignId: this.mailchimpCampaignId,\n                post_id: this.post_id,\n            })\n        );\n        json.template = this.template && this.template.asJson;\n        return json;\n    }\n\n    @action setHtml(html: string = '') {\n        if (this.template) {\n            this.template.html = html;\n        }\n    }\n\n    setTemplate = (templateId: number | undefined) => {\n        let template;\n\n        if (typeof templateId !== \"undefined\") {\n            template = this.templateStore.getTemplate(templateId);\n        }\n        if (template) {\n            this.template = this.templateStore.createTemplate(template);\n        } else {\n            this.template = template;\n        }\n\n    };\n\n    updateFromJson(json: any) {\n        if (!json) {\n            return;\n        }\n        this.mailchimpWebId = json.mailchimpWebId;\n        this.mailchimpListId = json.mailchimpListId;\n        this.mailchimpCampaignId = json.mailchimpCampaignId;\n        this.id = Number(json.id);\n        this.name = json.name;\n        this.key = json.key;\n        this.status = json.status;\n        this.mailServiceFields = json.mailServiceFields;\n        this.template = this.templateStore.createTemplate(json.template);\n    }\n\n    @action setWidgetSelected(widgetIndex: number | null = null) {\n        if (this.template) {\n            this.template.setWidgetSelected(widgetIndex);\n        }\n    }\n\n    @action setMailchimpListId(id: number) {\n        this.mailchimpListId = id;\n    }\n\n    @computed get selectedWidget(): Widget | null {\n        return (this.template && this.template.selectedWidget) ? this.template.selectedWidget : null;\n    }\n\n    save = async () => {\n        const response: any = await this.store.api.saveCampaign(this.asJson);\n        this.updateFromJson(response.campaign);\n        return response;\n    }\n\n    sendTest = async (emails: []) => {\n        const response: any = await this.store.api.sendTest(this.asJson, emails);\n        return response;\n    }\n\n    send = async () => {\n        return await this.store.api.send(this.asJson);\n    }\n\n\n}\n","import {action, computed, observable} from \"mobx\";\nimport Campaign from \"./Campaign\";\nimport CampaignInterface from \"./CampaignInterface\";\nimport TemplateStore from \"./TemplateStore\";\nimport UiStore from \"./UiStore\";\nimport {WpexApi} from \"../api/WpexApi\";\n\nexport default class CampaignStore {\n\n    api: WpexApi;\n\n    @observable loadingData: boolean = false;\n\n    @observable loading: boolean = false;\n\n    @observable campaigns: Campaign[] = [];\n\n    @observable campaign: Campaign;\n\n    @observable templateStore: TemplateStore;\n\n    @observable mailchimpLists: any = [];\n\n    constructor(templateStore: TemplateStore, uiStore: UiStore, api: WpexApi) {\n        this.templateStore = templateStore;\n        this.campaign = new Campaign(this, templateStore);\n        this.api = api;\n        this.loadInitData(this.campaign);\n    }\n\n    loadInitData = async (campaign: Campaign) => {\n        this.loadingData = true;\n        const lists = this.api.getMailchimpLists();\n        let campaignAsync = this.api.getCampaignByPostId(campaign.post_id);\n\n        this.setMailchimpLists(await lists);\n        this.campaign.updateFromJson(await campaignAsync);\n        this.loadingData = false;\n    }\n\n    @action setMailchimpLists(lists: [] | null) {\n        if (lists) {\n            this.mailchimpLists = lists.map((list: any) => ({id: list.id, displayName: list.name}));\n        }\n    }\n\n    @computed get isWidgetSelected(): boolean {\n        return (this.campaign.template && this.campaign.template.isWidgetSelected) ? this.campaign.template.isWidgetSelected : false;\n    }\n\n    @computed get widgetSelectedIndex(): number | null {\n        return (this.campaign.template && this.campaign.template.widgetSelectedIndex) ? this.campaign.template.widgetSelectedIndex : null;\n    }\n\n    updateTodoFromServer(json: CampaignInterface): Campaign {\n        let campaign = this.campaigns.find(campaign => campaign.id === json.id);\n        if (!campaign) {\n            campaign = new Campaign(this, this.templateStore);\n            this.campaigns.push(campaign);\n        }\n        campaign.updateFromJson(json);\n        return campaign;\n    }\n\n    async save() {\n        this.loading = true;\n        const response = await this.api.saveCampaign(this.campaign);\n        await new Promise((rs, rj) => {\n            setTimeout(() => rs(), 2000);\n        });\n        this.loading = false;\n        return response;\n    }\n\n    async loadAll(): Promise<Campaign[]> {\n\n        let campaigns: Campaign[] = [];\n\n        try {\n            const data = await this.api.loadCampaigns();\n            campaigns = data.map((campaign: CampaignInterface): Campaign => this.updateTodoFromServer(campaign));\n        } catch (e) {\n\n        }\n        return campaigns;\n    }\n\n    select(id: number) {\n\n        let campaign: Campaign | undefined = this.campaigns.find(campaign => campaign.id === id);\n\n        if (campaign) {\n            this.campaign = campaign;\n        }\n    }\n\n    getPostIdFromUrl(): number {\n        const url = new URL(window.location.href);\n        return Number(url.searchParams.get(\"post\"));\n    }\n\n    setWidgetSelected(widgetIndex: number | null = null) {\n        this.campaign.setWidgetSelected(widgetIndex);\n    }\n\n}\n","export default class MenuItem {\n    ID: number | undefined;\n    guid: string | undefined;\n    title: string | undefined;\n\n    constructor(item: any) {\n        Object.assign(this, item);\n    }\n}\n","import MenuItem from \"./MenuItem\";\n\nexport default class Menu {\n    label: string | undefined;\n    name: string | undefined;\n    value: string | undefined;\n    term_id: number | undefined;\n    items: MenuItem[] | undefined;\n\n    constructor(menu: any) {\n        Object.assign(this, menu);\n\n        if (this.items) {\n            this.items = this.items.map(item => new MenuItem(item));\n        }\n    }\n}\n","import {action, observable} from \"mobx\";\nimport Menu from \"./Menu\";\nimport MenusApi from \"./MenusApi\";\n\nclass MenusStore {\n    menuApi: MenusApi;\n\n    @observable items: Menu[] = [];\n\n    constructor(menuApi: MenusApi) {\n        this.menuApi = menuApi;\n        this.fetch();\n    }\n\n    @action fetch = async () => {\n        if (!this.items.length) { // get only once\n            const items = await this.menuApi.fetch();\n            this.items = items.map(item => new Menu(item));\n        }\n    }\n\n}\n\nexport default MenusStore;\n","import styled from \"styled-components\";\nimport React from \"react\";\nimport {Flex} from \"../StyleComponents\";\n\nconst PostStyled = styled(Flex)`\n    font-family: Arial,Helvetica Neue,Helvetica,sans-serif;\n    max-width: 600px;\n    margin: 0px auto;\n    // flex-direction: ${(props: any) => (props.size === 'Large') ? \"column\" : \"row\"};\n    background-color: ${(props: any) => props.isBgGray ? '#f0f0f0' : 'transparent'};\n    padding: 14px;\n    \n    a{\n    text-decoration: none;\n    color:black;\n    }\n    img{\n    max-width: ${(props: any) => (props.size === 'Large') ? \"560px\" : \"277px\"};\n    }\n`;\nconst Table = styled.table`\nfont-family: Arial,Helvetica Neue,Helvetica,sans-serif;\ntext-align: right;\nfloat: ${(props: any) => (props.size === 'Large') ? \"none\" : \"right\"};\n width:  ${(props: any) => (props.size === 'Large') ? \"100%\" : \"50%\"};\n \n td.text{\n      padding-right: ${(props: any) => (props.size === 'Large') ? \"0\" : \"10px\"};\n      \n      h3{margin-top: 0;}\n }\n`;\n\nconst Post = (props: any) => {\n\n    const post = props.data.post || {};\n\n    let {\n        image_src,\n        post_title,\n        post_excerpt,\n        snippet,\n        guid,\n        // post_content,\n    } = post;\n\n    post_excerpt = post_excerpt && post_excerpt.trim();\n\n    // if (process.env.NODE_ENV !== 'production') {\n        snippet = snippet && snippet.trim();\n        post_excerpt = (post_excerpt && post_excerpt !== '') ? post_excerpt : (snippet && snippet !== '' ? snippet : undefined);\n\n        if (image_src) {\n            image_src = image_src.replace('clarionproject', 'clarionproject.org');\n            image_src = image_src.replace('giladt', 'medialab.jerusalemu.org');\n            image_src = image_src.replace('localhost', 'medialab.jerusalemu.org');\n        }\n    // }\n\n\n    return (\n        <PostStyled {...props}>\n            <table style={{border: 0, width: '100%',maxWidth:600,}}>\n                <tbody>\n                <tr>\n                    <td>\n                        <Table {...props}>\n                            <tbody>\n                            <tr>\n                                <td>\n                                    <img alt={post_title}\n                                         src={image_src || (process.env.NODE_ENV !== 'production' ? '/images/Image_placeholder_293.jpg' : '/wp-content/plugins/wp-campaigns/admin/partials/build/images/Image_placeholder_293.jpg')}\n                                         width=\"100%\"/>\n                                </td>\n                            </tr>\n                            </tbody>\n                        </Table>\n                        <Table {...props}>\n                            <tbody>\n                            <tr>\n                                <td className={'text'}>\n                                    <h3 style={{marginBottom: 0}}>\n                                        <a\n                                            target=\"_blank\"\n                                            rel=\"noopener noreferrer\"\n                                            href={guid || '#'}>{post_title || 'What is Lorem Ipsum?'}</a>\n                                    </h3>\n                                    <br/>\n                                    <a\n                                        target=\"_blank\"\n                                        rel=\"noopener noreferrer\"\n                                        href={guid || '#'}>{post_excerpt || 'Lorem Ipsum is simply dummy text of the printing and typesetting industry.'}</a>\n\n                                </td>\n                            </tr>\n                            </tbody>\n                        </Table>\n                    </td>\n                </tr>\n                </tbody>\n            </table>\n        </PostStyled>\n    );\n};\n\nexport default Post;\n","import styled from \"styled-components\";\nimport React from \"react\";\n\nconst LogoStyled = styled.div`\n    text-align: center;\n    font-family: Arial,Helvetica Neue,Helvetica,sans-serif;\n    img{\n      max-width: 100px;\n    }\n    \n`;\n\nconst Logo = (props: any) => {\n    let src = props.data.src === '' ? (process.env.NODE_ENV !== 'production' ? '/images/Image_placeholder_293.jpg' : '/wp-content/plugins/wp-campaigns/admin/partials/dist/images/Image_placeholder_293.jpg') : props.data.src;\n    src = src.replace('giladt', 'medialab.jerusalemu.org');\n    src = src.replace('localhost', 'medialab.jerusalemu.org');\n\n    return (\n        <LogoStyled>\n            <img\n                alt='a'\n                src={src}/>\n        </LogoStyled>\n    );\n};\n\nexport default Logo;\n","import styled from \"styled-components\";\nimport React from \"react\";\n\nconst NavigationStyled = styled.div`\n    font-family: Arial,Helvetica Neue,Helvetica,sans-serif;\n    ul{\n    text-align: center;\n      margin: 0;\n      list-style: none;\n      flex: 1;\n      max-width: 600px;\n      border-bottom: 1px solid #9e1c34;\n      border-top: 1px solid #9e1c34;\n            padding: 10px 0;\n        li{\n          display: inline-block;\n          a{\n            text-decoration: none;\n          }\n          span{\n              display: inline-block;\n              margin: 0 6px;\n          }\n        }\n    }\n`;\n\nconst pointCSS = {\n    color: '#e9e9e9'\n};\n\nconst Navigation = (props: any) => {\n\n    const {menu} = props.data;\n\n    let items = null;\n\n    if (menu && menu.items) {\n        items = menu.items.map((item: any, index: number) => (\n            <li key={item.ID}><a href={item.guid}>{item.title}</a>\n                {menu.items.length - 1 > index ? <span style={pointCSS}></span> : null}\n            </li>\n        ));\n    }else{\n        items = new Array(5).fill(null).map((item, index) => <li key={index}><a href='#a'>link {index+1}</a>{index < 4 ? (\n            <span style={pointCSS}></span>) : null} </li>);\n    }\n\n    return (\n        <NavigationStyled>\n            <ul>\n                {items}\n            </ul>\n        </NavigationStyled>\n    );\n};\n\nexport default Navigation;\n","/* eslint-disable react/prop-types, react/jsx-handler-names */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport Select from 'react-select';\nimport {withStyles} from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport NoSsr from '@material-ui/core/NoSsr';\nimport TextField from '@material-ui/core/TextField';\nimport Paper from '@material-ui/core/Paper';\nimport Chip from '@material-ui/core/Chip';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport {emphasize} from '@material-ui/core/styles/colorManipulator';\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {observer} from \"mobx-react\";\nimport {Flex} from \"./StyleComponents\";\nimport styled from \"styled-components\";\n\n\nconst stylesTheme: any = (theme: any) => ({\n\n    input: {\n        display: 'flex',\n        padding: 0,\n    },\n    valueContainer: {\n        display: 'flex',\n        flexWrap: 'wrap',\n        flex: 1,\n        alignItems: 'center',\n        overflow: 'hidden',\n    },\n    chip: {\n        margin: `${theme.spacing.unit / 2}px ${theme.spacing.unit / 4}px`,\n    },\n    chipFocused: {\n        backgroundColor: emphasize(\n            theme.palette.type === 'light' ? theme.palette.grey[300] : theme.palette.grey[700],\n            0.08,\n        ),\n    },\n    noOptionsMessage: {\n        padding: `${theme.spacing.unit}px ${theme.spacing.unit * 2}px`,\n    },\n    singleValue: {\n        fontSize: 16,\n    },\n    placeholder: {\n        position: 'absolute',\n        left: 2,\n        fontSize: 16,\n    },\n    paper: {\n        position: 'absolute',\n        zIndex: 1,\n        marginTop: theme.spacing.unit,\n        left: 0,\n        right: 0,\n    },\n    divider: {\n        height: theme.spacing.unit * 2,\n    },\n});\n\nfunction NoOptionsMessage(props: any) {\n    return (\n        <Typography\n            color=\"textSecondary\"\n            className={props.selectProps.classes.noOptionsMessage}\n            {...props.innerProps}\n        >\n            {props.children}\n        </Typography>\n    );\n}\n\nfunction inputComponent({inputRef, ...props}: any) {\n    return <div ref={inputRef} {...props} />;\n}\n\nfunction Control(props: any) {\n    return (\n        <TextField\n            fullWidth\n            InputProps={{\n                inputComponent,\n                inputProps: {\n                    className: props.selectProps.classes.input,\n                    inputRef: props.innerRef,\n                    children: props.children,\n                    ...props.innerProps,\n                },\n            }}\n            {...props.selectProps.textFieldProps}\n        />\n    );\n}\n\nfunction Option(props: any) {\n\n    return (\n        <MenuItem\n            buttonRef={props.innerRef}\n            selected={props.isFocused}\n            component=\"div\"\n            style={{\n                fontWeight: props.isSelected ? 500 : 400,\n            }}\n            {...props.innerProps}\n        >\n            {props.data.image_src && (\n                <img src={props.data.image_src} style={{maxWidth: 35, marginRight: 5,}} alt={'prev'}/>)} {props.children}\n        </MenuItem>\n    );\n}\n\nfunction Placeholder(props: any) {\n    return (\n        <Typography\n            color=\"textSecondary\"\n            className={props.selectProps.classes.placeholder}\n            {...props.innerProps}\n        >\n            {props.children}\n        </Typography>\n    );\n}\n\nfunction SingleValue(props: any) {\n    return (\n        <Typography className={props.selectProps.classes.singleValue} {...props.innerProps}>\n            {props.children}\n        </Typography>\n    );\n}\n\nfunction ValueContainer(props: any) {\n    return <div className={props.selectProps.classes.valueContainer}>{props.children}</div>;\n}\n\nfunction MultiValue(props: any) {\n    return (\n        <Chip\n            tabIndex={-1}\n            label={props.children}\n            className={classNames(props.selectProps.classes.chip, {\n                [props.selectProps.classes.chipFocused]: props.isFocused,\n            })}\n            onDelete={props.removeProps.onClick}\n            deleteIcon={<FontAwesomeIcon {...props.removeProps} icon=\"times\"/>}\n        />\n    );\n}\n\nfunction Menu(props: any) {\n    return (\n        <Paper square className={props.selectProps.classes.paper} {...props.innerProps}>\n            {props.children}\n        </Paper>\n    );\n}\n\nconst components = {\n    Control,\n    Menu,\n    MultiValue,\n    NoOptionsMessage,\n    Option,\n    Placeholder,\n    SingleValue,\n    ValueContainer,\n};\n\nconst Wrapper = styled(Flex)``;\n\n// const Loading = styled.img`\n//     max-width: 27px;\n//     max-height: 40px;\n//     margin-left: 11px;\n// `;\nconst WrapperInput = styled.div`\nflex:1;\n`;\n\n@observer\nclass IntegrationReactSelect extends React.Component<any, any> {\n\n    public static propTypes = {\n        classes: PropTypes.object.isRequired,\n        theme: PropTypes.object.isRequired,\n        inputChange: PropTypes.func.isRequired,\n        suggestions: PropTypes.array.isRequired,\n        onChange: PropTypes.func.isRequired,\n        value: PropTypes.object,\n        loading: PropTypes.bool.isRequired,\n        placeholder: PropTypes.string,\n    };\n\n    public static defaultProps = {\n        value: null,\n    };\n\n    render() {\n        const {classes, theme}: any = this.props;\n\n        const selectStyles = {\n            input: (base: any) => ({\n                ...base,\n                color: theme.palette.text.primary,\n                '& input': {\n                    font: 'inherit',\n                },\n            }),\n        };\n\n        return (\n            <Wrapper>\n                <WrapperInput className={classes.root}>\n                    <NoSsr>\n                        <Select\n                            classes={classes}\n                            styles={selectStyles}\n                            components={components}\n                            options={this.props.suggestions}\n                            value={this.props.value}\n                            onInputChange={this.props.inputChange}\n                            onChange={this.props.onChange}\n                            placeholder={this.props.placeholder || \"Select post...\"}\n                            isClearable\n                            isSearchable\n                            isLoading={this.props.loading}\n                        />\n                        <div className={classes.divider}/>\n\n                    </NoSsr>\n                </WrapperInput>\n                {/*{this.props.loading && <Loading src={'/images/Double_Ring-1s-200px.svg'}/>}*/}\n            </Wrapper>\n        );\n    }\n}\n\nexport default withStyles(stylesTheme, {withTheme: true})(IntegrationReactSelect);\n","import React from \"react\";\nimport IntegrationReactSelect from \"../Autocomplete\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Radio from \"@material-ui/core/Radio\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport {BehaviorSubject, Observable, Subscription, throwError} from \"rxjs\";\nimport {catchError, debounceTime, distinctUntilChanged, filter, map, pluck, startWith, switchMap} from \"rxjs/operators\";\nimport axios from 'axios';\nimport {observable} from \"mobx\";\nimport {inject, observer} from \"mobx-react\";\nimport i18n from \"i18next\";\n\nexport interface State {\n    suggestions: [] | undefined;\n    query: string | null;\n}\n\nconst state: State = {\n    suggestions: undefined,\n    query: null,\n};\n\nexport class RxStore {\n\n    private subject = new BehaviorSubject<State>(state);\n    private store = this.subject.asObservable().pipe(distinctUntilChanged());\n\n    get value() {\n        return this.subject.value;\n    }\n\n    select<T>(name: string): Observable<T> {\n        return this.store.pipe(pluck(name));\n    }\n\n    set(name: string, state: any) {\n        this.subject.next({\n            ...this.value, [name]: state\n        });\n    }\n\n}\n\nconst store = new RxStore();\n\n@inject(\"uiStore\")\n@observer\nclass PostEditor extends React.Component<any, any> {\n\n    @observable suggestions: any[] = [];\n\n    @observable loading: boolean = false;\n\n    data: any = null;\n\n    querySubscribe: Subscription | undefined;\n\n    BASE_URL = process.env.NODE_ENV === 'production' ? window.location.protocol + \"//\" + window.location.host + window.location.pathname.split('/').slice(0,window.location.pathname.split('/').length-1).join('/') : 'http://wewp-plugins/wp-admin';\n\n    query$: Observable<string> = store.select('query');\n\n    onInputChange = (query: string) => {\n        if (query.length > 0) {\n            store.set('query', query);\n        }\n    };\n\n    componentWillUnmount(): void {\n        if (this.querySubscribe) {\n            this.querySubscribe.unsubscribe();\n            store.set('query', null);\n        }\n    }\n\n    componentDidMount(): void {\n        this.subscribeToQuery();\n    }\n\n    subscribeToQuery() {\n        this.querySubscribe = this.query$.pipe(\n            startWith(null),\n            debounceTime(750),\n            distinctUntilChanged(),\n            filter((query) => typeof query === 'string'),\n            switchMap(query => {\n                this.loading = true;\n                return axios.post(`${this.BASE_URL}/admin-ajax.php`, `action=wpex_search_post_by_title&query=${query}`, {\n                    headers: {\n                        'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'\n                    }\n                });\n            }),\n            map((response) => {\n                this.suggestions = response.data.posts.map((post: any) => ({\n                    ...post,\n                    'label': post.post_title,\n                    'value': post.post_title,\n                    'image_src': post.image_src,\n                }));\n                this.loading = false;\n            }),\n            catchError((err, caught) => throwError(err))\n        ).subscribe();\n    }\n\n    changeSelection = (selected: any) => {\n        if (selected === null || (selected && selected.ID)) {\n            if (selected) {\n                delete selected.post_content;\n            }\n            this.props.onUpdateData('post', selected);\n        }\n    };\n\n    render(): React.ReactElement<any, string | React.JSXElementConstructor<any>> | string | number | {} | React.ReactNodeArray | React.ReactPortal | boolean | null | undefined {\n        return (\n            <div dir={this.props.uiStore.dir}>\n                <IntegrationReactSelect\n                    placeholder={i18n.t('Select post')}\n                    value={this.props.widget.data.post}\n                    suggestions={this.suggestions}\n                    inputChange={this.onInputChange}\n                    onChange={this.changeSelection}\n                    loading={this.loading}\n                />\n\n                <div className='fields-wrapper'>\n                    <FormControl>\n                        <RadioGroup\n                            aria-label=\"Gender\"\n                            name=\"gender1\"\n                            value={this.props.widget.data.size}\n                            onChange={(event: any) => this.props.onUpdateData('size', event.target.value)}\n                        >\n                            <FormControlLabel value=\"Small\" control={<Radio/>} label={i18n.t(\"Small\")}/>\n                            <FormControlLabel value=\"Large\" control={<Radio/>} label={i18n.t(\"Large\")}/>\n                        </RadioGroup>\n                    </FormControl>\n                    <div>\n                        <FormControl>\n                            <FormControlLabel\n                                control={<Checkbox\n                                    checked={this.props.widget.data.isBgGray}\n                                    onChange={(event: any) => this.props.onUpdateData('isBgGray', event.target.checked)}\n                                    value=\"#dadada\"/>}\n                                label={i18n.t(\"Gray background\")}\n                            />\n                        </FormControl>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default PostEditor;\n\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport {Button} from \"@material-ui/core\";\nimport i18n from \"i18next\";\nimport {inject, observer} from \"mobx-react\";\n\nconst LogoEditorStyled = styled.div`\n    display: flex;\n    flex: 1;\n    div{\n      flex:1\n    }\n`;\n\ndeclare global {\n    interface Window {\n        wp: any;\n    }\n}\n\n@inject(\"uiStore\")\n@observer\nclass LogoEditor extends React.Component<any, any> {\n\n\n    frame: any;\n\n    onSelect = () => {\n        const attachment = this.frame.state().get('selection').first().toJSON();\n        this.props.onUpdateData('src', attachment.url);\n    };\n\n    openMedia = () => {\n        this.frame.open();\n    }\n\n    componentWillMount(): void {\n        const wp = window.wp;\n        this.frame = wp.media.frames.file_frame = wp.media({\n            multiple: false\n        });\n        this.frame.on('select', this.onSelect);\n    }\n\n    componentWillUnmount(): void {\n        try {\n            this.frame.off(this.onSelect);\n        } catch (e) {\n        }\n    }\n\n    render(): React.ReactElement<any, string | React.JSXElementConstructor<any>> | string | number | {} | React.ReactNodeArray | React.ReactPortal | boolean | null | undefined {\n\n        return (\n            <LogoEditorStyled dir={this.props.uiStore.dir}>\n                <Button variant=\"contained\" color=\"primary\" onClick={this.openMedia}>\n                    {i18n.t(\"Open wordpress gallery\")}\n                </Button>\n                {/*<TextField*/}\n                {/*    variant=\"outlined\"*/}\n                {/*    id=\"standard-name\"*/}\n                {/*    label={i18n.t(\"Logo src label\")}*/}\n                {/*    value={this.props.widget.data.src}*/}\n                {/*    onChange={(event) => this.props.onUpdateData('src', event.target.value)}*/}\n                {/*    margin=\"normal\"*/}\n                {/*/>*/}\n            </LogoEditorStyled>\n        );\n    }\n}\n\nexport default LogoEditor;\n\n","import React from \"react\";\nimport IntegrationReactSelect from \"../Autocomplete\";\nimport {observable} from \"mobx\";\nimport {inject, observer} from \"mobx-react\";\nimport i18n from \"i18next\";\n\n@inject('menuStore')\n@observer\nclass NavigationEditor extends React.Component<any, any> {\n\n    @observable menu: any[] = [];\n\n    @observable loading: boolean= false;\n\n    async componentWillMount(): Promise<any> {\n        this.loading = true;\n        await this.props.menuStore.fetch();\n        this.menu =  this.props.menuStore.items;\n        this.loading = false;\n    }\n\n    render(): React.ReactElement<any, string | React.JSXElementConstructor<any>> | string | number | {} | React.ReactNodeArray | React.ReactPortal | boolean | null | undefined {\n        return (\n            <>\n                <IntegrationReactSelect\n                    placeholder={i18n.t('Choose Menu label')}\n                    loading={this.loading}\n                    value={this.props.widget.data.menu}\n                    suggestions={this.menu}\n                    inputChange={() => {\n                    }}\n                    onChange={(data:any)=>this.props.onUpdateData('menu',data)}/>\n            </>\n        );\n    }\n}\n\nexport default NavigationEditor;\n\n","import React from \"react\";\nimport {action, computed, observable} from \"mobx\";\nimport uuidv4 from 'uuid/v4';\n\nexport interface WidgetModelInterface {\n    key?: string;\n    data: {};\n    config: {\n        type: string,\n        displayName: string,\n    };\n    isSelected: boolean,\n}\n\nclass Widget {\n\n    key: string;\n\n    @observable isSelected = false;\n\n    @observable config: any = {};\n\n    @observable data: any = {};\n\n    private templateComponent: any;\n\n    private editorComponent: any;\n\n    constructor({\n                    config = {\n                        type: 'Logo',\n                        displayName: 'Logo'\n                    },\n                    data = {},\n                    key = uuidv4(),\n                    isSelected = false\n                }: WidgetModelInterface) {\n        this.config = config;\n        this.data = data;\n        this.key = key;\n        this.isSelected = isSelected;\n    }\n\n    @computed get displayName(): string {\n        return this.config.displayName;\n    }\n\n    @action updateWidgetData = (data: any) => {\n        this.data = data;\n    };\n\n    setEditorComponent(editorComponent: any) {\n        this.editorComponent = editorComponent;\n    }\n\n    setTemplateComponent(templateComponent: any) {\n        this.templateComponent = templateComponent;\n    }\n\n    renderEditor = (props = {}) => {\n        const Component = this.editorComponent;\n\n        props = {...props, ...this.data};\n\n        return (<Component {...props}/>);\n    };\n\n    renderTemplate = (props = {}) => {\n        const Component = this.templateComponent;\n\n        props = {...props, ...this.data};\n\n        return (<Component {...props}/>);\n    };\n\n    get asJson() {\n        return {\n            config: this.config,\n            data: this.data,\n            key: this.key,\n            // isSelected: this.isSelected,\n        };\n    }\n\n    renderButton = () => {\n        return (<div>Add button</div>);\n    }\n\n}\n\nexport default Widget;\n","import styled from \"styled-components\";\nimport React from \"react\";\n\nconst TitleStyled = styled.div`\n    font-family: Arial,Helvetica Neue,Helvetica,sans-serif;\n    text-align: center;\n    img{\n      max-width: 100px;\n    }\n    h1{\n        margin-bottom: 0;\n        text-align: center;\n    }\n    h3{\n            font-size: 14px;\n            text-align: center;\n    color: #c3c3c3;\n    font-weight: normal;\n    }\n`;\n\nconst Title = (props: any) => {\n    return (\n        <TitleStyled>\n            <h1>{props.data.title !== '' ? props.data.title : 'Lorem Ipsum is simply'}</h1>\n            <h3>{props.data.subTitle !== '' ? props.data.subTitle : 'Lorem Ipsum is simply dummy text of the printing and typesetting industry'}</h3>\n        </TitleStyled>\n    );\n};\n\nexport default Title;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport TextField from '@material-ui/core/TextField';\nimport {inject} from \"mobx-react\";\nimport i18n from \"i18next\";\n\nconst TitleEditorStyled = styled.div`\n`;\n\n@inject(\"uiStore\")\nclass TitleEditor extends React.Component<any, any> {\n\n    render(): React.ReactElement<any, string | React.JSXElementConstructor<any>> | string | number | {} | React.ReactNodeArray | React.ReactPortal | boolean | null | undefined {\n        return (\n            <TitleEditorStyled dir={this.props.uiStore.dir}>\n                <TextField\n                    fullWidth\n                    variant=\"outlined\"\n                    id=\"standard-name\"\n                    label={i18n.t(\"Title\")}\n                    value={this.props.widget.data.title}\n                    onChange={(event) => this.props.onUpdateData('title', event.target.value)}\n                    margin=\"normal\"\n                />\n                <div>\n                    <TextField\n                        variant=\"outlined\"\n                        fullWidth\n                        id=\"standard-name\"\n                        label={i18n.t(\"Sub title\")}\n                        value={this.props.widget.data.subTitle}\n                        onChange={(event) => this.props.onUpdateData('subTitle', event.target.value)}\n                        margin=\"normal\"\n                    />\n                </div>\n            </TitleEditorStyled>\n        );\n    }\n}\n\nexport default TitleEditor;\n\n","import Post from \"../components/templates/Post\";\nimport Logo from \"../components/templates/Logo\";\nimport Navigation from \"../components/templates/Navigation\";\nimport PostEditor from \"../components/editors/PostEditor\";\nimport LogoEditor from \"../components/editors/LogoEditor\";\nimport NavigationEditor from \"../components/editors/NavigationEditor\";\nimport Widget, {WidgetModelInterface} from \"./Widget\";\nimport {observable} from \"mobx\";\nimport Title from \"../components/templates/Title\";\nimport TitleEditor from \"../components/editors/TitleEditor\";\n\n\nclass WidgetsStore {\n\n    @observable items: Map<string, any> = new Map<string, any>();\n\n    constructor() {\n        this.init();\n    }\n\n    init() {\n\n        this.items.set('Title', {\n            template: Title,\n            editor: TitleEditor\n        });\n\n        this.items.set('Post', {\n            template: Post,\n            editor: PostEditor\n        });\n\n        this.items.set('Navigation', {\n            template: Navigation,\n            editor: NavigationEditor\n        });\n\n        this.items.set('Logo', {\n            template: Logo,\n            editor: LogoEditor\n        });\n\n    }\n\n    createWidget(widgetModel: WidgetModelInterface): Widget {\n        const widget = new Widget(widgetModel);\n        const type = widget.config.type;\n\n        //#TODO add check if template or editor is exist\n        widget.setEditorComponent(this.items.get(type).editor);\n        widget.setTemplateComponent(this.items.get(type).template);\n\n        return widget;\n    }\n}\n\nexport default WidgetsStore;\n","import {WidgetModelInterface} from \"./Widget\";\n\nexport const logoWidget: WidgetModelInterface = {\n    config: {\n        type: 'Logo',\n        displayName: 'Logo'\n    },\n    isSelected: false,\n    data: {\n        src:''\n    }\n\n};\n\nexport const titleWidget: WidgetModelInterface = {\n    config: {\n        type: 'Title',\n        displayName: 'Title'\n    },\n    isSelected: false,\n    data: {\n        title:'',\n        subTitle:'',\n    }\n\n};\n\nexport const menuDataWidget: WidgetModelInterface = {\n    config: {\n        type: 'Navigation',\n        displayName: 'Navigation'\n    },\n    isSelected: false,\n    data: {}\n};\n\nexport const postDataWidget: WidgetModelInterface = {\n    config: {\n        type: 'Post',\n        displayName: 'Post'\n    },\n    isSelected: false,\n    data: {\n        size: 'Small',\n        isBgGray: false,\n    }\n};\n\nexport const postLargeDataWidget = Object.assign({}, postDataWidget, {data: {...postDataWidget.data, 'size': 'Large'}});\n","import {action, computed, observable} from \"mobx\";\nimport Widget, {WidgetModelInterface} from \"./Widget\";\nimport WidgetsStore from \"./WidgetsStore\";\nimport TemplateInterface from \"./TemplateInterface\";\nimport {logoWidget, menuDataWidget, postDataWidget} from \"./templateData_temp\";\nimport uuidv4 from 'uuid/v4';\n\n// #TODO move to store index.tsx\nconst widgetsStore = new WidgetsStore();\n\nexport class Template implements TemplateInterface {\n\n    id: number;\n\n    key: string;\n\n    displayName: string = '';\n\n    @observable html: string = '';\n\n    @observable widgets: Widget[] = [];\n\n    constructor({displayName, widgets, id, key = uuidv4()}: TemplateInterface) {\n        this.displayName = displayName;\n        this.id = id;\n        this.key = key;\n\n        //#TODO remove Object.assign\n        this.widgets = widgets.map(widget => widgetsStore.createWidget(Object.assign({}, widget)));\n    }\n\n    addWidget = (type: string, index: number) => {\n        const widget: Widget = widgetsStore.createWidget(this.getWidgetData(type));\n        this.widgets.splice(index + 1, 0, widget);\n    };\n\n    deleteWidget = (widgetIndex: number) => {\n\n        const widgets = this.widgets;\n        const currentWidget: any = widgets.find((item: Widget, index: number) => widgetIndex === index);\n        const beforeWidget = widgets.find((item: Widget, index: number) => (widgetIndex - 1) === index);\n        const afterWidget = widgets.find((item: Widget, index: number) => (widgetIndex + 1) === index);\n\n        if (\n            (!beforeWidget && afterWidget && currentWidget.config.type === afterWidget.config.type) ||\n            (beforeWidget && !afterWidget && currentWidget.config.type === beforeWidget.config.type) ||\n            (beforeWidget && afterWidget && (currentWidget.config.type === beforeWidget.config.type || currentWidget.config.type === afterWidget.config.type))\n        ) {\n\n            this.widgets.splice(widgetIndex, 1);\n        }\n\n    };\n\n    getWidgetData = (widgetType: string): WidgetModelInterface => {\n        if (widgetType === 'Post') {\n            return postDataWidget;\n        }\n        if (widgetType === 'Navigation') {\n            return menuDataWidget;\n        }\n        if (widgetType === 'Logo') {\n            return logoWidget;\n        }\n\n        return postDataWidget;\n    }\n\n    @action setWidgetSelected(widgetIndex: number | null = null) {\n        this.widgets.forEach(((widget, index) => widget.isSelected = index === widgetIndex));\n    }\n\n    get asJson() {\n        return {\n            widgets: this.widgets.map((widget: any) => widget.asJson),\n            displayName: this.displayName,\n            id: this.id,\n            html: this.html,\n        };\n    };\n\n    @computed get isWidgetSelected(): boolean {\n        return this.widgets.find((widget) => widget.isSelected) !== undefined;\n    }\n\n    @computed get widgetSelectedIndex(): number | null {\n        const index = this.widgets.findIndex((widget: Widget) => widget.isSelected);\n        return index !== -1 ? index : null;\n    }\n\n    @computed get selectedWidget(): Widget | null {\n        return this.widgetSelectedIndex !== null ? this.widgets[this.widgetSelectedIndex] : null;\n    }\n\n    resetWidgetSelected = () => {\n        this.widgets.forEach((widget: Widget) => widget.isSelected = false);\n    }\n\n}\n","import {observable} from \"mobx\";\nimport {Template} from \"./Template\";\nimport TemplateModeInterface from \"./TemplateInterface\";\nimport {logoWidget, menuDataWidget, postDataWidget, postLargeDataWidget, titleWidget} from \"./templateData_temp\";\nimport TemplateInterface from \"./TemplateInterface\";\nimport uuidv4 from 'uuid/v4';\n\nclass TemplateStore {\n\n    @observable templates: TemplateModeInterface[] = [\n        {\n            id: 0,\n            key: uuidv4(),\n            displayName: 'Large post',\n            widgets: [logoWidget, menuDataWidget, postLargeDataWidget, postDataWidget, postDataWidget]\n        },\n        {\n            id: 1,\n            key: uuidv4(),\n            displayName: 'Campaign',\n            widgets: [logoWidget, titleWidget, postLargeDataWidget, postDataWidget]\n        },\n        {\n            id: 2,\n            key: uuidv4(),\n            displayName: 'Without menu',\n            widgets: [logoWidget, postDataWidget, postLargeDataWidget, postDataWidget]\n        },\n    ];\n    getTemplate = (index: number): TemplateInterface => JSON.parse(JSON.stringify(this.templates[index]));\n\n    createTemplate(template: TemplateInterface): Template {\n        return new Template(template);\n    }\n\n}\n\nexport default TemplateStore;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport './config/i18n';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport {Provider} from \"mobx-react\";\nimport UiStore from \"./stores/UiStore\";\nimport CampaignStore from \"./stores/CampaignStore\";\nimport MenusStore from \"./stores/Menu/MenusStore\";\nimport TemplatesStore from \"./stores/TemplateStore\";\nimport MenusApi from \"./stores/Menu/MenusApi\";\nimport {WpexApi} from \"./api/WpexApi\";\nimport {SnackbarProvider} from \"notistack\";\n\nconst api = new WpexApi();\nconst templateStore = new TemplatesStore();\nconst uiStore = new UiStore(api);\nconst campaignStore = new CampaignStore(templateStore, uiStore, api);\nconst menuApi: MenusApi = new MenusApi();\nconst menuStore = new MenusStore(menuApi);\nconst stores = {\n    campaignStore,\n    uiStore,\n    menuStore,\n    templateStore,\n    api,\n};\n\nif (process.env.NODE_ENV !== 'production') {\n    const whyDidYouRender = require('@welldone-software/why-did-you-render');\n    whyDidYouRender(React);\n}\n\nReactDOM.render(\n    <SnackbarProvider hideIconVariant={false}\n                      anchorOrigin={{\n                          vertical: 'top',\n                          horizontal: 'right',\n                      }}>\n        <Provider {...stores}>\n            <App/>\n        </Provider>\n    </SnackbarProvider>\n    , document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import axios from \"axios\";\nimport CampaignInterface from \"../stores/CampaignInterface\";\n\ndeclare global {\n    interface Window {\n        before: any;\n        after: any;\n    }\n\n    interface String {\n        replaceAt(index: number, char: string): string;\n    }\n}\n\n\nexport class WpexApi {\n\n    BASE_URL = process.env.NODE_ENV === 'production' ? window.location.protocol + \"//\" + window.location.host + window.location.pathname.split('/').slice(0,window.location.pathname.split('/').length-1).join('/') : 'http://wewp-plugins/wp-admin';\n\n    mailchimpConfig: any = {};\n\n    constructor() {\n        this.getMailchimpConfig();\n    }\n\n    async getShortCode(){\n        try {\n\n            const {data} = await axios.post(`${this.BASE_URL}/admin-ajax.php`, `action=wpex_get_short_code`, {\n                headers: {\n                    'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'\n                }\n            });\n\n            return data;\n        } catch (e) {\n            console.warn('Error: WpexApi->getLocale', e);\n        }\n    }\n\n    async getLocale() {\n        try {\n\n            const {data} = await axios.post(`${this.BASE_URL}/admin-ajax.php`, `action=wpex_get_locale`, {\n                headers: {\n                    'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'\n                }\n            });\n\n            return data;\n        } catch (e) {\n            console.warn('Error: WpexApi->getLocale', e);\n        }\n    }\n\n    async getMailchimpConfig() {\n        try {\n            let toSend: any = {\n                action: 'wpex_get_mailchimp_config',\n            };\n\n            const {data} = await axios.post(`${this.BASE_URL}/admin-ajax.php`, this.jqueryParam(toSend), {\n                headers: {\n                    'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'\n                }\n            });\n\n            this.mailchimpConfig = data;\n        } catch (e) {\n            console.warn('Error: WpexApi->getMailchimpConfig', e);\n        }\n    }\n\n    async saveCampaign(campaign: CampaignInterface) {\n        try {\n\n            let toSend: any = {\n                action: 'wpex_save_campaign',\n                campaign: campaign,\n\n            };\n\n            const {data} = await axios.post(`${this.BASE_URL}/admin-ajax.php`, this.jqueryParam(toSend), {\n                headers: {\n                    'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'\n                }\n            });\n\n            return data;\n        } catch (e) {\n            console.warn('Error: WpexApi->saveCampaign', e);\n        }\n    }\n\n\n    async loadCampaigns(): Promise<CampaignInterface[]> {\n\n        let campaigns: CampaignInterface[] = [];\n\n        try {\n\n            const {data} = await axios.post(`${this.BASE_URL}/admin-ajax.php`, `action=wpex_get_campaign`, {\n                headers: {\n                    'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'\n                }\n            });\n\n            campaigns = data.campaigns;\n        } catch (e) {\n            console.warn('Error: WpexApi->loadCampaings', e);\n        }\n\n        return campaigns;\n    }\n\n    async getMailchimpLists() {\n        try {\n            const {data} = await axios.post(`${this.BASE_URL}/admin-ajax.php`, 'action=wpex_get_mailchimp_lists');\n\n            //#TODO  check if lists exist\n            return data.lists;\n        } catch (e) {\n            console.log('Error to get mailchimp list', e);\n        }\n    }\n\n    async sendTest(campaign: CampaignInterface, emails: []) {\n        try {\n            const dataToSend = {\n                action: 'wpex_send_campaign_test',\n                campaign: campaign,\n                emails: emails,\n            };\n            return await axios.post(`${this.BASE_URL}/admin-ajax.php`, `${this.jqueryParam(dataToSend)}`);\n\n        } catch (e) {\n            console.log('Error to get mailchimp list', e);\n        }\n    }\n\n    async send(campaign: CampaignInterface) {\n        try {\n            const dataToSend = {\n                action: 'wpex_send_campaign',\n                campaign: campaign,\n            };\n\n            return await axios.post(`${this.BASE_URL}/admin-ajax.php`, `${this.jqueryParam(dataToSend)}`);\n\n        } catch (e) {\n            console.log('Error to get mailchimp list', e);\n        }\n    }\n\n    async getCampaignByPostId(post_id: number) {\n        try {\n            const {data} = await axios.post(`${this.BASE_URL}/admin-ajax.php`, `action=wpex_get_campaign&post_id=${post_id}`);\n            return data.campaign;\n        } catch (e) {\n            console.log('Error to get mailchimp list', e);\n        }\n    }\n\n    jqueryParam(a: any) {\n        const s: any[] = [];\n\n        const add = (k: any, v: any) => {\n            v = typeof v === 'function' ? v() : v;\n            v = v === null ? '' : v === undefined ? '' : v;\n            s[s.length] = encodeURIComponent(k) + '=' + encodeURIComponent(v);\n        };\n\n        const buildParams = function (prefix: any, obj: any) {\n            let i, len, key;\n\n            if (prefix) {\n                if (Array.isArray(obj)) {\n                    for (i = 0, len = obj.length; i < len; i++) {\n                        buildParams(\n                            prefix + '[' + (typeof obj[i] === 'object' && obj[i] ? i : '') + ']',\n                            obj[i]\n                        );\n                    }\n                } else if (String(obj) === '[object Object]') {\n                    for (key in obj) {\n                        buildParams(prefix + '[' + key + ']', obj[key]);\n                    }\n                } else {\n                    add(prefix, obj);\n                }\n            } else if (Array.isArray(obj)) {\n                for (i = 0, len = obj.length; i < len; i++) {\n                    add(obj[i].name, obj[i].value);\n                }\n            } else {\n                for (key in obj) {\n                    buildParams(key, obj[key]);\n                }\n            }\n            return s;\n        };\n\n        return buildParams('', a).join('&');\n    }\n}\n","import Menu from \"./Menu\";\nimport axios from \"axios\";\n\nexport default class MenusApi {\n\n    BASE_URL = process.env.NODE_ENV === 'production' ? window.location.protocol + \"//\" + window.location.host + window.location.pathname.split('/').slice(0,window.location.pathname.split('/').length-1).join('/') : 'http://wewp-plugins/wp-admin';\n\n    fetch = async (): Promise<Menu[]> => {\n        const {data} = await axios.post(`${this.BASE_URL}/admin-ajax.php`, `action=wpex_get_menu_items`, {\n            headers: {\n                'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'\n            }\n        });\n\n        return data;\n    }\n}\n"],"sourceRoot":""}