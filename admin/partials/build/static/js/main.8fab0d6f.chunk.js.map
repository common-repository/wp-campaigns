{"version":3,"sources":["config/i18n.js","components/WidgetControl.tsx","components/StyleComponents.tsx","components/CampaignTemplate.tsx","components/EditorWrapper.tsx","components/Stepper.tsx","components/StepperContent.tsx","config/FontAwesomeIcon.ts","containers/CampaignTemplateWrapper.tsx","validation-schemas/sending-schema.ts","components/SendingToListModal.tsx","validation-schemas/config-schema.ts","components/Sending.tsx","components/Loader.tsx","containers/CampaignConfig.tsx","App.tsx","serviceWorker.ts","stores/UiStore.ts","stores/Campaign.ts","stores/CampaignStore.ts","stores/Menu/MenuItem.ts","stores/Menu/Menu.ts","stores/Menu/MenusStore.ts","components/templates/Post.tsx","components/templates/Logo.tsx","components/templates/Navigation.tsx","components/Autocomplete.tsx","components/editors/PostEditor.tsx","components/editors/LogoEditor.tsx","components/editors/NavigationEditor.tsx","stores/Widget.tsx","components/templates/Title.tsx","components/editors/TitleEditor.tsx","stores/WidgetsStore.ts","stores/templateData_temp.ts","stores/Template.ts","stores/TemplateStore.ts","index.tsx","api/WpexApi.ts","stores/Menu/MenusApi.ts"],"names":["i18n","use","Backend","init","backend","loadPath","lng","interpolation","escapeValue","WidgetControlStyled","styled","div","_templateObject","WidgetControl","props","react_default","a","createElement","className","selected","onClick","onEdit","index_es","icon","onAdd","onDelete","children","Flex","StyleComponents_templateObject","FlexMinHeightContent","_templateObject2","FlexCenter","_templateObject3","FlexColumnCenter","_templateObject4","_templateObject5","FlexAutoScroll","_templateObject6","ScrollableStyled","_templateObject7","_templateObject8","_templateObject9","juice","require","CampaignTemplateStyled","CampaignTemplate_templateObject","isOpen","CampaignTemplate","inject","observer","who","deep","tagName","txt","ax","el","document","clone","cloneNode","appendChild","innerHTML","indexOf","substring","this","updateHtml","html","head","body","content","linkToArchiveWrapper","style","querySelector","template","getElementById","cloneCss","Array","from","querySelectorAll","forEach","node","remove","result","htmlToString","_this","widgets","map","widget","index","components_WidgetControl","key","isSelected","widgetEditHandler","widgetAddHandler","widgetDeleteHandler","renderTemplate","Object","objectSpread","data","id","React","Component","whyDidYouRender","EditorWrapperStyled","EditorWrapper_templateObject","EditorWrapper","onUpdateData","widgetDateKey","dataChanged","updateData","save","_callee","_key2","regenerator_default","wrap","_context","prev","next","loading","campaignStore","campaign","enqueueSnackbar","variant","setTimeout","closeSnackbar","t0","stop","selectedWidget","resetWidgetSelected","config","displayName","t","renderEditor","dir","uiStore","Button","color","disabled","alt","src","width","height","marginRight","observable","withSnackbar","StepperStyled","Stepper_templateObject","_ref","isRTL","_ref2","LiStyled","li","Stepper_templateObject2","_ref3","step","stepperState","LiStyledObserver","_ref4","objectWithoutProperties","assign","Stepper","iconName","concat","setStep","StepperContent","othersProps","cloneElement","library","add","faChevronLeft","faChevronRight","faPencilAlt","faPlusSquare","faTrashAlt","faTimes","CampaignTemplateWrapperStyled","CampaignTemplateWrapper_templateObject","CampaignTemplateWrapper","onWidgetEditHandler","widgetIndex","setWidgetSelected","onWidgetDeleteHandler","deleteWidget","onWidgetAddHandler","addWidget","type","isSaveButtonDisable","abrupt","sent","value","setHtml","_this2","childrenWithProps","Children","child","isWidgetSelected","sendingSchema","Yup","shape","emails","of","email","ModalContentStyled","SendingToListModal_templateObject","ConfirmMessageStyled","SendingToListModal_templateObject2","SendingToListModal","isOpenModal","handleClose","action","_useState","useState","_useState2","slicedToArray","setType","_useState3","_useState4","setLoading","useEffect","Modal","aria-labelledby","aria-describedby","open","onClose","Typography","TextField","fullWidth","margin","onChange","event","target","marginTop","getConfigSchema","mailchimpListId","required","templateId","name","test","mailServiceFields","preview","title","replayTo","subjectLine","SendingFormWrapperStyled","section","Sending_templateObject","SendToAllWrapper","Sending_templateObject2","disableSendToAll","UlStyled","ul","Sending_templateObject3","textAlign","Sending","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","initializerDefineProperty","Sending_descriptor","assertThisInitialized","Sending_descriptor2","onUpdate","asyncToGenerator","mark","field","setFieldTouched","setState","defineProperty","_x","_x2","_x3","apply","arguments","onUpdateDebounced","debounce","_callee2","setFieldValue","_event$target","_args2","_context2","length","undefined","split","Function","prototype","String","trim","persist","_x4","_x5","_x6","_descriptor3","send","_callee3","response","errorKey","sendingSuccessfully","_context3","error","console","log","handleOpen","canSendTest","errors","isValidSync","asJson","configFormIsValid","api","mailchimpConfig","private_key","privateKeyMissing","goToConfigForm","preventDefault","state","_this$props","templateStore","otherProps","mailchimpCampaignId","propsDisableSendToAll","disableSendTest","entries","errorsMessages","href","alignItems","display","formik_esm","initialValues","validationSchema","validateOnChange","enableReinitialize","onSubmit","values","_ref5","setSubmitting","_ref6","touched","borderBottom","paddingBottom","flex","label","helperText","join","onBlur","size","sendTest","marginBottom","components_SendingToListModal","_callee4","_context4","_this3","success_send_test","send_test_response","detail","updateFromJson","LoaderStyled","Loader_templateObject","Loader","show","CampaignConfigFormWrapperStyled","CampaignConfig_templateObject","CampaignConfig_templateObject2","CustomSelect","items","menuItems","item","MenuItem_MenuItem","splice","Math","random","FormControl","InputLabel","htmlFor","Select","input","OutlinedInput","labelWidth","CampaignConfig","resetForm","Number","setTemplate","_x7","_x8","t1","onSelectTemplate","onSelectMailchimpList","formDataHasChange","components_Loader","loadingData","JSON","stringify","mailchimpLists","_ref7","dirty","isValid","handleSubmit","CampaignConfig_UlStyled","CampaignConfig_CustomSelect","templates","fontSize","computed","App","StylesProvider","jss","ThemeProvider","theme","components_StepperContent","containers_CampaignConfig","containers_CampaignTemplateWrapper","components_EditorWrapper","components_CampaignTemplate","components_Sending","components_Stepper","Boolean","window","location","hostname","match","UiStore","_jssLTR","create","plugins","toConsumableArray","jssPreset","_jssRTL","rtl","_themeRTL","createMuiTheme","direction","palette","primary","main","contrastText","_themeLTR","UiStore_descriptor","UiStore_descriptor2","UiStore_descriptor3","_descriptor4","_descriptor5","setLocale","locale","campaignDraftOrNew","getLocale","i18next","changeLanguage","Campaign","store","uuidv4","post_id","mailchimpWebId","status","Campaign_descriptor","Campaign_descriptor2","Campaign_descriptor3","Campaign_descriptor4","Campaign_descriptor5","_descriptor6","getTemplate","createTemplate","saveCampaign","getPostIdFromUrl","json","parse","CampaignStore","CampaignStore_descriptor","CampaignStore_descriptor2","CampaignStore_descriptor3","CampaignStore_descriptor4","CampaignStore_descriptor5","CampaignStore_descriptor6","loadInitData","lists","campaignAsync","getMailchimpLists","getCampaignByPostId","setMailchimpLists","t2","t3","list","campaigns","find","push","Promise","rs","rj","loadCampaigns","updateTodoFromServer","url","URL","searchParams","get","widgetSelectedIndex","MenuItem","ID","guid","Menu","menu","term_id","MenusStore","menuApi","MenusStore_descriptor","MenusStore_descriptor2","fetch","PostStyled","Post_templateObject","isBgGray","Table","table","Post_templateObject2","Post","post","image_src","post_title","post_excerpt","snippet","replace","border","maxWidth","rel","LogoStyled","Logo_templateObject","Logo","NavigationStyled","Navigation_templateObject","pointCSS","Navigation","fill","inputComponent","inputRef","ref","components","Control","InputProps","inputProps","selectProps","classes","innerRef","innerProps","textFieldProps","Paper","square","paper","MultiValue","Chip","tabIndex","classNames","chip","chipFocused","isFocused","removeProps","deleteIcon","NoOptionsMessage","noOptionsMessage","Option","buttonRef","component","fontWeight","Placeholder","placeholder","SingleValue","singleValue","ValueContainer","valueContainer","Wrapper","Autocomplete_templateObject","WrapperInput","Autocomplete_templateObject2","IntegrationReactSelect","selectStyles","base","text","& input","font","root","NoSsr","react_select_browser_esm","styles","options","suggestions","onInputChange","inputChange","isClearable","isSearchable","isLoading","divider","defaultProps","withStyles","padding","flexWrap","overflow","spacing","unit","backgroundColor","emphasize","grey","position","left","zIndex","right","withTheme","query","RxStore","subject","BehaviorSubject","asObservable","pipe","distinctUntilChanged","createClass","pluck","PostEditor","querySubscribe","BASE_URL","protocol","host","query$","select","set","changeSelection","post_content","unsubscribe","subscribeToQuery","startWith","debounceTime","filter","switchMap","axios","headers","Content-Type","posts","catchError","err","caught","throwError","subscribe","Autocomplete","RadioGroup","aria-label","FormControlLabel","control","Radio","Checkbox","checked","LogoEditorStyled","LogoEditor_templateObject","LogoEditor","frame","onSelect","attachment","first","toJSON","openMedia","wp","media","frames","file_frame","multiple","on","off","e","NavigationEditor","menuStore","Fragment","Widget","_ref$config","_ref$data","_ref$key","_ref$isSelected","Widget_descriptor","Widget_descriptor2","Widget_descriptor3","templateComponent","editorComponent","Widget_descriptor4","renderButton","TitleStyled","Title_templateObject","Title","subTitle","TitleEditorStyled","TitleEditor_templateObject","TitleEditor","WidgetsStore","WidgetsStore_descriptor","editor","widgetModel","setEditorComponent","setTemplateComponent","Map","logoWidget","titleWidget","menuDataWidget","postDataWidget","postLargeDataWidget","widgetsStore","Template","Template_class","Template_descriptor","Template_descriptor2","createWidget","getWidgetData","currentWidget","beforeWidget","afterWidget","widgetType","findIndex","applyDecoratedDescriptor","configurable","enumerable","writable","initializer","getOwnPropertyDescriptor","TemplateStore","WpexApi","getMailchimpConfig","_getShortCode","warn","_getLocale","_getMailchimpConfig","toSend","jqueryParam","_saveCampaign","_loadCampaigns","_callee5","_context5","_getMailchimpLists","_callee6","_context6","_sendTest","_callee7","dataToSend","_context7","_send","_callee8","_context8","_getCampaignByPostId","_callee9","_context9","s","k","v","encodeURIComponent","buildParams","prefix","obj","i","len","isArray","TemplatesStore","stores","ReactDOM","render","build","hideIconVariant","anchorOrigin","vertical","horizontal","mobx_react_module","src_App_0","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"wQAGeA,IACVC,IAAIC,KACJC,KAAK,CACFC,QAAS,CACLC,SAA4E,yDAEhFC,IAAK,QACLC,cAAe,CACXC,aAAa,giCCPzB,IAAMC,EAAsBC,IAAOC,IAAVC,KAgEVC,EAfO,SAACC,GACnB,OACIC,EAAAC,EAAAC,cAACR,EAAD,CAAqBS,UAAWJ,EAAMK,SAAW,WAAa,IAC1DJ,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WACXH,EAAAC,EAAAC,cAAA,KAAGG,QAASN,EAAMO,QAAlB,IAA2BN,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAAiBC,KAAK,eAAjD,KACAR,EAAAC,EAAAC,cAAA,KAAGG,QAASN,EAAMU,OAAlB,IAA0BT,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAAiBC,KAAK,gBAAhD,KACAR,EAAAC,EAAAC,cAAA,KAAGG,QAASN,EAAMW,UAAlB,IAA6BV,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAAiBC,KAAK,cAAnD,MAEJR,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YACVJ,EAAMY,6nCC5DhB,UAAMC,EAAOjB,IAAOC,IAAViB,KAMJC,EAAuBnB,YAAOiB,EAAPjB,CAAHoB,KAIpBC,EAAarB,YAAOiB,EAAPjB,CAAHsB,KASVC,GAJavB,YAAOiB,EAAPjB,CAAHwB,KAISxB,YAAOqB,EAAPrB,CAAHyB,MAIhBC,EAAiB1B,YAAOiB,EAAPjB,CAAH2B,KASdC,GAL2B5B,IAAOC,IAAV4B,KAKL7B,IAAOC,IAAV6B,MASgB9B,YAAO4B,EAAP5B,CAAH+B,yJC9B1C,YAAMC,EAAQC,EAAQ,KAEhBC,EAAyBlC,YAAO0B,EAAP1B,CAAHmC,IAGxB,SAAC/B,GACG,OAAOA,EAAMgC,OAAS,IAAM,WAoIrBC,EA9HdC,YAAO,mBACPA,YAAO,aACPC,sMAKgBC,EAAUC,GACnB,IAAKD,IAAQA,EAAIE,QACb,MAAO,GAEX,IAAIC,EAAKC,EAAIC,EAA4BC,SAASvC,cAAc,OAC1DwC,EAAQP,EAAIQ,WAAU,GAQ5B,OAPAH,EAAGI,YAAYF,GACfJ,EAAME,EAAGK,UACLT,IACAG,EAAKD,EAAIQ,QAAQ,KAAO,EACxBR,EAAMA,EAAIS,UAAU,EAAGR,GAAMJ,EAAIU,UAAYP,EAAIS,UAAUR,IAE/DC,EAAK,KACGF,iDAIRU,KAAKC,kDAKL,IAAMC,EAAOT,SAASvC,cAAc,QAC9BiD,EAAOV,SAASvC,cAAc,QAC9BkD,EAAOX,SAASvC,cAAc,QAC9BmD,EAAUZ,SAASvC,cAAc,OACjCoD,EAAuBb,SAASvC,cAAc,OAC9CqD,EAAQd,SAASe,cAAc,sBAC/BC,EAAWhB,SAASiB,eAAe,YAEzC,GAAIH,EAAO,CACP,IAAMI,EAAgBJ,EAAMZ,WAAU,GACtCgB,EAASd,UAAY,s2PACrBM,EAAKP,YAAYe,GAGrBL,EAAqBT,UAAY,yIACjCQ,EAAQT,YAAYU,GAEhBG,IACAA,EAAStD,UAAY,GACrBkD,EAAQR,UAAYY,EAASZ,UAC7Be,MAAMC,KAAKR,EAAQS,iBAAiB,aAAaC,QAAQ,SAAAC,GAAI,OAAIA,EAAKC,YAG1Ef,EAAKN,YAAYO,GACjBC,EAAKR,YAAYS,GACjBH,EAAKN,YAAYQ,GAKjB,IAAMc,EAASvC,EAAMqB,KAAKmB,aAAajB,GAAM,IAO7CF,KAAKjD,MAAMkD,WAAYiB,oCAiCiJ,IAAAE,EAAApB,KAElKqB,EAAUrB,KAAKjD,MAAMsE,QAAQC,IAAI,SAACC,EAAgBC,GAAjB,OACnCxE,EAAAC,EAAAC,cAACuE,EAAD,CAAeC,IAAKH,EAAOG,IACZtE,SAAUmE,EAAOI,WACjBrE,OAAQ,kBAAM8D,EAAKrE,MAAM6E,kBAAkBJ,IAC3C/D,MAAO,kBAAM2D,EAAKrE,MAAM8E,iBAAiBN,EAAQC,IACjD9D,SAAU,kBAAM0D,EAAKrE,MAAM+E,oBAAoBN,KACzDD,EAAOQ,eAAPC,OAAAC,EAAA,EAAAD,CAAA,GAA0BZ,EAAKrE,MAA/B,CAAsCmF,KAAMX,EAAOW,WAI5D,OACIlF,EAAAC,EAAAC,cAAC2B,EAA2BmB,KAAKjD,MAC7BC,EAAAC,EAAAC,cAACY,EAAyBkC,KAAKjD,MAC3BC,EAAAC,EAAAC,cAACgB,EAAqB8B,KAAKjD,MACvBC,EAAAC,EAAAC,cAAA,OAAKiF,GAAG,YAEHd,aAlHEe,IAAMC,aAE1BC,iBAAkB,oyCCnB7B,IAAMC,GAAsB5F,YAAOiB,EAAPjB,CAAH6F,KAQrB,SAACzF,GACG,OAAOA,EAAMgC,OAAS,IAAM,UAkD9B0D,GAFLxD,YAAO,UAAW,mBAClBC,mTAOGwD,aAAe,SAACC,EAAuBT,GACnCd,EAAKwB,aAAc,EACnBxB,EAAKrE,MAAM8F,WAAWF,EAAeT,MAGzCY,0BAAO,SAAAC,IAAA,IAAArB,EAAAsB,EAAA,OAAAC,EAAAhG,EAAAiG,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACHjC,EAAKkC,SAAU,EADZH,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAIOjC,EAAKrE,MAAMwG,cAAcC,SAASV,OAJzC,OAKOpB,EAAMN,EAAKrE,MAAM0G,gBAAgB,oBAAqB,CAACC,QAAS,YACtEC,WAAW,kBAAMvC,EAAKrE,MAAM6G,cAAclC,IAAM,MANjDyB,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAU,GAAAV,EAAA,SAQOzB,EAAMN,EAAKrE,MAAM0G,gBAAgB,QAAS,CAACC,QAAS,UAC1DC,WAAW,kBAAMvC,EAAKrE,MAAM6G,cAAclC,IAAM,MATjD,QAYHN,EAAKwB,aAAc,EACnBxB,EAAKkC,SAAU,EAbZ,yBAAAH,EAAAW,SAAAf,EAAA,yFAkBH,IAAMxB,EAAiBvB,KAAKjD,MAAMwG,cAAcC,SAAS/C,SAASsD,eAElE,OACI/G,EAAAC,EAAAC,cAACqF,GAAwBvC,KAAKjD,MAC1BC,EAAAC,EAAAC,cAAA,cACIF,EAAAC,EAAAC,cAAA,UAAQG,QAAS2C,KAAKjD,MAAMiH,qBACxBhH,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAAiBC,KAAK,kBAE1BR,EAAAC,EAAAC,cAAA,YAAOqE,GAAUA,EAAO0C,OAAOC,YAA/B,IAA6CjI,IAAKkI,EAAE,UAExDnH,EAAAC,EAAAC,cAAA,YACKqE,GAAUA,EAAO6C,aAAa,CAC3B1B,aAAc1C,KAAK0C,aACnBnB,YAGRvE,EAAAC,EAAAC,cAAA,UAAQmH,IAAKrE,KAAKjD,MAAMuH,QAAQD,KAC5BrH,EAAAC,EAAAC,cAACqH,GAAA,EAAD,CAAQb,QAAQ,WACRrG,QAAS2C,KAAKjD,MAAMwG,cAAcC,SAAS/C,SAASuD,qBACvD/H,IAAKkI,EAAE,WAEZnH,EAAAC,EAAAC,cAACqH,GAAA,EAAD,CACIC,MAAM,UACNd,QAAQ,YACRe,SAAWzE,KAAKsD,UAAYtD,KAAK4C,YACjCvF,QAAS2C,KAAK8C,MACb9C,KAAKsD,SACFtG,EAAAC,EAAAC,cAAA,OACIwH,IAAI,UACJC,IAAqF,2FACrFC,MAAM,OACNC,OAAO,OAAOtE,MAAO,CAACuE,YAAa,MAC1C9E,KAAKsD,QAAUrH,IAAKkI,EAAE,UAAYlI,IAAKkI,EAAE,kBA7DtC/B,IAAMC,gDAE7B0C,+EAA8B,8CAE9BA,+EAAyB,kBAkEfC,2BAAavC,6iBCrI5B,aAAMwC,GAAgBtI,YAAOiB,EAAPjB,CAAHuI,KAiBI,SAAAC,GAAA,OAAAA,EAAEb,QAA0Bc,MAAQ,IAAM,QACzC,SAAAC,GAAA,OAAAA,EAAEf,QAA0Bc,MAAQ,OAAS,MAI/DE,GAAW3I,IAAO4I,GAAVC,KACD,SAAAC,GAAA,IAAEnB,EAAFmB,EAAEnB,QAASoB,EAAXD,EAAWC,KAAX,OAA0BpB,EAAQqB,aAAeD,EAAO,YAAc,UAG7EE,GAAmB1G,YAAS,SAAA2G,GAAA,IAAET,EAAFS,EAAET,MAAUrI,EAAZiF,OAAA8D,GAAA,EAAA9D,CAAA6D,EAAA,kBAC9B7I,EAAAC,EAAAC,cAACoI,GAADtD,OAAA+D,OAAA,GAAchJ,EAAd,CAAqBqI,MAAOA,IAAQrI,EAAMY,YAmC/BqI,GAjCC/G,YAAO,UAAPA,CAAkBC,YAAS,SAACnC,GAExC,IAAMkJ,EAAa,WAAAC,OAAcnJ,EAAMuH,QAAQc,MAAQ,OAAS,SAChE,OACIpI,EAAAC,EAAAC,cAAC+H,GAADjD,OAAA+D,OAAA,GAAmBhJ,EAAnB,CACemF,KAAMnF,EAAMuH,QAAQqB,aACpBtB,IAAKtH,EAAMuH,QAAQD,MAC9BrH,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAC0I,GAAD5D,OAAA+D,OAAA,GAAsBhJ,EAAtB,CACkB2I,KAAK,IACLN,MAAOrI,EAAMuH,QAAQc,MACrB/H,QAAS,kBAAMN,EAAMoJ,QAAQ,MAC1ClK,IAAKkI,EAAE,mBACRnH,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAAiBC,KAAMyI,KAE3BjJ,EAAAC,EAAAC,cAAC0I,GAAD5D,OAAA+D,OAAA,GAAsBhJ,EAAtB,CACkB2I,KAAK,IACLN,MAAOrI,EAAMuH,QAAQc,MACrB/H,QAAS,kBAAMN,EAAMoJ,QAAQ,MAC1ClK,IAAKkI,EAAE,iBACRnH,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAAiBC,KAAMyI,KAE3BjJ,EAAAC,EAAAC,cAAC0I,GAAD5D,OAAA+D,OAAA,GAAsBhJ,EAAtB,CACkB2I,KAAK,IACLN,MAAOrI,EAAMuH,QAAQc,MACrB/H,QAAS,kBAAMN,EAAMoJ,QAAQ,MAC1ClK,IAAKkI,EAAE,iBClDbiC,GARQnH,YAAO,UAAPA,CAAkBC,YAAS,SAAAiG,GAAoD,IAAlDxH,EAAkDwH,EAAlDxH,SAAU2G,EAAwCa,EAAxCb,QAASoB,EAA+BP,EAA/BO,KAASW,EAAsBrE,OAAA8D,GAAA,EAAA9D,CAAAmD,EAAA,+BAClG,OAAOO,IAASpB,EAAQqB,aACnB3I,EAAAC,EAAAC,cAACmB,EAAmBgI,EAChBjE,IAAMkE,aAAa3I,EAAU0I,IAEhC,kGCNVE,KAAQC,IACJC,KACAC,KACAC,KACAC,KACAC,KACAC,MCFJ,IAAMC,GAAgCpK,YAAOiB,EAAPjB,CAAHqK,MAkEpBC,GAhEdhI,YAAO,oBACPC,mRAKGgI,oBAAsB,SAACC,GACnB/F,EAAKrE,MAAMwG,cAAc6D,kBAAkBD,MAG/CE,sBAAwB,SAACF,GACrB/F,EAAKrE,MAAMwG,cAAcC,SAAS/C,SAAS6G,aAAaH,MAG5DI,mBAAqB,SAAChG,EAAgBC,GAClCJ,EAAKrE,MAAMwG,cAAcC,SAAS/C,SAAS+G,UAAUjG,EAAO0C,OAAOwD,KAAMjG,MAG7EwC,oBAAsB,WAClB5C,EAAKrE,MAAMwG,cAAc6D,kBAAkB,SAG/CtE,0BAAO,SAAAC,IAAA,OAAAE,EAAAhG,EAAAiG,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACHjC,EAAKsG,qBAAsB,EADxBvE,EAAAE,KAAA,EAEUjC,EAAKrE,MAAMwG,cAAcT,OAFnC,cAAAK,EAAAwE,OAAA,SAAAxE,EAAAyE,MAAA,wBAAAzE,EAAAW,SAAAf,QAKPF,WAAa,SAACnB,EAAamG,GACvBzG,EAAKsG,qBAAsB,EACvBtG,EAAKrE,MAAMwG,cAAcC,SAASO,iBAClC3C,EAAKrE,MAAMwG,cAAcC,SAASO,eAAe7B,KAAKR,GAAOmG,MAIrE5H,WAAa,SAACC,GACVkB,EAAKrE,MAAMwG,cAAcC,SAASsE,QAAQ5H,4EAG8H,IAAA6H,EAAA/H,KAClKgI,EAAoB5F,IAAM6F,SAAS3G,IAAItB,KAAKjD,MAAMY,SAAU,SAACuK,GAC/D,OAAO9F,IAAMkE,aAAa4B,EAAO,CAC7BnL,MAAOgL,EAAKhL,MACZ2K,oBAAqBK,EAAKL,oBAC1B9F,kBAAmBmG,EAAKb,oBACxBpF,oBAAqBiG,EAAKV,sBAC1BxF,iBAAkBkG,EAAKR,mBACvBvD,oBAAqB+D,EAAK/D,oBAC1BlB,KAAMiF,EAAKjF,KACXD,WAAYkF,EAAKlF,WACjBtB,OAAQwG,EAAKhL,MAAMwG,cAAcC,SAASO,eAC1C1C,QAAS0G,EAAKhL,MAAMwG,cAAcC,SAAS/C,SAASY,QACpDtC,OAAQgJ,EAAKhL,MAAMwG,cAAc4E,iBACjClI,WAAY8H,EAAK9H,eAIzB,OACIjD,EAAAC,EAAAC,cAAC6J,GAAkC/G,KAAKjD,MACnCiL,UAxDqB5F,IAAMC,8DAEvC0C,+EAAiC,sECHvBqD,GAROC,YAEjBC,MAAM,CACHC,OAAQF,WAEHG,GAAGH,YAAaI,ojBCA7B,IAAMC,GAAqB/L,IAAOC,IAAV+L,MAUlBC,GAAuBjM,IAAOC,IAAViM,MAkEXC,sBA3Df,SAAA3D,GAAqE,IAAxC4D,EAAwC5D,EAAxC4D,YAAaC,EAA2B7D,EAA3B6D,YAAaC,EAAc9D,EAAd8D,OAAcC,EAEzCC,mBAAS,IAFgCC,EAAApH,OAAAqH,GAAA,EAAArH,CAAAkH,EAAA,GAE1DzB,EAF0D2B,EAAA,GAEpDE,EAFoDF,EAAA,GAAAG,EAGnCJ,oBAAS,GAH0BK,EAAAxH,OAAAqH,GAAA,EAAArH,CAAAuH,EAAA,GAG1DjG,EAH0DkG,EAAA,GAGjDC,EAHiDD,EAAA,GAYjE,OAPAE,oBAAU,WACN,OAAO,WACHD,GAAW,GACXH,EAAQ,MAEd,CAACP,IAGC/L,EAAAC,EAAAC,cAACyM,GAAA,EAAD,CACIC,kBAAgB,qBAChBC,mBAAiB,2BACjBC,KAAMf,EACNgB,QAASf,GAEThM,EAAAC,EAAAC,cAACwL,GAAD,KACI1L,EAAAC,EAAAC,cAAC8M,GAAA,EAAD,CAAYtG,QAAQ,KAAKvB,GAAG,eACvBlG,IAAKkI,EAAE,2BAEZnH,EAAAC,EAAAC,cAAC8M,GAAA,EAAD,CAAYtG,QAAQ,YAAYvB,GAAG,4BAC9BlG,IAAKkI,EAAE,mDAGZnH,EAAAC,EAAAC,cAAC0L,GAAD,KACK3M,IAAKkI,EAAE,yBAEZnH,EAAAC,EAAAC,cAAC+M,GAAA,EAAD,CACIC,WAAS,EACTC,OAAO,SACPzG,QAAQ,WACRmE,MAAOJ,EACPhD,SAAUnB,EACV8G,SAAU,SAACC,GAAD,OAAgBf,EAAQe,EAAMC,OAAOzC,QAC/CJ,KAAK,SAETzK,EAAAC,EAAAC,cAAA,OAAKqD,MAAO,CAACgK,UAAW,SACpBvN,EAAAC,EAAAC,cAACqH,GAAA,EAAD,CAAQb,QAAQ,YAAYc,MAAM,UAAUC,SAAmB,SAATgD,GAAmBnE,EAASjG,QAAS,WACvFoM,GAAW,GACXR,MAEC3F,GACGtG,EAAAC,EAAAC,cAAA,OACIwH,IAAI,UACJC,IAAiF,2FACjFC,MAAM,OACNC,OAAO,OAAOtE,MAAO,CAACuE,YAAa,MAC1CxB,EAAUrH,IAAKkI,EAAE,eAAiBlI,IAAKkI,EAAE,SAE9CnH,EAAAC,EAAAC,cAACqH,GAAA,EAAD,CAAQlH,QAAS2L,GAAjB,cChBLwB,GAzDS,WACpB,OAAOnC,YAEFC,MAAM,CACHmC,gBAAiBpC,YAEZqC,SAASzO,IAAKkI,EAAE,6CACrBwG,WAAYtC,YAEPqC,SAASzO,IAAKkI,EAAE,gCACrByG,KAAMvC,YAEDwC,KACG,OACA,oIACA,SAAAhD,GAAK,MAAI,0DAAyDgD,KAAKhD,KAE1E6C,SAASzO,IAAKkI,EAAE,2BACrB2G,kBAAmBzC,YAEdC,MAAM,CACHyC,QAAS1C,YAEJwC,KACG,UACA,oIACA,SAAAhD,GAAK,MAAI,0DAAyDgD,KAAKhD,KAE1E6C,SAASzO,IAAKkI,EAAE,8BACrB6G,MAAO3C,YAEFwC,KACG,QACA,oIACA,SAAAhD,GAAK,MAAI,0DAAyDgD,KAAKhD,KAE1E6C,SAASzO,IAAKkI,EAAE,4BACrBtD,KAAMwH,YAEDqC,SAASzO,IAAKkI,EAAE,qBACrB8G,SAAU5C,YAELI,MAAMxM,IAAKkI,EAAE,0BACbuG,SAASzO,IAAKkI,EAAE,0BACrB+G,YAAa7C,YAERwC,KACG,cACA,oIACA,SAAAhD,GAAK,MAAI,0DAAyDgD,KAAKhD,KAE1E6C,SAASzO,IAAKkI,EAAE,+uCCrCzC,IAAMgH,GAA2BxO,IAAOyO,QAAVC,KA4BV,SAACtO,GAAD,OAAgBA,EAAMuH,QAAQc,MAAQ,QAAU,QAU7C,SAACrI,GAAD,OAAgBA,EAAMuH,QAAQc,MAAQ,IAAM,QAC3C,SAACrI,GAAD,OAAgBA,EAAMuH,QAAQc,MAAQ,OAAS,MAGjEkG,GAAmB3O,IAAOC,IAAV2O,KACT,SAACxO,GAAD,OAAgBA,EAAMyO,iBAAmB,MAAQ,KAC9C,SAACzO,GAAD,OAAgBA,EAAMuH,QAAQc,MAAQ,QAAU,SAE1DqG,GAAW9O,IAAO+O,GAAVC,KAEI,SAAAxG,GAAA,OAAAA,EAAEb,QAA0BsH,YAUxCC,GAFL5M,YAAO,gBAAiB,gBAAiB,UAAW,UACpDC,4BAOG,SAAA2M,EAAY9O,GAAY,IAAAqE,EAAA,OAAAY,OAAA8J,EAAA,EAAA9J,CAAAhC,KAAA6L,GACpBzK,EAAAY,OAAA+J,EAAA,EAAA/J,CAAAhC,KAAAgC,OAAAgK,EAAA,EAAAhK,CAAA6J,GAAAI,KAAAjM,KAAMjD,IADciF,OAAAkK,EAAA,EAAAlK,CAAAZ,EAAA,UAAA+K,GAAAnK,OAAAoK,EAAA,EAAApK,CAAAZ,IAAAY,OAAAkK,EAAA,EAAAlK,CAAAZ,EAAA,cAAAiL,GAAArK,OAAAoK,EAAA,EAAApK,CAAAZ,MAQxBkL,SARwB,eAAAjH,EAAArD,OAAAuK,EAAA,EAAAvK,CAAAiB,EAAAhG,EAAAuP,KAQb,SAAAzJ,EAAO0J,EAAe5E,EAAY6E,GAAlC,OAAAzJ,EAAAhG,EAAAiG,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OACPjC,EAAKuL,SAAL3K,OAAA4K,GAAA,EAAA5K,CAAA,GAAgByK,EAAQ5E,IACxB6E,EAAgBD,GAAO,GAAM,GAFtB,wBAAAtJ,EAAAW,SAAAf,MARa,gBAAA8J,EAAAC,EAAAC,GAAA,OAAA1H,EAAA2H,MAAAhN,KAAAiN,YAAA,GAAA7L,EAaxB8L,kBAAoBC,oBAAS/L,EAAKkL,SAAU,KAbpBlL,EAexBgJ,SAfwB,eAAA3E,EAAAzD,OAAAuK,EAAA,EAAAvK,CAAAiB,EAAAhG,EAAAuP,KAeb,SAAAY,EAAO/C,EAAYgD,EAAoBX,GAAvC,IAAAS,EAAAG,EAAA1C,EAAA/C,EAAA0F,EAAAN,UAAA,OAAAhK,EAAAhG,EAAAiG,KAAA,SAAAsK,GAAA,cAAAA,EAAApK,KAAAoK,EAAAnK,MAAA,OAA6D8J,IAA7DI,EAAAE,OAAA,QAAAC,IAAAH,EAAA,KAAAA,EAAA,GAAAD,EACajD,EAAMC,OAArBM,EADE0C,EACF1C,KAEL/C,GAFWA,EADJyF,EACIzF,OAEG8F,MAAM,KAAKrM,IAAIsM,SAASC,UAAU5B,KAAM6B,OAAOD,UAAUE,MAEvEV,EAAczC,EAAM/C,GAEhBsF,IACA9C,EAAM2D,UACN5M,EAAK8L,kBAAkBtC,EAAM/C,EAAO6E,IATjC,wBAAAc,EAAA1J,SAAAsJ,MAfa,gBAAAa,EAAAC,EAAAC,GAAA,OAAA1I,EAAAuH,MAAAhN,KAAAiN,YAAA,GAAA7L,EA4BxBsL,gBAAkB,SAACrC,EAAYqC,GAE3BA,EADerC,EAAMC,OAAdM,MACe,GAAM,IA9BR5I,OAAAkK,EAAA,EAAAlK,CAAAZ,EAAA,WAAAgN,GAAApM,OAAAoK,EAAA,EAAApK,CAAAZ,MAwDxBiN,KAxDwBrM,OAAAuK,EAAA,EAAAvK,CAAAiB,EAAAhG,EAAAuP,KAwDjB,SAAA8B,IAAA,IAAAC,EAAAC,EAAAC,EAAA,OAAAxL,EAAAhG,EAAAiG,KAAA,SAAAwL,GAAA,cAAAA,EAAAtL,KAAAsL,EAAArL,MAAA,cAAAqL,EAAAtL,KAAA,EAAAsL,EAAArL,KAAA,EAEwBjC,EAAKrE,MAAMwG,cAAcC,SAAS6K,OAF1D,OAEOE,EAFPG,EAAA9G,KAICxG,EAAK4H,cAEDuF,EAASrM,KAAKyM,OACRH,EAAWpN,EAAKrE,MAAM0G,gBAAgB8K,EAASrM,KAAKyM,MAAO,CAACjL,QAAS,UAC3EC,WAAW,kBAAMvC,EAAKrE,MAAM6G,cAAc4K,IAAW,OAE/CC,EAAsBrN,EAAKrE,MAAM0G,gBAAgB,+CAAgD,CAACC,QAAS,YACjHC,WAAW,kBAAMvC,EAAKrE,MAAM6G,cAAc6K,IAAsB,OAXrEC,EAAArL,KAAA,gBAAAqL,EAAAtL,KAAA,EAAAsL,EAAA7K,GAAA6K,EAAA,SAcCE,QAAQC,IAARH,EAAA7K,IAdD,yBAAA6K,EAAA5K,SAAAwK,EAAA,iBAxDiBlN,EA0ExB4H,YAAc,WACV5H,EAAK2H,aAAc,GA3EC3H,EA8ExB0N,WAAa,WACT1N,EAAK2H,aAAc,GA/EC3H,EAkFxB2N,YAAc,WACV,IAAMC,EAAc,GAcpB,OAb0BxE,KAAkByE,YAAlBjN,OAAAC,EAAA,EAAAD,CAAA,GACnBZ,EAAKrE,MAAMwG,cAAcC,SAAS0L,OADf,CAEtBvE,WAAYvJ,EAAKrE,MAAMwG,cAAcC,SAAS/C,SAAWW,EAAKrE,MAAMwG,cAAcC,SAAS/C,SAAS0B,GAAK,QAIzG6M,EAAOG,mBAAoB,GAG1B/N,EAAKrE,MAAMqS,IAAIC,gBAAgBC,aAA8D,KAA/ClO,EAAKrE,MAAMqS,IAAIC,gBAAgBC,cAC9EN,EAAOO,mBAAoB,GAGxBP,GAjGa5N,EAqGxBoO,eAAiB,SAACnF,GACdjJ,EAAKrE,MAAMuH,QAAQ6B,QAAQ,GAC3BkE,EAAMoF,kBApGNrO,EAAKsO,MAAQ,CACTnH,OAAQ,IAJQnH,wEA0GoJ,IAAA2G,EAAA/H,KAAA2P,EASpK3P,KAAKjD,MALLwG,GAJoKoM,EAGpKC,cAHoKD,EAIpKpM,eACAe,EALoKqL,EAKpKrL,QAGGuL,GARiKF,EAMpKP,IANoKO,EAOpKjK,KAPoK1D,OAAA8D,GAAA,EAAA9D,CAAA2N,EAAA,2DAWlKnE,EAA0E,qBAA/CjI,EAAcC,SAASsM,qBAAsF,KAA/CvM,EAAcC,SAASsM,qBAA6E,OAA/CvM,EAAcC,SAASsM,oBACrKC,EAAwB,CAACvE,mBAAiBlH,WAC1CyK,EAAc/O,KAAK+O,cACnBiB,IAAoBhO,OAAOiO,QAAQlB,GAAatB,OAChDyC,EAAiBlO,OAAOiO,QAAQlB,GAAatB,OAC/CzQ,EAAAC,EAAAC,cAACuO,GAAazL,KAAKjD,MACdgS,EAAYI,kBACTnS,EAAAC,EAAAC,cAAA,UAAKjB,IAAKkI,EAAE,+CAAZ,IAA4DnH,EAAAC,EAAAC,cAAA,KAAGiT,KAAK,KACL9S,QAAS2C,KAAKwP,gBACxEvT,IAAKkI,EAAE,YAAgBlI,IAAKkI,EAAE,iBAFnC,KAE6D,KAChE4K,EAAYQ,kBACTvS,EAAAC,EAAAC,cAAA,UAAKjB,IAAKkI,EAAE,qDAAZ,IAAkEnH,EAAAC,EAAAC,cAAA,KAC9DiT,KAAK,2EAA2E7F,OAAO,UACtFrO,IAAKkI,EAAE,YAFZ,IAE6BlI,IAAKkI,EAAE,6BAAoC,MAEhF,KAGJ,OACInH,EAAAC,EAAAC,cAACY,EAADkE,OAAA+D,OAAA,GAA0B8J,EAA1B,CAAsCxL,IAAKrE,KAAKjD,MAAMuH,QAAQD,MAC1DrH,EAAAC,EAAAC,cAACgB,EAAD,KACQlB,EAAAC,EAAAC,cAACiO,GAADnJ,OAAA+D,OAAA,GAA8B/F,KAAKjD,MAAnC,CAA0CwD,MAAO,CAAC6P,WAAY,YAC1DpT,EAAAC,EAAAC,cAAA,UAAK8S,EAAkB/T,IAAKkI,EAAE,WAAalI,IAAKkI,EAAE,mBAAlD,KACAnH,EAAAC,EAAAC,cAAA,UAAK8S,EAAkB/T,IAAKkI,EAAE,wDAA0DlI,IAAKkI,EAAE,wCAC/FnH,EAAAC,EAAAC,cAAA,QAAMqD,MAAO,CAAC8P,QAAS,SAClBrQ,KAAKsD,SAGT4M,EAEDlT,EAAAC,EAAAC,cAACoT,GAAA,EAAD,CACIC,cAAevQ,KAAK0P,MACpBc,iBAAkBpI,GAClBqI,kBAAkB,EAClBC,oBAAoB,EACpBC,SAAU,SAACC,EAADC,GAA6BA,EAAnBC,gBAGnB,SAAAC,GAAA,IACK/B,EADL+B,EACK/B,OACAgC,EAFLD,EAEKC,QACAJ,EAHLG,EAGKH,OACAvD,EAJL0D,EAIK1D,cACAX,EALLqE,EAKKrE,gBALL,OAOG1P,EAAAC,EAAAC,cAAA,QAAMqD,MAAO,CAACqL,UAAW,SACrB5O,EAAAC,EAAAC,cAAA,OAAKqD,MAAO,CACR8P,QAAS,OACTY,aAAc,oBACdC,cAAe,SAEflU,EAAAC,EAAAC,cAAC+M,GAAA,EAAD,CACI1J,MAAO,CAAC4Q,KAAM,GACd1M,SAAUsD,EAAKzE,SAAW0M,EAC1BoB,MAAOnV,IAAKkI,EAAE,oBACd+F,WAAS,EACTC,OAAO,SACPzG,QAAQ,WACRkH,KAAK,SACLyG,WAAYL,EAAQzI,QAAUyG,EAAOzG,OAAStM,IAAKkI,EAAE,yBAA2BlI,IAAKkI,EAAE,2DACvFwK,MAAOqC,EAAQzI,QAAUyG,EAAOzG,UAAYyG,EAAOzG,OACnDV,MAAO+I,EAAOrI,OAAO+I,KAAK,KAC1BlH,SAAU,SAACC,GAAD,OAAgBtC,EAAKqC,SAASC,EAAOgD,EAAeX,IAC9D6E,OAAQ,SAAClH,GAAD,OAAgBtC,EAAK2E,gBAAgBrC,EAAOqC,MAExD1P,EAAAC,EAAAC,cAACqH,GAAA,EAAD,CACIb,QAAQ,YACRc,MAAM,UACNgN,KAAK,SACL/M,SAAUsD,EAAKzE,SAA8C,IAAnCtB,OAAOiO,QAAQe,GAASvD,QAAiBzL,OAAOiO,QAAQe,GAASvD,OAAS,GAAKzL,OAAOiO,QAAQjB,GAAQvB,OAAS,EACzIpQ,QAAS,kBAAM0K,EAAK0J,SAAS1J,EAAK2H,MAAMnH,UACvCR,EAAKzE,SACFtG,EAAAC,EAAAC,cAAA,OACIwH,IAAI,UACJC,IAAiF,2FACjFC,MAAM,OACNC,OAAO,OAAOtE,MAAO,CAACuE,YAAa,MAC1CiD,EAAKzE,QAAUrH,IAAKkI,EAAE,eAAiBlI,IAAKkI,EAAE,cAIvDnH,EAAAC,EAAAC,cAACoO,GAAqByE,EAClB/S,EAAAC,EAAAC,cAAA,MAAIqD,MAAO,CAACmR,aAAc,IACrBzV,IAAKkI,EAAE,sDADZ,KAGAnH,EAAAC,EAAAC,cAACqH,GAAA,EAAD,CAAQb,QAAQ,YACRc,MAAM,UACNC,SAAU+G,EACVnO,QAAS0K,EAAK+G,YAEjB7S,IAAKkI,EAAE,sBAQhCnH,EAAAC,EAAAC,cAACyU,GAAD,CACI3I,YAAahJ,KAAKgJ,YAClBD,YAAa/I,KAAK+I,YAClBE,OAAQjJ,KAAKqO,gBAhOnBjM,IAAMC,kDAEvB0C,+EAA8B,gDAE9BA,+EAAkC,6CAmClCkE,gIAAkB,SAAA2I,EAAOrJ,GAAP,IAAAgG,EAAAE,EAAAD,EAAA,OAAAvL,EAAAhG,EAAAiG,KAAA,SAAA2O,GAAA,cAAAA,EAAAzO,KAAAyO,EAAAxO,MAAA,cACfyO,EAAKxO,SAAU,EADAuO,EAAAzO,KAAA,EAAAyO,EAAAxO,KAAA,EAIYyO,EAAK/U,MAAMwG,cAAcC,SAASiO,SAASlJ,GAJvD,QAILgG,EAJKsD,EAAAjK,MAME1F,KAAK6P,mBACRtD,EAAsBqD,EAAK/U,MAAM0G,gBAAgB,uDAAwD,CAACC,QAAS,YACzHC,WAAW,kBAAMmO,EAAK/U,MAAM6G,cAAc6K,IAAsB,QAE1DD,EAAWsD,EAAK/U,MAAM0G,gBAAgB8K,EAASrM,KAAK8P,mBAAmBC,OAAQ,CAACvO,QAAS,UAC/FC,WAAW,kBAAMmO,EAAK/U,MAAM6G,cAAc4K,IAAW,MAGzDsD,EAAK/U,MAAMwG,cAAcC,SAAS0O,eAAe3D,EAASrM,KAAKsB,UAdpDqO,EAAAxO,KAAA,gBAAAwO,EAAAzO,KAAA,EAAAyO,EAAAhO,GAAAgO,EAAA,SAiBXjD,QAAQC,IAARgD,EAAAhO,IAjBW,QAoBfiO,EAAKxO,SAAU,EApBA,yBAAAuO,EAAA/N,SAAA8N,EAAA,2FAiMR5M,2BAAa6G,gWChT5B,gBAAMsG,GAAexV,IAAOC,IAAVwV,MA0BHC,GAZA,SAAAlN,GACX,OAD4BA,EAAfmN,KAETtV,EAAAC,EAAAC,cAACiV,GAAD,KAEInV,EAAAC,EAAAC,cAAA,OAAKC,UAAU,UACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,UACfH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WACfH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YANZ,m2BCInB,OAAMoV,GAAkC5V,YAAOuB,EAAPvB,CAAH6V,KA0BjB,SAACzV,GAAD,OAAgBA,EAAMuH,QAAQc,MAAQ,QAAU,SAW9DqG,GAAW9O,IAAO+O,GAAV+G,MAMRC,GAAe,SAAAvN,GAAuD,IAArDwN,EAAqDxN,EAArDwN,MAAO9K,EAA8C1C,EAA9C0C,MAAOuC,EAAuCjF,EAAvCiF,SAAUuE,EAA6BxJ,EAA7BwJ,MAAOyC,EAAsBjM,EAAtBiM,MAAOxG,EAAezF,EAAfyF,KAGnDgI,EAAYD,EAAMrR,IAAI,SAACuR,EAAWrR,GACpC,OACIxE,EAAAC,EAAAC,cAAC4V,GAAA,EAAD,CAAUjL,MAAOgL,EAAK1Q,IAAMX,EAClBE,IAAKmR,EAAKnR,KAAOmR,EAAK1Q,IAAK0Q,EAAK3O,aAAe2O,EAAKjI,MAAQiI,EAAK7H,SAqBnF,OAhBAnD,EAAyB,qBAAVA,EAAwBA,EAAQ,GAE/C+K,EAAUG,OAAO,EAAG,EAChB/V,EAAAC,EAAAC,cAAC4V,GAAA,EAAD,CAAUjL,MAAM,GAAGnG,IAAKsR,KAAKC,UACzBjW,EAAAC,EAAAC,cAAA,oBAaJF,EAAAC,EAAAC,cAACgW,GAAA,EAAD,CAAaxP,QAAQ,WAAWwG,WAAS,GACrClN,EAAAC,EAAAC,cAACiW,GAAA,EAAD,CAAYC,QAASxI,GAChBwG,GAELpU,EAAAC,EAAAC,cAACmW,GAAA,EAAD,CACI1E,MAAwB,qBAAVA,EACd9G,MAAOA,EACPuC,SAAUA,EACVkJ,MACItW,EAAAC,EAAAC,cAACqW,GAAA,EAAD,CACIC,WAAY,GACZ5I,KAAMA,EACNzI,GAAIyI,KAGXgI,KAeXa,GAFLxU,YAAO,gBAAiB,gBAAiB,cACzCC,+BAKG,SAAAuU,EAAY1W,GAAY,IAAAqE,EAAA,OAAAY,OAAA8J,EAAA,EAAA9J,CAAAhC,KAAAyT,IACpBrS,EAAAY,OAAA+J,EAAA,EAAA/J,CAAAhC,KAAAgC,OAAAgK,EAAA,EAAAhK,CAAAyR,GAAAxH,KAAAjM,KAAMjD,KAQVuP,SATwB,eAAAjH,EAAArD,OAAAuK,EAAA,EAAAvK,CAAAiB,EAAAhG,EAAAuP,KASb,SAAAzJ,EAAO0J,EAAe5E,EAAY6E,GAAlC,OAAAzJ,EAAAhG,EAAAiG,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAWPqJ,EAAgBD,GAAO,GAAM,GAXtB,wBAAAtJ,EAAAW,SAAAf,MATa,gBAAA8J,EAAAC,EAAAC,GAAA,OAAA1H,EAAA2H,MAAAhN,KAAAiN,YAAA,GAAA7L,EAuBxB8L,kBAAoBC,oBAAS/L,EAAKkL,SAAU,KAvBpBlL,EAyBxBgJ,SAzBwB,eAAA3E,EAAAzD,OAAAuK,EAAA,EAAAvK,CAAAiB,EAAAhG,EAAAuP,KAyBb,SAAAY,EAAO/C,EAAYgD,EAAoBX,GAAvC,IAAAS,EAAAG,EAAA1C,EAAA/C,EAAA0F,EAAAN,UAAA,OAAAhK,EAAAhG,EAAAiG,KAAA,SAAAsK,GAAA,cAAAA,EAAApK,KAAAoK,EAAAnK,MAAA,OAA6D8J,IAA7DI,EAAAE,OAAA,QAAAC,IAAAH,EAAA,KAAAA,EAAA,GAAAD,EACejD,EAAMC,OAArBM,EADA0C,EACA1C,KAAM/C,EADNyF,EACMzF,MAEbwF,EAAczC,EAAM/C,GAEhBsF,GACA9C,EAAM2D,UACN5M,EAAK8L,kBAAkBtC,EAAM/C,EAAO6E,IAEpCtL,EAAKkL,SAAS1B,EAAM/C,EAAO6E,GATxB,wBAAAc,EAAA1J,SAAAsJ,MAzBa,gBAAAa,EAAAC,EAAAC,GAAA,OAAA1I,EAAAuH,MAAAhN,KAAAiN,YAAA,GAAA7L,EAsCxBsL,gBAAkB,SAACrC,EAAYqC,GAE3BA,EADerC,EAAMC,OAAdM,MACe,GAAM,IAxCRxJ,EA2CxBuP,SA3CwB,eAAAE,EAAA7O,OAAAuK,EAAA,EAAAvK,CAAAiB,EAAAhG,EAAAuP,KA2Cb,SAAA8B,EAAOsC,EAAP/K,GAAA,IAAAiL,EAAA4C,EAAAlQ,EAAAmH,EAAA,OAAA1H,EAAAhG,EAAAiG,KAAA,SAAAwL,GAAA,cAAAA,EAAAtL,KAAAsL,EAAArL,MAAA,cAAkCyN,EAAlCjL,EAAkCiL,cAAe4C,EAAjD7N,EAAiD6N,UAClDlQ,EAAWpC,EAAKrE,MAAMwG,cAAcC,SACpCmH,EAAuD,KAAtBiG,EAAOjG,gBAAoB+C,EAAYiG,OAAO/C,EAAOjG,YAE5FnH,EAASoQ,YAAYjJ,GACrBnH,EAASiH,gBAAkBmG,EAAOnG,gBAClCjH,EAASoH,KAAOgG,EAAOhG,KACvBpH,EAASsH,kBAAoB8F,EAAO9F,kBAP7B4D,EAAAtL,KAAA,EAAAsL,EAAArL,KAAA,GASGjC,EAAK0B,OATR,QAAA4L,EAAArL,KAAA,iBAAAqL,EAAAtL,KAAA,GAAAsL,EAAA7K,GAAA6K,EAAA,iBAaPoC,GAAc,GACd4C,IAdO,yBAAAhF,EAAA5K,SAAAwK,EAAA,kBA3Ca,gBAAAuF,EAAAC,GAAA,OAAAjD,EAAA7D,MAAAhN,KAAAiN,YAAA,GAAA7L,EA4DxB0B,KA5DwBd,OAAAuK,EAAA,EAAAvK,CAAAiB,EAAAhG,EAAAuP,KA4DjB,SAAAoF,IAAA,IAAApO,EAAA9B,EAAA8M,EAAA,OAAAvL,EAAAhG,EAAAiG,KAAA,SAAA2O,GAAA,cAAAA,EAAAzO,KAAAyO,EAAAxO,MAAA,cACGG,EAAWpC,EAAKrE,MAAMwG,cAAcC,SAE1CpC,EAAKuL,SAAS,CAACrJ,SAAS,IAHrBuO,EAAAzO,KAAA,EAAAyO,EAAAzO,KAAA,EAAAyO,EAAAxO,KAAA,EAMWG,EAASV,OANpB,OAAA+O,EAAAxO,KAAA,gBAAAwO,EAAAzO,KAAA,EAAAyO,EAAAhO,GAAAgO,EAAA,iBAUOnQ,EAAMN,EAAKrE,MAAM0G,gBAAgB,sBAAuB,CAACC,QAAS,YAExEC,WAAW,kBAAMvC,EAAKrE,MAAM6G,cAAclC,IAAM,MAZjDmQ,EAAAxO,KAAA,iBAAAwO,EAAAzO,KAAA,GAAAyO,EAAAkC,GAAAlC,EAAA,SAcOrD,EAAWpN,EAAKrE,MAAM0G,gBAAgB,mDAAoD,CAACC,QAAS,UAE1GC,WAAW,kBAAMvC,EAAKrE,MAAM6G,cAAc4K,IAAW,KAhBtD,eAkBHpN,EAAKuL,SAAS,CAACrJ,SAAS,IAlBrBuO,EAAAlK,OAAA,mCAAAkK,EAAA/N,SAAA8N,EAAA,wBA5DiBxQ,EAmFxB4S,iBAAmB,SAAC7R,EAAiBuK,EAAsBW,GACvDA,EAAc,aAAclL,GAC5BuK,EAAgB,cAAc,GAAM,IArFhBtL,EAwFxB6S,sBAAwB,SAAC9R,EAAiBuK,EAAsBW,GAC5DA,EAAc,kBAAmBlL,GACjCuK,EAAgB,mBAAmB,GAAM,IAvFzCtL,EAAKsO,MAAQ,CACTpM,SAAS,EACT4Q,mBAAmB,GALH9S,wEAyGoJ,IAAA2G,EAAA/H,KAAA2P,EAIpK3P,KAAKjD,MAFLwG,EAFoKoM,EAEpKpM,cACAqM,EAHoKD,EAGpKC,cAGJ,OACI5S,EAAAC,EAAAC,cAACY,EAADkE,OAAA+D,OAAA,GAA0B/F,KAAKjD,MAA/B,CAAsCsH,IAAKrE,KAAKjD,MAAMuH,QAAQD,MAC1DrH,EAAAC,EAAAC,cAACiX,GAAD,CAAQ7B,KAAM/O,EAAc6Q,cAC5BpX,EAAAC,EAAAC,cAACqV,GAAqCvS,KAAKjD,MACvCC,EAAAC,EAAAC,cAAA,UAAKjB,IAAKkI,EAAE,2BACZnH,EAAAC,EAAAC,cAAA,UAAKjB,IAAKkI,EAAE,kCAAZ,KAEAnH,EAAAC,EAAAC,cAAA,QAAMqD,MAAO,CAAC8P,QAAS,SACVrQ,KAAK0P,MAAMpM,QAAU,UAAY,KACzC+Q,KAAKC,UAAU/Q,EAAcgR,iBAGlCvX,EAAAC,EAAAC,cAACoT,GAAA,EAAD,CACIC,cAAevQ,KAAKuQ,cACpBC,iBAAkBhG,KAClBiG,kBAAkB,EAClBC,oBAAoB,EACpBC,SAAU3Q,KAAK2Q,UAEd,SAAA6D,GASY,IARPC,EAQOD,EARPC,MACAC,EAOOF,EAPPE,QACA1F,EAMOwF,EANPxF,OACAgC,EAKOwD,EALPxD,QACAJ,EAIO4D,EAJP5D,OACAvD,EAGOmH,EAHPnH,cACAX,EAEO8H,EAFP9H,gBACAiI,EACOH,EADPG,aAEF,OACI3X,EAAAC,EAAAC,cAAA,QAAMyT,SAAUgE,GAEJ3X,EAAAC,EAAAC,cAAA,QAAMqD,MAAO,CAAC8P,QAAS,SAChBgE,KAAKC,UAAUtF,EAAOrE,YACxB0J,KAAKC,UAAUtF,EAAOvE,iBACtB4J,KAAKC,UAAU,CAACI,aAE7B1X,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAC0X,GAAD,KACI5X,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,UACKjB,IAAKkI,EAAE,qBAEZnH,EAAAC,EAAAC,cAAC2X,GAAD,CACIzD,MAAOnV,IAAKkI,EAAE,YACdwO,MAAO/C,EAAckF,UACrBjN,MAAO+I,EAAOjG,WACdgE,MAAOK,EAAOrE,WACdC,KAAM,aACNR,SAAU,SAAChN,GAAD,OAAmB2K,EAAKiM,iBAAiB5W,EAASkN,OAAOzC,MAAO6E,EAAiBW,MAE/FrQ,EAAAC,EAAAC,cAAA,OAAKqD,MAAO,CACR4J,OAAQ,aACR3F,MAAO,WACPuQ,SAAU,YACV/F,EAAOrE,YACX3N,EAAAC,EAAAC,cAAC+M,GAAA,EAAD,CACImH,MAAOnV,IAAKkI,EAAE,iBACd+F,WAAS,EACTC,OAAO,SACPzG,QAAQ,WACR2N,WAAYL,EAAQpG,MAAQoE,EAAOpE,MAAQoE,EAAOpE,KAClD+D,MAAOqC,EAAQpG,MAAQoE,EAAOpE,QAAUoE,EAAOpE,KAC/C/C,MAAO+I,EAAOhG,KACdR,SAAU,SAACC,GAAD,OAAgBtC,EAAKqC,SAASC,EAAOgD,EAAeX,IAC9D6E,OAAQ,SAAClH,GAAD,OAAgBtC,EAAK2E,gBAAgBrC,EAAOqC,IACpD9B,KAAK,OACLnD,KAAK,UAGbzK,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,UACKjB,IAAKkI,EAAE,qBAEZnH,EAAAC,EAAAC,cAAC2X,GAAD,CACIzD,MAAOnV,IAAKkI,EAAE,kBACdwO,MAAOpP,EAAcgR,eACrB1M,MAAO+I,EAAOnG,gBACdkE,MAAOqC,EAAQvG,iBAAmBuE,EAAOvE,gBACzCG,KAAM,kBACNR,SAAU,SAAChN,GAAD,OAAmB2K,EAAKkM,sBAAsB7W,EAASkN,OAAOzC,MAAO6E,EAAiBW,MAEpGrQ,EAAAC,EAAAC,cAAA,OAAKqD,MAAO,CACR4J,OAAQ,aACR3F,MAAO,WACPuQ,SAAU,YACV/D,EAAQvG,iBAAmBuE,EAAOvE,iBACtCzN,EAAAC,EAAAC,cAAC+M,GAAA,EAAD,CACImH,MAAOnV,IAAKkI,EAAE,gBACd+F,WAAS,EACTC,OAAO,SACPzG,QAAQ,WACR2N,WAAYL,EAAQlG,mBAAqBkG,EAAQlG,kBAAkBC,SAAWiE,EAAOlE,mBAAqBkE,EAAOlE,kBAAkBC,QACnI4D,MAAOqC,EAAQlG,mBAAqBkG,EAAQlG,kBAAkBC,SAAWiE,EAAOlE,qBAAuBkE,EAAOlE,kBAAkBC,QAChIlD,MAAO+I,EAAO9F,kBAAkBC,QAChCX,SAAU,SAACC,GAAD,OAAgBtC,EAAKqC,SAASC,EAAOgD,EAAeX,IAC9D6E,OAAQ,SAAClH,GAAD,OAAgBtC,EAAK2E,gBAAgBrC,EAAOqC,IACpD9B,KAAK,4BACLnD,KAAK,SAETzK,EAAAC,EAAAC,cAAC+M,GAAA,EAAD,CACImH,MAAOnV,IAAKkI,EAAE,SACd+F,WAAS,EACTC,OAAO,SACPzG,QAAQ,WACR2N,WAAYL,EAAQlG,mBAAqBkG,EAAQlG,kBAAkBE,OAASgE,EAAOlE,mBAAqBkE,EAAOlE,kBAAkBE,MACjI2D,MAAOqC,EAAQlG,mBAAqBkG,EAAQlG,kBAAkBE,OAASgE,EAAOlE,qBAAuBkE,EAAOlE,kBAAkBE,MAC9HnD,MAAO+I,EAAO9F,kBAAkBE,MAChCZ,SAAU,SAACC,GAAD,OAAgBtC,EAAKqC,SAASC,EAAOgD,EAAeX,IAC9D6E,OAAQ,SAAClH,GAAD,OAAgBtC,EAAK2E,gBAAgBrC,EAAOqC,IACpD9B,KAAK,0BACLnD,KAAK,SAETzK,EAAAC,EAAAC,cAAC+M,GAAA,EAAD,CACImH,MAAOnV,IAAKkI,EAAE,gBACd+F,WAAS,EACTC,OAAO,SACPzG,QAAQ,WACR2N,WAAYL,EAAQlG,mBAAqBkG,EAAQlG,kBAAkBI,aAAe8D,EAAOlE,mBAAqBkE,EAAOlE,kBAAkBI,YACvIyD,MAAOqC,EAAQlG,mBAAqBkG,EAAQlG,kBAAkBI,aAAe8D,EAAOlE,qBAAuBkE,EAAOlE,kBAAkBI,YACpIrD,MAAO+I,EAAO9F,kBAAkBI,YAChCd,SAAU,SAACC,GAAD,OAAgBtC,EAAKqC,SAASC,EAAOgD,EAAeX,IAC9D6E,OAAQ,SAAClH,GAAD,OAAgBtC,EAAK2E,gBAAgBrC,EAAOqC,IACpD9B,KAAK,gCACLnD,KAAK,SAETzK,EAAAC,EAAAC,cAAC+M,GAAA,EAAD,CACImH,MAAOnV,IAAKkI,EAAE,QACd+F,WAAS,EACTC,OAAO,SACPzG,QAAQ,WACR2N,WAAYL,EAAQlG,mBAAqBkG,EAAQlG,kBAAkBjK,MAAQmO,EAAOlE,mBAAqBkE,EAAOlE,kBAAkBjK,KAChI8N,MAAOqC,EAAQlG,mBAAqBkG,EAAQlG,kBAAkBjK,MAAQmO,EAAOlE,qBAAuBkE,EAAOlE,kBAAkBjK,KAC7HgH,MAAO+I,EAAO9F,kBAAkBjK,KAChCuJ,SAAU,SAACC,GAAD,OAAgBtC,EAAKqC,SAASC,EAAOgD,EAAeX,IAC9D6E,OAAQ,SAAClH,GAAD,OAAgBtC,EAAK2E,gBAAgBrC,EAAOqC,IACpD9B,KAAK,yBACLnD,KAAK,SAETzK,EAAAC,EAAAC,cAAC+M,GAAA,EAAD,CACImH,MAAOnV,IAAKkI,EAAE,aACd+F,WAAS,EACTC,OAAO,SACPzG,QAAQ,WACR2N,WAAYL,EAAQlG,mBAAqBkG,EAAQlG,kBAAkBG,UAAY+D,EAAOlE,mBAAqBkE,EAAOlE,kBAAkBG,SACpI0D,MAAOqC,EAAQlG,mBAAqBkG,EAAQlG,kBAAkBG,UAAY+D,EAAOlE,qBAAuBkE,EAAOlE,kBAAkBG,SACjIpD,MAAO+I,EAAO9F,kBAAkBG,SAChCb,SAAU,SAACC,GAAD,OAAgBtC,EAAKqC,SAASC,EAAOgD,EAAeX,IAC9D6E,OAAQ,SAAClH,GAAD,OAAgBtC,EAAK2E,gBAAgBrC,EAAOqC,IACpD9B,KAAK,6BACLnD,KAAK,WAQjBzK,EAAAC,EAAAC,cAACqH,GAAA,EAAD,CAAQb,QAAQ,YACRc,MAAM,UACNgN,KAAK,QACL/J,KAAK,SACLhD,SAAUsD,EAAK2H,MAAMpM,UAAYmR,IAAUC,GAE9C3M,EAAK2H,MAAMpM,SACRtG,EAAAC,EAAAC,cAAA,OACIwH,IAAI,UACJC,IAAqF,2FACrFC,MAAM,OACNC,OAAO,OAAOtE,MAAO,CAACuE,YAAa,MAC1CiD,EAAK2H,MAAMpM,QAAUrH,IAAKkI,EAAE,WAAalI,IAAKkI,EAAE,2DA1LjF,IAAMX,EAAWxD,KAAKjD,MAAMwG,cAAcC,SAE1C,MAAO,CACHiH,gBAAiBjH,EAAS0L,OAAOzE,gBAAkBjH,EAAS0L,OAAOzE,gBAAkB,GACrFG,KAAMpH,EAAS0L,OAAOtE,KACtBE,kBAAmBtH,EAAS0L,OAAOpE,kBACnCH,WAAYnH,EAAS0L,OAAOzO,SAAW+C,EAAS0L,OAAOzO,SAAS0B,GAAK,WAzGpDC,IAAMC,cAExBC,iBAAkB,kDA+FxB0S,mGAwMUhQ,2BAAayO,wBCrXZwB,GAhCfhW,YAAO,gBAAiB,cACxBC,gMAGO,OACIlC,EAAAC,EAAAC,cAACgY,GAAA,EAAD,CAAgBC,IAAKnV,KAAKjD,MAAMuH,QAAQ6Q,KACpCnY,EAAAC,EAAAC,cAACkY,GAAA,EAAD,CAAeC,MAAOrV,KAAKjD,MAAMuH,QAAQ+Q,OACrCrY,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACXH,EAAAC,EAAAC,cAACoY,GAAD,CAAgB5P,KAAM,GAClB1I,EAAAC,EAAAC,cAACqY,GAAD,OAGJvY,EAAAC,EAAAC,cAACoY,GAAD,CAAgB5P,KAAM,GAClB1I,EAAAC,EAAAC,cAACsY,GAAD,KACIxY,EAAAC,EAAAC,cAACuY,GAAD,MACAzY,EAAAC,EAAAC,cAACwY,EAAD,QAIR1Y,EAAAC,EAAAC,cAACoY,GAAD,CAAgB5P,KAAM,GAClB1I,EAAAC,EAAAC,cAACyY,GAAD,OAGJ3Y,EAAAC,EAAAC,cAAC0Y,GAAD,CAASzP,QAASnG,KAAKjD,MAAMuH,QAAQ6B,oBArB3C9D,uBCLEwT,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,gMC6DSC,kBAxCX,SAAAA,EAAY9G,GAAepN,OAAA8J,EAAA,EAAA9J,CAAAhC,KAAAkW,GAAAlW,KA7B3BoP,SA6B0B,EAAApP,KA5B1BmW,QAAeC,aAAO,CAACC,QAAQrU,OAAAsU,GAAA,EAAAtU,CAAKuU,eAAYF,WA4BtBrW,KA3B1BwW,QAAeJ,aAAO,CAACC,QAAO,GAAAnQ,OAAAlE,OAAAsU,GAAA,EAAAtU,CAAMuU,eAAYF,SAAlB,CAA2BI,WA2B/BzW,KAzB1B0W,UAAiBC,aAAe,CAC5BC,UAAW,MACXC,QAAS,CACLC,QAAS,CACLC,KAAM,UACNC,aAAc,YAoBAhX,KAf1BiX,UAAiBN,aAAe,CAC5BE,QAAS,CACLC,QAAS,CACLC,KAAM,UACNC,aAAc,YAWAhV,OAAAkK,EAAA,EAAAlK,CAAAhC,KAAA,SAAAkX,GAAAlX,MAAAgC,OAAAkK,EAAA,EAAAlK,CAAAhC,KAAA,eAAAmX,GAAAnX,MAAAgC,OAAAkK,EAAA,EAAAlK,CAAAhC,KAAA,qBAAAoX,GAAApX,MAAAgC,OAAAkK,EAAA,EAAAlK,CAAAhC,KAAA,YAAAqX,GAAArX,MAAAgC,OAAAkK,EAAA,EAAAlK,CAAAhC,KAAA,UAAAsX,GAAAtX,MACtBA,KAAKoP,IAAMA,EACXpP,KAAKuX,4DAUL,OAAOvX,KAAKoF,MAAQ,MAAQ,oCAI5B,MAAwB,UAAhBpF,KAAKwX,yCAIb,OAAOxX,KAAKoF,MAAQ,QAAU,mCAI9B,OAAOpF,KAAKoF,MAAQpF,KAAKwW,QAAUxW,KAAKmW,sCAIxC,OAAOnW,KAAKoF,MAAQpF,KAAK0W,UAAY1W,KAAKiX,kDAQ1C,MAAmC,UAA5BjX,KAAKyX,kEA1Cf1S,8EAA4B,kDAE5BA,+EAA0B,uDAE1BA,8EAAiD,kDAOjDkE,+GAAmB,SAAAlG,IAAA,IAAAwL,EAAA,OAAAtL,EAAAhG,EAAAiG,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACOjC,EAAKgO,IAAIsI,YADhB,cACVnJ,EADUpL,EAAAyE,KAAAzE,EAAAE,KAAA,EAEVsU,IAAQC,eAAerJ,EAASiJ,QAFtB,OAGhBpW,EAAKoW,OAASjJ,EAASiJ,OAHP,wBAAArU,EAAAW,SAAAf,yCAMnBiS,0GAIAA,gHAIAA,8GAIAA,0GAIAA,iHAIA/L,0FAAiB,SAACvD,GACfqC,EAAKpC,aAAeD,kDAGvBsP,4GClEgB6C,kBAgCjB,SAAAA,EAAYC,EAAsBlI,GAA8C,IAAAxO,EAAApB,KAAhB0B,EAAgBuL,UAAAQ,OAAA,QAAAC,IAAAT,UAAA,GAAAA,UAAA,GAAV8K,OAAU/V,OAAA8J,EAAA,EAAA9J,CAAAhC,KAAA6X,GAAA7X,KA9BhF8X,WA8BgF,EAAA9X,KA5BhFmC,GAAoB,KA4B4DnC,KA1BhFgY,aA0BgF,EAAAhY,KAxBhFiY,eAAyB,GAwBuDjY,KAtBhF0B,SAsBgF,EAAA1B,KApBhFkY,OAAiB,QAoB+DlW,OAAAkK,EAAA,EAAAlK,CAAAhC,KAAA,WAAAmY,GAAAnY,MAAAgC,OAAAkK,EAAA,EAAAlK,CAAAhC,KAAA,gBAAAoY,GAAApY,MAAAgC,OAAAkK,EAAA,EAAAlK,CAAAhC,KAAA,OAAAqY,GAAArY,MAAAgC,OAAAkK,EAAA,EAAAlK,CAAAhC,KAAA,oBAAAsY,GAAAtY,MAAAgC,OAAAkK,EAAA,EAAAlK,CAAAhC,KAAA,kBAAAuY,GAAAvY,MAAAgC,OAAAkK,EAAA,EAAAlK,CAAAhC,KAAA,sBAAAwY,GAAAxY,WAgChF4T,YAAc,SAACjJ,GACX,IAAIlK,EAEsB,qBAAfkK,IACPlK,EAAWW,EAAKwO,cAAc6I,YAAY9N,IAG1CvJ,EAAKX,SADLA,EACgBW,EAAKwO,cAAc8I,eAAejY,GAElCA,GAzCwDT,KA2EhF8C,KA3EgFd,OAAAuK,EAAA,EAAAvK,CAAAiB,EAAAhG,EAAAuP,KA2EzE,SAAAzJ,IAAA,IAAAwL,EAAA,OAAAtL,EAAAhG,EAAAiG,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACyBjC,EAAK0W,MAAM1I,IAAIuJ,aAAavX,EAAK8N,QAD1D,cACGX,EADHpL,EAAAyE,KAEHxG,EAAK8Q,eAAe3D,EAAS/K,UAF1BL,EAAAwE,OAAA,SAGI4G,GAHJ,wBAAApL,EAAAW,SAAAf,MA3EyE/C,KAiFhFyR,SAjFgF,eAAApM,EAAArD,OAAAuK,EAAA,EAAAvK,CAAAiB,EAAAhG,EAAAuP,KAiFrE,SAAAY,EAAO7E,GAAP,IAAAgG,EAAA,OAAAtL,EAAAhG,EAAAiG,KAAA,SAAAsK,GAAA,cAAAA,EAAApK,KAAAoK,EAAAnK,MAAA,cAAAmK,EAAAnK,KAAA,EACqBjC,EAAK0W,MAAM1I,IAAIqC,SAASrQ,EAAK8N,OAAQ3G,GAD1D,cACDgG,EADCf,EAAA5F,KAAA4F,EAAA7F,OAAA,SAEA4G,GAFA,wBAAAf,EAAA1J,SAAAsJ,MAjFqE,gBAAAP,GAAA,OAAAxH,EAAA2H,MAAAhN,KAAAiN,YAAA,GAAAjN,KAsFhFqO,KAtFgFrM,OAAAuK,EAAA,EAAAvK,CAAAiB,EAAAhG,EAAAuP,KAsFzE,SAAA8B,IAAA,OAAArL,EAAAhG,EAAAiG,KAAA,SAAAwL,GAAA,cAAAA,EAAAtL,KAAAsL,EAAArL,MAAA,cAAAqL,EAAArL,KAAA,EACUjC,EAAK0W,MAAM1I,IAAIf,KAAKjN,EAAK8N,QADnC,cAAAR,EAAA/G,OAAA,SAAA+G,EAAA9G,MAAA,wBAAA8G,EAAA5K,SAAAwK,MArFHtO,KAAK8X,MAAQA,EACb9X,KAAKgY,QAAUhY,KAAK8X,MAAMc,mBAC1B5Y,KAAK4P,cAAgBA,EACrB5P,KAAK0B,IAAMA,EACX1B,KAAKS,SAAWT,KAAK4P,cAAc8I,eAAe1Y,KAAK4P,cAAckF,UAAU,0DAqBhD,IAAnB5U,EAAmB+M,UAAAQ,OAAA,QAAAC,IAAAT,UAAA,GAAAA,UAAA,GAAJ,GACvBjN,KAAKS,WACLT,KAAKS,SAASP,KAAOA,0CAkBd2Y,GACNA,IAGL7Y,KAAKiY,eAAiBY,EAAKZ,eAC3BjY,KAAKyK,gBAAkBoO,EAAKpO,gBAC5BzK,KAAK8P,oBAAsB+I,EAAK/I,oBAChC9P,KAAKmC,GAAKwR,OAAOkF,EAAK1W,IACtBnC,KAAK4K,KAAOiO,EAAKjO,KACjB5K,KAAK0B,IAAMmX,EAAKnX,IAChB1B,KAAKkY,OAASW,EAAKX,OACnBlY,KAAK8K,kBAAoB+N,EAAK/N,kBAC9B9K,KAAKS,SAAWT,KAAK4P,cAAc8I,eAAeG,EAAKpY,uDAGE,IAAnC0G,EAAmC8F,UAAAQ,OAAA,QAAAC,IAAAT,UAAA,GAAAA,UAAA,GAAN,KAC/CjN,KAAKS,UACLT,KAAKS,SAAS2G,kBAAkBD,8CAIbhF,GACvBnC,KAAKyK,gBAAkBtI,iCA3DvB,IAAM0W,EAAOxE,KAAKyE,MACdzE,KAAKC,UAAU,CACXnS,GAAInC,KAAKmC,GACTT,IAAK1B,KAAK0B,IACVuW,eAAgBjY,KAAKiY,eACrBnN,kBAAmB9K,KAAK8K,kBACxBoN,OAAQlY,KAAKkY,OACbtN,KAAM5K,KAAK4K,KACXH,gBAAiBzK,KAAKyK,gBACtBqF,oBAAqB9P,KAAK8P,oBAC1BkI,QAAShY,KAAKgY,WAItB,OADAa,EAAKpY,SAAWT,KAAKS,UAAYT,KAAKS,SAASyO,OACxC2J,yCAiDP,OAAQ7Y,KAAKS,UAAYT,KAAKS,SAASsD,eAAkB/D,KAAKS,SAASsD,eAAiB,sDA1F3FgB,iHAEAA,wGAEAA,8EAA0B,uDAE1BA,8EAA+B,CAC5BgG,QAAS,GACTC,MAAO,GACPnK,KAAM,GACNqK,YAAa,GACbD,SAAU,sDAGblG,8EAAkC,yDAElCA,uGAUAiQ,+GAkBA/L,0HAmCAA,qIAMAA,kIAIA+L,uFCxGgB+D,kBAgBjB,SAAAA,EAAYnJ,EAA8BtL,EAAkB8K,GAAc,IAAAhO,EAAApB,KAAAgC,OAAA8J,EAAA,EAAA9J,CAAAhC,KAAA+Y,GAAA/Y,KAd1EoP,SAc0E,EAAApN,OAAAkK,EAAA,EAAAlK,CAAAhC,KAAA,cAAAgZ,GAAAhZ,MAAAgC,OAAAkK,EAAA,EAAAlK,CAAAhC,KAAA,UAAAiZ,GAAAjZ,MAAAgC,OAAAkK,EAAA,EAAAlK,CAAAhC,KAAA,YAAAkZ,GAAAlZ,MAAAgC,OAAAkK,EAAA,EAAAlK,CAAAhC,KAAA,WAAAmZ,GAAAnZ,MAAAgC,OAAAkK,EAAA,EAAAlK,CAAAhC,KAAA,gBAAAoZ,GAAApZ,MAAAgC,OAAAkK,EAAA,EAAAlK,CAAAhC,KAAA,iBAAAqZ,GAAArZ,WAO1EsZ,aAP0E,eAAAnU,EAAAnD,OAAAuK,EAAA,EAAAvK,CAAAiB,EAAAhG,EAAAuP,KAO3D,SAAAzJ,EAAOS,GAAP,IAAA+V,EAAAC,EAAA,OAAAvW,EAAAhG,EAAAiG,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACXjC,EAAKgT,aAAc,EACbmF,EAAQnY,EAAKgO,IAAIqK,oBACnBD,EAAgBpY,EAAKgO,IAAIsK,oBAAoBlW,EAASwU,SAH/C7U,EAAAU,GAKXzC,EALW+B,EAAAE,KAAA,EAKkBkW,EALlB,cAAApW,EAAA4Q,GAAA5Q,EAAAyE,KAAAzE,EAAAU,GAKN8V,kBALM1N,KAAA9I,EAAAU,GAAAV,EAAA4Q,IAAA5Q,EAAAyW,GAMXxY,EAAKoC,SANML,EAAAE,KAAA,GAMwBmW,EANxB,QAAArW,EAAA0W,GAAA1W,EAAAyE,KAAAzE,EAAAyW,GAMG1H,eANHjG,KAAA9I,EAAAyW,GAAAzW,EAAA0W,IAOXzY,EAAKgT,aAAc,EAPR,yBAAAjR,EAAAW,SAAAf,MAP2D,gBAAA8J,GAAA,OAAA1H,EAAA6H,MAAAhN,KAAAiN,YAAA,GACtEjN,KAAK4P,cAAgBA,EACrB5P,KAAKwD,SAAW,IAAIqU,GAAS7X,KAAM4P,GACnC5P,KAAKoP,IAAMA,EACXpP,KAAKsZ,aAAatZ,KAAKwD,wEAaD+V,GAClBA,IACAvZ,KAAKuU,eAAiBgF,EAAMjY,IAAI,SAACwY,GAAD,MAAgB,CAAC3X,GAAI2X,EAAK3X,GAAI+B,YAAa4V,EAAKlP,sDAYnEiO,GACjB,IAAIrV,EAAWxD,KAAK+Z,UAAUC,KAAK,SAAAxW,GAAQ,OAAIA,EAASrB,KAAO0W,EAAK1W,KAMpE,OALKqB,IACDA,EAAW,IAAIqU,GAAS7X,KAAMA,KAAK4P,eACnC5P,KAAK+Z,UAAUE,KAAKzW,IAExBA,EAAS0O,eAAe2G,GACjBrV,sJAIPxD,KAAKsD,SAAU,WACQtD,KAAKoP,IAAIuJ,aAAa3Y,KAAKwD,wBAA5C+K,kBACA,IAAI2L,QAAQ,SAACC,EAAIC,GACnBzW,WAAW,kBAAMwW,KAAM,qBAE3Bna,KAAKsD,SAAU,oBACRiL,qQAKHwL,EAAwB,qBAGL/Z,KAAKoP,IAAIiL,uBAAtBnY,SACN6X,EAAY7X,EAAKZ,IAAI,SAACkC,GAAD,OAA2CuE,EAAKuS,qBAAqB9W,sFAIvFuW,6IAGJ5X,GAEH,IAAIqB,EAAiCxD,KAAK+Z,UAAUC,KAAK,SAAAxW,GAAQ,OAAIA,EAASrB,KAAOA,IAEjFqB,IACAxD,KAAKwD,SAAWA,8CAKpB,IAAM+W,EAAM,IAAIC,IAAI1E,OAAOC,SAAS5F,MACpC,OAAOwD,OAAO4G,EAAIE,aAAaC,IAAI,qDAGc,IAAnCvT,EAAmC8F,UAAAQ,OAAA,QAAAC,IAAAT,UAAA,GAAAA,UAAA,GAAN,KAC3CjN,KAAKwD,SAAS4D,kBAAkBD,4CAvDhC,SAAQnH,KAAKwD,SAAS/C,WAAYT,KAAKwD,SAAS/C,SAAS0H,mBAAoBnI,KAAKwD,SAAS/C,SAAS0H,6DAIpG,OAAQnI,KAAKwD,SAAS/C,UAAYT,KAAKwD,SAAS/C,SAASka,oBAAuB3a,KAAKwD,SAAS/C,SAASka,oBAAsB,yDAxChI5V,+EAAkC,4CAElCA,+EAA8B,8CAE9BA,8EAAmC,8CAEnCA,iHAEAA,kHAEAA,8EAAiC,oDAmBjCkE,mIAMA+L,qIAIAA,4FClDgB4F,GAKjB,SAAAA,EAAY/H,GAAY7Q,OAAA8J,EAAA,EAAA9J,CAAAhC,KAAA4a,GAAA5a,KAJxB6a,QAIuB,EAAA7a,KAHvB8a,UAGuB,EAAA9a,KAFvBgL,WAEuB,EACnBhJ,OAAO+D,OAAO/F,KAAM6S,ICJPkI,GAOjB,SAAAA,EAAYC,GAAYhZ,OAAA8J,EAAA,EAAA9J,CAAAhC,KAAA+a,GAAA/a,KANxBoR,WAMuB,EAAApR,KALvB4K,UAKuB,EAAA5K,KAJvB6H,WAIuB,EAAA7H,KAHvBib,aAGuB,EAAAjb,KAFvB2S,WAEuB,EACnB3Q,OAAO+D,OAAO/F,KAAMgb,GAEhBhb,KAAK2S,QACL3S,KAAK2S,MAAQ3S,KAAK2S,MAAMrR,IAAI,SAAAuR,GAAI,OAAI,IAAI+H,GAAS/H,OCU9CqI,OAdX,SAAAA,EAAYC,GAAoBnZ,OAAA8J,EAAA,EAAA9J,CAAAhC,KAAAkb,GAAAlb,KAJhCmb,aAI+B,EAAAnZ,OAAAkK,EAAA,EAAAlK,CAAAhC,KAAA,QAAAob,GAAApb,MAAAgC,OAAAkK,EAAA,EAAAlK,CAAAhC,KAAA,QAAAqb,GAAArb,MAC3BA,KAAKmb,QAAUA,EACfnb,KAAKsb,8CAJRvW,8EAA2B,2CAO3BkE,+GAAe,SAAAlG,IAAA,IAAA4P,EAAA,OAAA1P,EAAAhG,EAAAiG,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UACPjC,EAAKuR,MAAMlF,OADJ,CAAAtK,EAAAE,KAAA,eAAAF,EAAAE,KAAA,EAEYjC,EAAK+Z,QAAQG,QAFzB,OAEF3I,EAFExP,EAAAyE,KAGRxG,EAAKuR,MAAQA,EAAMrR,IAAI,SAAAuR,GAAI,OAAI,IAAIkI,GAAKlI,KAHhC,wBAAA1P,EAAAW,SAAAf,wnBCVpB,IAAMwY,GAAa5e,YAAOiB,EAAPjB,CAAH6e,KAIS,SAACze,GAAD,MAAgC,UAAfA,EAAMyU,KAAoB,SAAW,OACvD,SAACzU,GAAD,OAAgBA,EAAM0e,SAAW,UAAY,eAQpD,SAAC1e,GAAD,MAAgC,UAAfA,EAAMyU,KAAoB,QAAU,UAGhEkK,GAAQ/e,IAAOgf,MAAVC,KAGF,SAAC7e,GAAD,MAAgC,UAAfA,EAAMyU,KAAoB,OAAS,SAClD,SAACzU,GAAD,MAAgC,UAAfA,EAAMyU,KAAoB,OAAS,OAGxC,SAACzU,GAAD,MAAgC,UAAfA,EAAMyU,KAAoB,IAAM,SA8EzDqK,GAxEF,SAAC9e,GAEV,IAAM+e,EAAO/e,EAAMmF,KAAK4Z,MAAQ,GAG5BC,EAMAD,EANAC,UACAC,EAKAF,EALAE,WACAC,EAIAH,EAJAG,aACAC,EAGAJ,EAHAI,QACApB,EAEAgB,EAFAhB,KAkBJ,OAdAmB,EAAeA,GAAgBA,EAAalO,OAGxCmO,EAAUA,GAAWA,EAAQnO,OAC7BkO,EAAgBA,GAAiC,KAAjBA,EAAuBA,EAAgBC,GAAuB,KAAZA,EAAiBA,OAAUxO,EAEzGqO,IAGAA,GADAA,GADAA,EAAYA,EAAUI,QAAQ,iBAAkB,uBAC1BA,QAAQ,SAAU,4BAClBA,QAAQ,YAAa,4BAM/Cnf,EAAAC,EAAAC,cAACqe,GAAexe,EACZC,EAAAC,EAAAC,cAAA,SAAOqD,MAAO,CAAC6b,OAAQ,EAAGxX,MAAO,OAAOyX,SAAS,MAC7Crf,EAAAC,EAAAC,cAAA,aACAF,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAACwe,GAAU3e,EACPC,EAAAC,EAAAC,cAAA,aACAF,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,OAAKwH,IAAKsX,EACLrX,IAAKoX,GAA4F,yFACjGnX,MAAM,aAKvB5H,EAAAC,EAAAC,cAACwe,GAAU3e,EACPC,EAAAC,EAAAC,cAAA,aACAF,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,MAAIC,UAAW,QACXH,EAAAC,EAAAC,cAAA,MAAIqD,MAAO,CAACmR,aAAc,IACtB1U,EAAAC,EAAAC,cAAA,KACIoN,OAAO,SACPgS,IAAI,sBACJnM,KAAM2K,GAAQ,KAAMkB,GAAc,yBAE1Chf,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,KACIoN,OAAO,SACPgS,IAAI,sBACJnM,KAAM2K,GAAQ,KAAMmB,GAAgB,uSCxF5E,IAAMM,GAAa5f,IAAOC,IAAV4f,MAuBDC,GAdF,SAAC1f,GACV,IAAI4H,EAAyB,KAAnB5H,EAAMmF,KAAKyC,IAA4F,yFAA4F5H,EAAMmF,KAAKyC,IAIxN,OAFAA,GADAA,EAAMA,EAAIwX,QAAQ,SAAU,4BAClBA,QAAQ,YAAa,2BAG3Bnf,EAAAC,EAAAC,cAACqf,GAAD,KACIvf,EAAAC,EAAAC,cAAA,OACIwH,IAAI,IACJC,IAAKA,ilBClBrB,aAAM+X,GAAmB/f,IAAOC,IAAV+f,MAwBhBC,GAAW,CACbpY,MAAO,WA6BIqY,GA1BI,SAAC9f,GAAe,IAExBie,EAAQje,EAAMmF,KAAd8Y,KAEHrI,EAAQ,KAaZ,OAVIA,EADAqI,EACQA,EAAKrI,MAAMrR,IAAI,SAACuR,EAAWrR,GAAZ,OACnBxE,EAAAC,EAAAC,cAAA,MAAIwE,IAAKmR,EAAKgI,IAAI7d,EAAAC,EAAAC,cAAA,KAAGiT,KAAM0C,EAAKiI,MAAOjI,EAAK7H,OACvCgQ,EAAKrI,MAAMlF,OAAS,EAAIjM,EAAQxE,EAAAC,EAAAC,cAAA,QAAMqD,MAAOqc,IAAb,UAAkC,QAInE,IAAIhc,MAAM,GAAGkc,KAAK,MAAMxb,IAAI,SAACuR,EAAMrR,GAAP,OAAiBxE,EAAAC,EAAAC,cAAA,MAAIwE,IAAKF,GAAOxE,EAAAC,EAAAC,cAAA,KAAGiT,KAAK,MAAR,QAAmB3O,EAAM,GAAOA,EAAQ,EACzGxE,EAAAC,EAAAC,cAAA,QAAMqD,MAAOqc,IAAb,UAAmC,KADc,OAKrD5f,EAAAC,EAAAC,cAACwf,GAAD,KACI1f,EAAAC,EAAAC,cAAA,UACKyV,8OC0BjB,SAASoK,GAAT5X,GAAmD,IAA1B6X,EAA0B7X,EAA1B6X,SAAajgB,EAAaiF,OAAA8D,GAAA,EAAA9D,CAAAmD,EAAA,cAC/C,OAAOnI,EAAAC,EAAAC,cAAA,MAAA8E,OAAA+D,OAAA,CAAKkX,IAAKD,GAAcjgB,IAqFnC,mBAAMmgB,GAAa,CACfC,QAnFJ,SAAiBpgB,GACb,OACIC,EAAAC,EAAAC,cAAC+M,GAAA,EAADjI,OAAA+D,OAAA,CACImE,WAAS,EACTkT,WAAY,CACRL,kBACAM,WAAWrb,OAAAC,EAAA,EAAAD,CAAA,CACP7E,UAAWJ,EAAMugB,YAAYC,QAAQjK,MACrC0J,SAAUjgB,EAAMygB,SAChB7f,SAAUZ,EAAMY,UACbZ,EAAM0gB,cAGb1gB,EAAMugB,YAAYI,kBAuE9B3C,KAVJ,SAAche,GACV,OACIC,EAAAC,EAAAC,cAACygB,GAAA,EAAD3b,OAAA+D,OAAA,CAAO6X,QAAM,EAACzgB,UAAWJ,EAAMugB,YAAYC,QAAQM,OAAW9gB,EAAM0gB,YAC/D1gB,EAAMY,WAQfmgB,WAzBJ,SAAoB/gB,GAChB,OACIC,EAAAC,EAAAC,cAAC6gB,GAAA,EAAD,CACIC,UAAW,EACX5M,MAAOrU,EAAMY,SACbR,UAAW8gB,KAAWlhB,EAAMugB,YAAYC,QAAQW,KAA3Blc,OAAA4K,GAAA,EAAA5K,CAAA,GAChBjF,EAAMugB,YAAYC,QAAQY,YAAcphB,EAAMqhB,YAEnD1gB,SAAUX,EAAMshB,YAAYhhB,QAC5BihB,WAAYthB,EAAAC,EAAAC,cAACK,EAAA,EAADyE,OAAA+D,OAAA,GAAqBhJ,EAAMshB,YAA3B,CAAwC7gB,KAAK,cAiBjE+gB,iBAtGJ,SAA0BxhB,GACtB,OACIC,EAAAC,EAAAC,cAAC8M,GAAA,EAADhI,OAAA+D,OAAA,CACIvB,MAAM,gBACNrH,UAAWJ,EAAMugB,YAAYC,QAAQiB,kBACjCzhB,EAAM0gB,YAET1gB,EAAMY,WAgGf8gB,OArEJ,SAAgB1hB,GAEZ,OACIC,EAAAC,EAAAC,cAAC4V,GAAA,EAAD9Q,OAAA+D,OAAA,CACI2Y,UAAW3hB,EAAMygB,SACjBpgB,SAAUL,EAAMqhB,UAChBO,UAAU,MACVpe,MAAO,CACHqe,WAAY7hB,EAAM4E,WAAa,IAAM,MAErC5E,EAAM0gB,YAET1gB,EAAMmF,KAAK6Z,WACR/e,EAAAC,EAAAC,cAAA,OAAKyH,IAAK5H,EAAMmF,KAAK6Z,UAAWxb,MAAO,CAAC8b,SAAU,GAAIvX,YAAa,GAAKJ,IAAK,SAVrF,IAUkG3H,EAAMY,WAyD5GkhB,YApDJ,SAAqB9hB,GACjB,OACIC,EAAAC,EAAAC,cAAC8M,GAAA,EAADhI,OAAA+D,OAAA,CACIvB,MAAM,gBACNrH,UAAWJ,EAAMugB,YAAYC,QAAQuB,aACjC/hB,EAAM0gB,YAET1gB,EAAMY,WA8CfohB,YAzCJ,SAAqBhiB,GACjB,OACIC,EAAAC,EAAAC,cAAC8M,GAAA,EAADhI,OAAA+D,OAAA,CAAY5I,UAAWJ,EAAMugB,YAAYC,QAAQyB,aAAiBjiB,EAAM0gB,YACnE1gB,EAAMY,WAuCfshB,eAlCJ,SAAwBliB,GACpB,OAAOC,EAAAC,EAAAC,cAAA,OAAKC,UAAWJ,EAAMugB,YAAYC,QAAQ2B,gBAAiBniB,EAAMY,YAoCtEwhB,GAAUxiB,YAAOiB,EAAPjB,CAAHyiB,MAOPC,GAAe1iB,IAAOC,IAAV0iB,MAKZC,GADLrgB,oMAkBY,IAAAyQ,EACyB3P,KAAKjD,MAA5BwgB,EADF5N,EACE4N,QAASlI,EADX1F,EACW0F,MAEVmK,EAAe,CACjBlM,MAAO,SAACmM,GAAD,OAAAzd,OAAAC,EAAA,EAAAD,CAAA,GACAyd,EADA,CAEHjb,MAAO6Q,EAAMwB,QAAQ6I,KAAK5I,QAC1B6I,UAAW,CACPC,KAAM,eAKlB,OACI5iB,EAAAC,EAAAC,cAACiiB,GAAD,KACIniB,EAAAC,EAAAC,cAACmiB,GAAD,CAAcliB,UAAWogB,EAAQsC,MAC7B7iB,EAAAC,EAAAC,cAAC4iB,GAAA,EAAD,KACI9iB,EAAAC,EAAAC,cAAC6iB,GAAA,EAAD,CACIxC,QAASA,EACTyC,OAAQR,EACRtC,WAAYA,GACZ+C,QAASjgB,KAAKjD,MAAMmjB,YACpBrY,MAAO7H,KAAKjD,MAAM8K,MAClBsY,cAAengB,KAAKjD,MAAMqjB,YAC1BhW,SAAUpK,KAAKjD,MAAMqN,SACrB0U,YAAa9e,KAAKjD,MAAM+hB,aAAe,iBACvCuB,aAAW,EACXC,cAAY,EACZC,UAAWvgB,KAAKjD,MAAMuG,UAE1BtG,EAAAC,EAAAC,cAAA,OAAKC,UAAWogB,EAAQiD,oBA/CXpe,IAAMC,cAazBoe,aAAe,CACzB5Y,MAAO,kBA2CA6Y,gBA/NU,SAACrL,GAAD,MAAiB,CAEtC/B,MAAO,CACHjD,QAAS,OACTsQ,QAAS,GAEbzB,eAAgB,CACZ7O,QAAS,OACTuQ,SAAU,OACVzP,KAAM,EACNf,WAAY,SACZyQ,SAAU,UAEd3C,KAAM,CACF/T,OAAM,GAAAjE,OAAKmP,EAAMyL,QAAQC,KAAO,EAA1B,OAAA7a,OAAiCmP,EAAMyL,QAAQC,KAAO,EAAtD,OAEV5C,YAAa,CACT6C,gBAAiBC,qBACU,UAAvB5L,EAAMwB,QAAQpP,KAAmB4N,EAAMwB,QAAQqK,KAAK,KAAO7L,EAAMwB,QAAQqK,KAAK,KAC9E,MAGR1C,iBAAkB,CACdmC,QAAO,GAAAza,OAAKmP,EAAMyL,QAAQC,KAAnB,OAAA7a,OAAkD,EAArBmP,EAAMyL,QAAQC,KAA3C,OAEX/B,YAAa,CACTjK,SAAU,IAEd+J,YAAa,CACTqC,SAAU,WACVC,KAAM,EACNrM,SAAU,IAEd8I,MAAO,CACHsD,SAAU,WACVE,OAAQ,EACR9W,UAAW8K,EAAMyL,QAAQC,KACzBK,KAAM,EACNE,MAAO,GAEXd,QAAS,CACL3b,OAA6B,EAArBwQ,EAAMyL,QAAQC,QAsLS,CAACQ,WAAW,GAApCb,CAA2CnB,oKChOpD7P,GAAe,CACjBwQ,iBAAaxS,EACb8T,MAAO,MAwBL1J,GAAQ,IArBd,oBAAA2J,IAAAzf,OAAA8J,EAAA,EAAA9J,CAAAhC,KAAAyhB,GAAAzhB,KAEY0hB,QAAU,IAAIC,KAAuBjS,IAFjD1P,KAGY8X,MAAQ9X,KAAK0hB,QAAQE,eAAeC,KAAKC,gBAHrD,OAAA9f,OAAA+f,EAAA,EAAA/f,CAAAyf,EAAA,EAAA/f,IAAA,SAAAmG,MAAA,SASc+C,GACN,OAAO5K,KAAK8X,MAAM+J,KAAKG,aAAMpX,MAVrC,CAAAlJ,IAAA,MAAAmG,MAAA,SAaQ+C,EAAc8E,GACd1P,KAAK0hB,QAAQre,KAAbrB,OAAAC,EAAA,EAAAD,CAAA,GACOhC,KAAK6H,MADZ7F,OAAA4K,GAAA,EAAA5K,CAAA,GACoB4I,EAAO8E,OAfnC,CAAAhO,IAAA,QAAAgZ,IAAA,WAMQ,OAAO1a,KAAK0hB,QAAQ7Z,UAN5B4Z,EAAA,IAqIeQ,GA9GdhjB,YAAO,cACPC,sTAOGgD,KAAY,OAEZggB,wBAEAC,SAAmDrM,OAAOC,SAASqM,SAAW,KAAOtM,OAAOC,SAASsM,KAAO,MAE5GC,OAA6BxK,GAAMyK,OAAO,WAE1CpC,cAAgB,SAACqB,GACTA,EAAM/T,OAAS,GACfqK,GAAM0K,IAAI,QAAShB,MA0C3BiB,gBAAkB,SAACrlB,IACE,OAAbA,GAAsBA,GAAYA,EAASyd,MACvCzd,UACOA,EAASslB,aAEpBthB,EAAKrE,MAAM2F,aAAa,OAAQtF,2FA1ChC4C,KAAKkiB,iBACLliB,KAAKkiB,eAAeS,cACpB7K,GAAM0K,IAAI,QAAS,mDAKvBxiB,KAAK4iB,8DAGU,IAAA7a,EAAA/H,KACfA,KAAKkiB,eAAiBliB,KAAKsiB,OAAOT,KAC9BgB,aAAU,MACVC,aAAa,KACbhB,eACAiB,aAAO,SAACvB,GAAD,MAA4B,kBAAVA,IACzBwB,aAAU,SAAAxB,GAEN,OADAzZ,EAAKzE,SAAU,EACR2f,KAAMnH,KAAN,GAAA5V,OAAc6B,EAAKoa,SAAnB,qEAAAjc,OAAgGsb,GAAS,CAC5G0B,QAAS,CACLC,eAAgB,wDAI5B7hB,aAAI,SAACiN,GACDxG,EAAKmY,YAAc3R,EAASrM,KAAKkhB,MAAM9hB,IAAI,SAACwa,GAAD,OAAA9Z,OAAAC,EAAA,EAAAD,CAAA,GACpC8Z,EADoC,CAEvC1K,MAAS0K,EAAKE,WACdnU,MAASiU,EAAKE,WACdD,UAAaD,EAAKC,cAEtBhU,EAAKzE,SAAU,IAEnB+f,aAAW,SAACC,EAAKC,GAAN,OAAiBC,aAAWF,MACzCG,6CAYsK,IAAA3R,EAAA9R,KACxK,OACIhD,EAAAC,EAAAC,cAAA,OAAKmH,IAAKrE,KAAKjD,MAAMuH,QAAQD,KACzBrH,EAAAC,EAAAC,cAACwmB,GAAD,CACI5E,YAAa7iB,IAAKkI,EAAE,eACpB0D,MAAO7H,KAAKjD,MAAMwE,OAAOW,KAAK4Z,KAC9BoE,YAAalgB,KAAKkgB,YAClBE,YAAapgB,KAAKmgB,cAClB/V,SAAUpK,KAAKyiB,gBACfnf,QAAStD,KAAKsD,UAGlBtG,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kBACXH,EAAAC,EAAAC,cAACgW,GAAA,EAAD,KACIlW,EAAAC,EAAAC,cAACymB,GAAA,EAAD,CACIC,aAAW,SACXhZ,KAAK,UACL/C,MAAO7H,KAAKjD,MAAMwE,OAAOW,KAAKsP,KAC9BpH,SAAU,SAACC,GAAD,OAAgByH,EAAK/U,MAAM2F,aAAa,OAAQ2H,EAAMC,OAAOzC,SAEvE7K,EAAAC,EAAAC,cAAC2mB,GAAA,EAAD,CAAkBhc,MAAM,QAAQic,QAAS9mB,EAAAC,EAAAC,cAAC6mB,GAAA,EAAD,MAAU3S,MAAOnV,IAAKkI,EAAE,WACjEnH,EAAAC,EAAAC,cAAC2mB,GAAA,EAAD,CAAkBhc,MAAM,QAAQic,QAAS9mB,EAAAC,EAAAC,cAAC6mB,GAAA,EAAD,MAAU3S,MAAOnV,IAAKkI,EAAE,aAGzEnH,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAACgW,GAAA,EAAD,KACIlW,EAAAC,EAAAC,cAAC2mB,GAAA,EAAD,CACIC,QAAS9mB,EAAAC,EAAAC,cAAC8mB,GAAA,EAAD,CACLC,QAASjkB,KAAKjD,MAAMwE,OAAOW,KAAKuZ,SAChCrR,SAAU,SAACC,GAAD,OAAgByH,EAAK/U,MAAM2F,aAAa,WAAY2H,EAAMC,OAAO2Z,UAC3Epc,MAAM,YACVuJ,MAAOnV,IAAKkI,EAAE,gCAlGrB/B,IAAMC,sDAE1B0C,8EAAgC,6CAEhCA,+EAA8B,gKC/CnC,+BAAMmf,GAAmBvnB,IAAOC,IAAVunB,MAiEPC,GAnDdnlB,YAAO,cACPC,0NAIGmlB,eAEAC,SAAW,WACP,IAAMC,EAAanjB,EAAKijB,MAAM3U,QAAQgL,IAAI,aAAa8J,QAAQC,SAC/DrjB,EAAKrE,MAAM2F,aAAa,MAAO6hB,EAAWhK,QAG9CmK,UAAY,WACRtjB,EAAKijB,MAAMva,4FAIX,IAAM6a,EAAK7O,OAAO6O,GAClB3kB,KAAKqkB,MAAQM,EAAGC,MAAMC,OAAOC,WAAaH,EAAGC,MAAM,CAC/CG,UAAU,IAEd/kB,KAAKqkB,MAAMW,GAAG,SAAUhlB,KAAKskB,yDAI7B,IACItkB,KAAKqkB,MAAMY,IAAIjlB,KAAKskB,UACtB,MAAOY,sCAMT,OACIloB,EAAAC,EAAAC,cAACgnB,GAAD,CAAkB7f,IAAKrE,KAAKjD,MAAMuH,QAAQD,KACtCrH,EAAAC,EAAAC,cAACqH,GAAA,EAAD,CAAQb,QAAQ,YAAYc,MAAM,UAAUnH,QAAS2C,KAAK0kB,WACrDzoB,IAAKkI,EAAE,mCAlCH/B,IAAMC,qBCehB8iB,GA/BdlmB,YAAO,gBACPC,gfAQOc,KAAKsD,SAAU,WACTtD,KAAKjD,MAAMqoB,UAAU9J,eAC3Btb,KAAKgb,KAAQhb,KAAKjD,MAAMqoB,UAAUzS,MAClC3S,KAAKsD,SAAU,qIAGyJ,IAAAyE,EAAA/H,KACxK,OACIhD,EAAAC,EAAAC,cAAAF,EAAAC,EAAAooB,SAAA,KACIroB,EAAAC,EAAAC,cAACwmB,GAAD,CACI5E,YAAa7iB,IAAKkI,EAAE,qBACpBb,QAAStD,KAAKsD,QACduE,MAAO7H,KAAKjD,MAAMwE,OAAOW,KAAK8Y,KAC9BkF,YAAalgB,KAAKgb,KAClBoF,YAAa,aAEbhW,SAAU,SAAClI,GAAD,OAAY6F,EAAKhL,MAAM2F,aAAa,OAAOR,cAvB1CE,IAAMC,+CAEhC0C,8EAAyB,6CAEzBA,+EAA6B,sBC8EnBugB,kBA9DX,SAAAA,EAAAngB,GAQqC,IAAA/D,EAAApB,KAAAulB,EAAApgB,EAPrBlB,cAOqB,IAAAshB,EAPZ,CACL9d,KAAM,OACNvD,YAAa,QAKIqhB,EAAAC,EAAArgB,EAHrBjD,YAGqB,IAAAsjB,EAHd,GAGcA,EAAAC,EAAAtgB,EAFrBzD,WAEqB,IAAA+jB,EAFf1N,OAEe0N,EAAAC,EAAAvgB,EADrBxD,kBACqB,IAAA+jB,KAAA1jB,OAAA8J,EAAA,EAAA9J,CAAAhC,KAAAslB,GAAAtlB,KApBrC0B,SAoBqC,EAAAM,OAAAkK,EAAA,EAAAlK,CAAAhC,KAAA,aAAA2lB,GAAA3lB,MAAAgC,OAAAkK,EAAA,EAAAlK,CAAAhC,KAAA,SAAA4lB,GAAA5lB,MAAAgC,OAAAkK,EAAA,EAAAlK,CAAAhC,KAAA,OAAA6lB,GAAA7lB,WAZ7B8lB,uBAY6B,EAAA9lB,KAV7B+lB,qBAU6B,EAAA/jB,OAAAkK,EAAA,EAAAlK,CAAAhC,KAAA,mBAAAgmB,GAAAhmB,WAuBrCoE,aAAe,WAAgB,IAAfrH,EAAekQ,UAAAQ,OAAA,QAAAC,IAAAT,UAAA,GAAAA,UAAA,GAAP,GACd5K,EAAYjB,EAAK2kB,gBAIvB,OAFAhpB,EAAKiF,OAAAC,EAAA,EAAAD,CAAA,GAAOjF,EAAUqE,EAAKc,MAEnBlF,EAAAC,EAAAC,cAACmF,EAActF,IA5BUiD,KA+BrC+B,eAAiB,WAAgB,IAAfhF,EAAekQ,UAAAQ,OAAA,QAAAC,IAAAT,UAAA,GAAAA,UAAA,GAAP,GAChB5K,EAAYjB,EAAK0kB,kBAIvB,OAFA/oB,EAAKiF,OAAAC,EAAA,EAAAD,CAAA,GAAOjF,EAAUqE,EAAKc,MAEnBlF,EAAAC,EAAAC,cAACmF,EAActF,IApCUiD,KAgDrCimB,aAAe,WACX,OAAQjpB,EAAAC,EAAAC,cAAA,0BAhDR8C,KAAKiE,OAASA,EACdjE,KAAKkC,KAAOA,EACZlC,KAAK0B,IAAMA,EACX1B,KAAK2B,WAAaA,iEAWHokB,GACf/lB,KAAK+lB,gBAAkBA,+CAGND,GACjB9lB,KAAK8lB,kBAAoBA,sCAZzB,OAAO9lB,KAAKiE,OAAOC,2CAgCnB,MAAO,CACHD,OAAQjE,KAAKiE,OACb/B,KAAMlC,KAAKkC,KACXR,IAAK1B,KAAK0B,wDA7DjBqD,+EAAwB,2CAExBA,8EAAyB,0CAEzBA,8EAAuB,8CAqBvBiQ,gIAIA/L,0FAA0B,SAAC/G,GACxB6F,EAAK7F,KAAOA,yZC7CpB,OAAMgkB,GAAcvpB,IAAOC,IAAVupB,MA2BFC,GATD,SAACrpB,GACX,OACIC,EAAAC,EAAAC,cAACgpB,GAAD,KACIlpB,EAAAC,EAAAC,cAAA,UAA0B,KAArBH,EAAMmF,KAAK8I,MAAejO,EAAMmF,KAAK8I,MAAQ,yBAClDhO,EAAAC,EAAAC,cAAA,UAA6B,KAAxBH,EAAMmF,KAAKmkB,SAAkBtpB,EAAMmF,KAAKmkB,SAAW,wJCnBpE,yBAAMC,GAAoB3pB,IAAOC,IAAV2pB,MAkCRC,GA/BdvnB,YAAO,+LAGwK,IAAAmC,EAAApB,KACxK,OACIhD,EAAAC,EAAAC,cAACopB,GAAD,CAAmBjiB,IAAKrE,KAAKjD,MAAMuH,QAAQD,KACvCrH,EAAAC,EAAAC,cAAC+M,GAAA,EAAD,CACIC,WAAS,EACTxG,QAAQ,WACRvB,GAAG,gBACHiP,MAAOnV,IAAKkI,EAAE,SACd0D,MAAO7H,KAAKjD,MAAMwE,OAAOW,KAAK8I,MAC9BZ,SAAU,SAACC,GAAD,OAAWjJ,EAAKrE,MAAM2F,aAAa,QAAS2H,EAAMC,OAAOzC,QACnEsC,OAAO,WAEXnN,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAC+M,GAAA,EAAD,CACIvG,QAAQ,WACRwG,WAAS,EACT/H,GAAG,gBACHiP,MAAOnV,IAAKkI,EAAE,aACd0D,MAAO7H,KAAKjD,MAAMwE,OAAOW,KAAKmkB,SAC9Bjc,SAAU,SAACC,GAAD,OAAWjJ,EAAKrE,MAAM2F,aAAa,WAAY2H,EAAMC,OAAOzC,QACtEsC,OAAO,oBAtBL/H,IAAMC,gBC8CjBokB,kBAxCX,SAAAA,IAAezkB,OAAA8J,EAAA,EAAA9J,CAAAhC,KAAAymB,GAAAzkB,OAAAkK,EAAA,EAAAlK,CAAAhC,KAAA,QAAA0mB,GAAA1mB,MACXA,KAAK5D,0DAKL4D,KAAK2S,MAAM6P,IAAI,QAAS,CACpB/hB,SAAU2lB,GACVO,OAAQH,KAGZxmB,KAAK2S,MAAM6P,IAAI,OAAQ,CACnB/hB,SAAUob,GACV8K,OAAQ1E,KAGZjiB,KAAK2S,MAAM6P,IAAI,aAAc,CACzB/hB,SAAUoc,GACV8J,OAAQxB,KAGZnlB,KAAK2S,MAAM6P,IAAI,OAAQ,CACnB/hB,SAAUgc,GACVkK,OAAQvC,0CAKHwC,GACT,IAAMrlB,EAAS,IAAI+jB,GAAOsB,GACpBnf,EAAOlG,EAAO0C,OAAOwD,KAM3B,OAHAlG,EAAOslB,mBAAmB7mB,KAAK2S,MAAM+H,IAAIjT,GAAMkf,QAC/CplB,EAAOulB,qBAAqB9mB,KAAK2S,MAAM+H,IAAIjT,GAAMhH,UAE1Cc,gDAtCVwD,+EAAqC,IAAIgiB,WCZjCC,GAAmC,CAC5C/iB,OAAQ,CACJwD,KAAM,OACNvD,YAAa,QAEjBvC,YAAY,EACZO,KAAM,CACFyC,IAAI,KAKCsiB,GAAoC,CAC7ChjB,OAAQ,CACJwD,KAAM,QACNvD,YAAa,SAEjBvC,YAAY,EACZO,KAAM,CACF8I,MAAM,GACNqb,SAAS,KAKJa,GAAuC,CAChDjjB,OAAQ,CACJwD,KAAM,aACNvD,YAAa,cAEjBvC,YAAY,EACZO,KAAM,IAGGilB,GAAuC,CAChDljB,OAAQ,CACJwD,KAAM,OACNvD,YAAa,QAEjBvC,YAAY,EACZO,KAAM,CACFsP,KAAM,QACNiK,UAAU,IAIL2L,GAAsBplB,OAAO+D,OAAO,GAAIohB,GAAgB,CAACjlB,KAAKF,OAAAC,EAAA,EAAAD,CAAA,GAAKmlB,GAAejlB,KAArB,CAA2BsP,KAAQ,YCxCvG6V,GAAe,IAAIZ,GAEZa,IAAbC,GAAA,WAYI,SAAAD,EAAAniB,GAA2E,IAAA/D,EAAApB,KAA9DkE,EAA8DiB,EAA9DjB,YAAa7C,EAAiD8D,EAAjD9D,QAASc,EAAwCgD,EAAxChD,GAAwCsjB,EAAAtgB,EAApCzD,WAAoC,IAAA+jB,EAA9B1N,OAA8B0N,EAAAzjB,OAAA8J,EAAA,EAAA9J,CAAAhC,KAAAsnB,GAAAtnB,KAV3EmC,QAU2E,EAAAnC,KAR3E0B,SAQ2E,EAAA1B,KAN3EkE,YAAsB,GAMqDlC,OAAAkK,EAAA,EAAAlK,CAAAhC,KAAA,OAAAwnB,GAAAxnB,MAAAgC,OAAAkK,EAAA,EAAAlK,CAAAhC,KAAA,UAAAynB,GAAAznB,WAS3EwH,UAAY,SAACC,EAAcjG,GACvB,IAAMD,EAAiB8lB,GAAaK,aAAatmB,EAAKumB,cAAclgB,IACpErG,EAAKC,QAAQ0R,OAAOvR,EAAQ,EAAG,EAAGD,IAXqCvB,KAc3EsH,aAAe,SAACH,GAEZ,IAAM9F,EAAUD,EAAKC,QACfumB,EAAqBvmB,EAAQ2Y,KAAK,SAACnH,EAAcrR,GAAf,OAAiC2F,IAAgB3F,IACnFqmB,EAAexmB,EAAQ2Y,KAAK,SAACnH,EAAcrR,GAAf,OAAkC2F,EAAc,IAAO3F,IACnFsmB,EAAczmB,EAAQ2Y,KAAK,SAACnH,EAAcrR,GAAf,OAAkC2F,EAAc,IAAO3F,MAGlFqmB,GAAgBC,GAAeF,EAAc3jB,OAAOwD,OAASqgB,EAAY7jB,OAAOwD,MACjFogB,IAAiBC,GAAeF,EAAc3jB,OAAOwD,OAASogB,EAAa5jB,OAAOwD,MAClFogB,GAAgBC,IAAgBF,EAAc3jB,OAAOwD,OAASogB,EAAa5jB,OAAOwD,MAAQmgB,EAAc3jB,OAAOwD,OAASqgB,EAAY7jB,OAAOwD,QAG5IrG,EAAKC,QAAQ0R,OAAO5L,EAAa,IA3BkCnH,KAgC3E2nB,cAAgB,SAACI,GACb,MAAmB,SAAfA,EACOZ,GAEQ,eAAfY,EACOb,GAEQ,SAAfa,EACOf,GAGJG,IA3CgEnnB,KAwE3EgE,oBAAsB,WAClB5C,EAAKC,QAAQN,QAAQ,SAACQ,GAAD,OAAoBA,EAAOI,YAAa,KAxE7D3B,KAAKkE,YAAcA,EACnBlE,KAAKmC,GAAKA,EACVnC,KAAK0B,IAAMA,EAGX1B,KAAKqB,QAAUA,EAAQC,IAAI,SAAAC,GAAM,OAAI8lB,GAAaK,aAAa1lB,OAAO+D,OAAO,GAAIxE,MAlBzF,OAAAS,OAAA+f,EAAA,EAAA/f,CAAAslB,EAAA,EAAA5lB,IAAA,oBAAAmG,MAAA,WA0DiE,IAAnCV,EAAmC8F,UAAAQ,OAAA,QAAAC,IAAAT,UAAA,GAAAA,UAAA,GAAN,KACnDjN,KAAKqB,QAAQN,QAAS,SAACQ,EAAQC,GAAT,OAAmBD,EAAOI,WAAaH,IAAU2F,MA3D/E,CAAAzF,IAAA,SAAAgZ,IAAA,WA+DQ,MAAO,CACHrZ,QAASrB,KAAKqB,QAAQC,IAAI,SAACC,GAAD,OAAiBA,EAAO2N,SAClDhL,YAAalE,KAAKkE,YAClB/B,GAAInC,KAAKmC,GACTjC,KAAMF,KAAKE,QAnEvB,CAAAwB,IAAA,mBAAAgZ,IAAA,WAwEQ,YAA4DhN,IAArD1N,KAAKqB,QAAQ2Y,KAAK,SAACzY,GAAD,OAAYA,EAAOI,eAxEpD,CAAAD,IAAA,sBAAAgZ,IAAA,WA4EQ,IAAMlZ,EAAQxB,KAAKqB,QAAQ2mB,UAAU,SAACzmB,GAAD,OAAoBA,EAAOI,aAChE,OAAkB,IAAXH,EAAeA,EAAQ,OA7EtC,CAAAE,IAAA,iBAAAgZ,IAAA,WAiFQ,OAAoC,OAA7B1a,KAAK2a,oBAA+B3a,KAAKqB,QAAQrB,KAAK2a,qBAAuB,SAjF5F2M,EAAA,GAAAE,GAAAxlB,OAAAimB,EAAA,EAAAjmB,CAAAulB,GAAA1Z,UAAA,QAQK9I,MARL,CAAAmjB,cAAA,EAAAC,YAAA,EAAAC,UAAA,EAAAC,YAAA,iBAQ+B,MAR/BZ,GAAAzlB,OAAAimB,EAAA,EAAAjmB,CAAAulB,GAAA1Z,UAAA,WAUK9I,MAVL,CAAAmjB,cAAA,EAAAC,YAAA,EAAAC,UAAA,EAAAC,YAAA,iBAUoC,MAVpCrmB,OAAAimB,EAAA,EAAAjmB,CAAAulB,GAAA1Z,UAAA,qBA0DK5E,MA1DLjH,OAAAsmB,yBAAAf,GAAA1Z,UAAA,qBAAA0Z,GAAA1Z,WAAA7L,OAAAimB,EAAA,EAAAjmB,CAAAulB,GAAA1Z,UAAA,oBAuEKmH,MAvELhT,OAAAsmB,yBAAAf,GAAA1Z,UAAA,oBAAA0Z,GAAA1Z,WAAA7L,OAAAimB,EAAA,EAAAjmB,CAAAulB,GAAA1Z,UAAA,uBA2EKmH,MA3ELhT,OAAAsmB,yBAAAf,GAAA1Z,UAAA,uBAAA0Z,GAAA1Z,WAAA7L,OAAAimB,EAAA,EAAAjmB,CAAAulB,GAAA1Z,UAAA,kBAgFKmH,MAhFLhT,OAAAsmB,yBAAAf,GAAA1Z,UAAA,kBAAA0Z,GAAA1Z,WAAA0Z,IC2BegB,yGARX9P,YAAc,SAACjX,GAAD,OAAsC6S,KAAKyE,MAAMzE,KAAKC,UAAUlT,EAAK0T,UAAUtT,iEAE9Ef,GACX,OAAO,IAAI6mB,GAAS7mB,qDAvBvBsE,8EAAgD,CAC7C,CACI5C,GAAI,EACJT,IAAKqW,OACL7T,YAAa,aACb7C,QAAS,CAAC2lB,GAAYE,GAAgBE,GAAqBD,GAAgBA,KAE/E,CACIhlB,GAAI,EACJT,IAAKqW,OACL7T,YAAa,WACb7C,QAAS,CAAC2lB,GAAYC,GAAaG,GAAqBD,KAE5D,CACIhlB,GAAI,EACJT,IAAKqW,OACL7T,YAAa,eACb7C,QAAS,CAAC2lB,GAAYG,GAAgBC,GAAqBD,aCXjE/X,GAAM,ICAZ,WAMI,SAAAoZ,IAAexmB,OAAA8J,EAAA,EAAA9J,CAAAhC,KAAAwoB,GAAAxoB,KAJfmiB,SAAmDrM,OAAOC,SAASqM,SAAW,KAAOtM,OAAOC,SAASsM,KAAO,IAI9FriB,KAFdqP,gBAAuB,GAGnBrP,KAAKyoB,qBAPb,OAAAzmB,OAAA+f,EAAA,EAAA/f,CAAAwmB,EAAA,EAAA9mB,IAAA,eAAAmG,MAAA,eAAA6gB,EAAA1mB,OAAAuK,EAAA,EAAAvK,CAAAiB,EAAAhG,EAAAuP,KAAA,SAAAzJ,IAAA,IAAAoC,EAAAjD,EAAA,OAAAe,EAAAhG,EAAAiG,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAaiC4f,KAAMnH,KAAN,GAAA5V,OAAclG,KAAKmiB,SAAnB,wDAAoF,CACrGe,QAAS,CACLC,eAAgB,sDAfpC,cAAAhe,EAAAhC,EAAAyE,KAamB1F,EAbnBiD,EAamBjD,KAbnBiB,EAAAwE,OAAA,SAmBmBzF,GAnBnB,OAAAiB,EAAAC,KAAA,EAAAD,EAAAU,GAAAV,EAAA,SAqBYyL,QAAQ+Z,KAAK,4BAAbxlB,EAAAU,IArBZ,yBAAAV,EAAAW,SAAAf,EAAA/C,KAAA,qCAAA0oB,EAAA1b,MAAAhN,KAAAiN,YAAA,KAAAvL,IAAA,YAAAmG,MAAA,eAAA+gB,EAAA5mB,OAAAuK,EAAA,EAAAvK,CAAAiB,EAAAhG,EAAAuP,KAAA,SAAAY,IAAA,IAAA/H,EAAAnD,EAAA,OAAAe,EAAAhG,EAAAiG,KAAA,SAAAsK,GAAA,cAAAA,EAAApK,KAAAoK,EAAAnK,MAAA,cAAAmK,EAAApK,KAAA,EAAAoK,EAAAnK,KAAA,EA4BiC4f,KAAMnH,KAAN,GAAA5V,OAAclG,KAAKmiB,SAAnB,oDAAgF,CACjGe,QAAS,CACLC,eAAgB,sDA9BpC,cAAA9d,EAAAmI,EAAA5F,KA4BmB1F,EA5BnBmD,EA4BmBnD,KA5BnBsL,EAAA7F,OAAA,SAkCmBzF,GAlCnB,OAAAsL,EAAApK,KAAA,EAAAoK,EAAA3J,GAAA2J,EAAA,SAoCYoB,QAAQ+Z,KAAK,4BAAbnb,EAAA3J,IApCZ,yBAAA2J,EAAA1J,SAAAsJ,EAAApN,KAAA,qCAAA4oB,EAAA5b,MAAAhN,KAAAiN,YAAA,KAAAvL,IAAA,qBAAAmG,MAAA,eAAAghB,EAAA7mB,OAAAuK,EAAA,EAAAvK,CAAAiB,EAAAhG,EAAAuP,KAAA,SAAA8B,IAAA,IAAAwa,EAAArjB,EAAAvD,EAAA,OAAAe,EAAAhG,EAAAiG,KAAA,SAAAwL,GAAA,cAAAA,EAAAtL,KAAAsL,EAAArL,MAAA,cAAAqL,EAAAtL,KAAA,EA2CgB0lB,EAAc,CACd7f,OAAQ,6BA5CxByF,EAAArL,KAAA,EA+CiC4f,KAAMnH,KAAN,GAAA5V,OAAclG,KAAKmiB,SAAnB,2BAAsDniB,KAAK+oB,YAAYD,GAAS,CACjG5F,QAAS,CACLC,eAAgB,sDAjDpC,OAAA1d,EAAAiJ,EAAA9G,KA+CmB1F,EA/CnBuD,EA+CmBvD,KAMPlC,KAAKqP,gBAAkBnN,EArDnCwM,EAAArL,KAAA,gBAAAqL,EAAAtL,KAAA,EAAAsL,EAAA7K,GAAA6K,EAAA,SAuDYE,QAAQ+Z,KAAK,qCAAbja,EAAA7K,IAvDZ,yBAAA6K,EAAA5K,SAAAwK,EAAAtO,KAAA,qCAAA6oB,EAAA7b,MAAAhN,KAAAiN,YAAA,KAAAvL,IAAA,eAAAmG,MAAA,eAAAmhB,EAAAhnB,OAAAuK,EAAA,EAAAvK,CAAAiB,EAAAhG,EAAAuP,KAAA,SAAAoF,EA2DuBpO,GA3DvB,IAAAslB,EAAAjjB,EAAA3D,EAAA,OAAAe,EAAAhG,EAAAiG,KAAA,SAAA2O,GAAA,cAAAA,EAAAzO,KAAAyO,EAAAxO,MAAA,cAAAwO,EAAAzO,KAAA,EA8DgB0lB,EAAc,CACd7f,OAAQ,qBACRzF,SAAUA,GAhE1BqO,EAAAxO,KAAA,EAoEiC4f,KAAMnH,KAAN,GAAA5V,OAAclG,KAAKmiB,SAAnB,2BAAsDniB,KAAK+oB,YAAYD,GAAS,CACjG5F,QAAS,CACLC,eAAgB,sDAtEpC,cAAAtd,EAAAgM,EAAAjK,KAoEmB1F,EApEnB2D,EAoEmB3D,KApEnB2P,EAAAlK,OAAA,SA0EmBzF,GA1EnB,OAAA2P,EAAAzO,KAAA,EAAAyO,EAAAhO,GAAAgO,EAAA,SA4EYjD,QAAQ+Z,KAAK,+BAAb9W,EAAAhO,IA5EZ,yBAAAgO,EAAA/N,SAAA8N,EAAA5R,KAAA,4BAAA6M,GAAA,OAAAmc,EAAAhc,MAAAhN,KAAAiN,YAAA,KAAAvL,IAAA,gBAAAmG,MAAA,eAAAohB,EAAAjnB,OAAAuK,EAAA,EAAAvK,CAAAiB,EAAAhG,EAAAuP,KAAA,SAAA0c,IAAA,IAAAnP,EAAAlJ,EAAA3O,EAAA,OAAAe,EAAAhG,EAAAiG,KAAA,SAAAimB,GAAA,cAAAA,EAAA/lB,KAAA+lB,EAAA9lB,MAAA,cAmFY0W,EAAiC,GAnF7CoP,EAAA/lB,KAAA,EAAA+lB,EAAA9lB,KAAA,EAuFiC4f,KAAMnH,KAAN,GAAA5V,OAAclG,KAAKmiB,SAAnB,sDAAkF,CACnGe,QAAS,CACLC,eAAgB,sDAzFpC,OAAAtS,EAAAsY,EAAAvhB,KAuFmB1F,EAvFnB2O,EAuFmB3O,KAMP6X,EAAY7X,EAAK6X,UA7F7BoP,EAAA9lB,KAAA,gBAAA8lB,EAAA/lB,KAAA,EAAA+lB,EAAAtlB,GAAAslB,EAAA,SA+FYva,QAAQ+Z,KAAK,gCAAbQ,EAAAtlB,IA/FZ,eAAAslB,EAAAxhB,OAAA,SAkGeoS,GAlGf,yBAAAoP,EAAArlB,SAAAolB,EAAAlpB,KAAA,qCAAAipB,EAAAjc,MAAAhN,KAAAiN,YAAA,KAAAvL,IAAA,oBAAAmG,MAAA,eAAAuhB,EAAApnB,OAAAuK,EAAA,EAAAvK,CAAAiB,EAAAhG,EAAAuP,KAAA,SAAA6c,IAAA,IAAAtY,EAAA7O,EAAA,OAAAe,EAAAhG,EAAAiG,KAAA,SAAAomB,GAAA,cAAAA,EAAAlmB,KAAAkmB,EAAAjmB,MAAA,cAAAimB,EAAAlmB,KAAA,EAAAkmB,EAAAjmB,KAAA,EAuGiC4f,KAAMnH,KAAN,GAAA5V,OAAclG,KAAKmiB,SAAnB,2BAAsD,mCAvGvF,cAAApR,EAAAuY,EAAA1hB,KAuGmB1F,EAvGnB6O,EAuGmB7O,KAvGnBonB,EAAA3hB,OAAA,SA0GmBzF,EAAKqX,OA1GxB,OAAA+P,EAAAlmB,KAAA,EAAAkmB,EAAAzlB,GAAAylB,EAAA,SA4GY1a,QAAQC,IAAI,8BAAZya,EAAAzlB,IA5GZ,yBAAAylB,EAAAxlB,SAAAulB,EAAArpB,KAAA,qCAAAopB,EAAApc,MAAAhN,KAAAiN,YAAA,KAAAvL,IAAA,WAAAmG,MAAA,eAAA0hB,EAAAvnB,OAAAuK,EAAA,EAAAvK,CAAAiB,EAAAhG,EAAAuP,KAAA,SAAAgd,EAgHmBhmB,EAA6B+E,GAhHhD,IAAAkhB,EAAA,OAAAxmB,EAAAhG,EAAAiG,KAAA,SAAAwmB,GAAA,cAAAA,EAAAtmB,KAAAsmB,EAAArmB,MAAA,cAAAqmB,EAAAtmB,KAAA,EAkHkBqmB,EAAa,CACfxgB,OAAQ,0BACRzF,SAAUA,EACV+E,OAAQA,GArHxBmhB,EAAArmB,KAAA,EAuHyB4f,KAAMnH,KAAN,GAAA5V,OAAclG,KAAKmiB,SAAnB,8BAAAjc,OAAyDlG,KAAK+oB,YAAYU,KAvHnG,cAAAC,EAAA/hB,OAAA,SAAA+hB,EAAA9hB,MAAA,OAAA8hB,EAAAtmB,KAAA,EAAAsmB,EAAA7lB,GAAA6lB,EAAA,SA0HY9a,QAAQC,IAAI,8BAAZ6a,EAAA7lB,IA1HZ,yBAAA6lB,EAAA5lB,SAAA0lB,EAAAxpB,KAAA,4BAAA8M,EAAAC,GAAA,OAAAwc,EAAAvc,MAAAhN,KAAAiN,YAAA,KAAAvL,IAAA,OAAAmG,MAAA,eAAA8hB,EAAA3nB,OAAAuK,EAAA,EAAAvK,CAAAiB,EAAAhG,EAAAuP,KAAA,SAAAod,EA8HepmB,GA9Hf,IAAAimB,EAAA,OAAAxmB,EAAAhG,EAAAiG,KAAA,SAAA2mB,GAAA,cAAAA,EAAAzmB,KAAAymB,EAAAxmB,MAAA,cAAAwmB,EAAAzmB,KAAA,EAgIkBqmB,EAAa,CACfxgB,OAAQ,qBACRzF,SAAUA,GAlI1BqmB,EAAAxmB,KAAA,EAqIyB4f,KAAMnH,KAAN,GAAA5V,OAAclG,KAAKmiB,SAAnB,8BAAAjc,OAAyDlG,KAAK+oB,YAAYU,KArInG,cAAAI,EAAAliB,OAAA,SAAAkiB,EAAAjiB,MAAA,OAAAiiB,EAAAzmB,KAAA,EAAAymB,EAAAhmB,GAAAgmB,EAAA,SAwIYjb,QAAQC,IAAI,8BAAZgb,EAAAhmB,IAxIZ,yBAAAgmB,EAAA/lB,SAAA8lB,EAAA5pB,KAAA,4BAAAiO,GAAA,OAAA0b,EAAA3c,MAAAhN,KAAAiN,YAAA,KAAAvL,IAAA,sBAAAmG,MAAA,eAAAiiB,EAAA9nB,OAAAuK,EAAA,EAAAvK,CAAAiB,EAAAhG,EAAAuP,KAAA,SAAAud,EA4I8B/R,GA5I9B,IAAAxD,EAAAtS,EAAA,OAAAe,EAAAhG,EAAAiG,KAAA,SAAA8mB,GAAA,cAAAA,EAAA5mB,KAAA4mB,EAAA3mB,MAAA,cAAA2mB,EAAA5mB,KAAA,EAAA4mB,EAAA3mB,KAAA,EA8IiC4f,KAAMnH,KAAN,GAAA5V,OAAclG,KAAKmiB,SAAnB,+DAAAjc,OAA0F8R,IA9I3H,cAAAxD,EAAAwV,EAAApiB,KA8ImB1F,EA9InBsS,EA8ImBtS,KA9InB8nB,EAAAriB,OAAA,SA+ImBzF,EAAKsB,UA/IxB,OAAAwmB,EAAA5mB,KAAA,EAAA4mB,EAAAnmB,GAAAmmB,EAAA,SAiJYpb,QAAQC,IAAI,8BAAZmb,EAAAnmB,IAjJZ,yBAAAmmB,EAAAlmB,SAAAimB,EAAA/pB,KAAA,4BAAAkO,GAAA,OAAA4b,EAAA9c,MAAAhN,KAAAiN,YAAA,KAAAvL,IAAA,cAAAmG,MAAA,SAqJgB5K,GACR,IAAMgtB,EAAW,GAEXzjB,EAAM,SAAC0jB,EAAQC,GAEjBA,EAAU,QADVA,EAAiB,oBAANA,EAAmBA,IAAMA,GACnB,QAAWzc,IAANyc,EAAkB,GAAKA,EAC7CF,EAAEA,EAAExc,QAAU2c,mBAAmBF,GAAK,IAAME,mBAAmBD,IAiCnE,OA9BoB,SAAdE,EAAwBC,EAAaC,GACvC,IAAIC,EAAGC,EAAK/oB,EAEZ,GAAI4oB,EACA,GAAI1pB,MAAM8pB,QAAQH,GACd,IAAKC,EAAI,EAAGC,EAAMF,EAAI9c,OAAQ+c,EAAIC,EAAKD,IACnCH,EACIC,EAAS,KAAyB,kBAAXC,EAAIC,IAAmBD,EAAIC,GAAKA,EAAI,IAAM,IACjED,EAAIC,SAGT,GAAoB,oBAAhB1c,OAAOyc,GACd,IAAK7oB,KAAO6oB,EACRF,EAAYC,EAAS,IAAM5oB,EAAM,IAAK6oB,EAAI7oB,SAG9C8E,EAAI8jB,EAAQC,QAEb,GAAI3pB,MAAM8pB,QAAQH,GACrB,IAAKC,EAAI,EAAGC,EAAMF,EAAI9c,OAAQ+c,EAAIC,EAAKD,IACnChkB,EAAI+jB,EAAIC,GAAG5f,KAAM2f,EAAIC,GAAG3iB,YAG5B,IAAKnG,KAAO6oB,EACRF,EAAY3oB,EAAK6oB,EAAI7oB,IAG7B,OAAOuoB,EAGJI,CAAY,GAAIptB,GAAGqU,KAAK,SA5LvCkX,EAAA,IDCM5Y,GAAgB,IAAI+a,GACpBrmB,GAAU,IAAI4R,GAAQ9G,IAItBwb,GAAS,CACXrnB,cAJkB,IAAIwV,GAAcnJ,GAAetL,GAAS8K,IAK5D9K,WACA8gB,UAJc,IAAIlK,GADI,qDEdtBiH,SAAmDrM,OAAOC,SAASqM,SAAW,KAAOtM,OAAOC,SAASsM,KAAO,SAE5G/G,2BAAQ,SAAAvY,IAAA,IAAAsC,EAAAnD,EAAA,OAAAe,EAAAhG,EAAAiG,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACiB4f,KAAMnH,KAAN,GAAA5V,OAAc9E,EAAK+gB,SAAnB,wDAAoF,CACrGe,QAAS,CACLC,eAAgB,sDAHpB,cAAA9d,EAAAlC,EAAAyE,KACG1F,EADHmD,EACGnD,KADHiB,EAAAwE,OAAA,SAOGzF,GAPH,wBAAAiB,EAAAW,SAAAf,QFkBR6M,iBACAR,QAQJyb,IAASC,OACL9tB,EAAAC,EAAAC,cAAC6tB,GAAA,iBAAD,CAAkBC,iBAAiB,EACjBC,aAAc,CACVC,SAAU,MACVC,WAAY,UAE9BnuB,EAAAC,EAAAC,cAACkuB,EAAA,EAAaR,GACV5tB,EAAAC,EAAAC,cAACmuB,GAAD,QAGN5rB,SAASiB,eAAe,SrB6FxB,kBAAmB4qB,WACrBA,UAAUC,cAAcC,MAAMC,KAAK,SAAAC,GACjCA,EAAaC","file":"static/js/main.8fab0d6f.chunk.js","sourcesContent":["import i18n from \"i18next\";\nimport Backend from 'i18next-xhr-backend';\n\nconst locale = i18n\n    .use(Backend)\n    .init({\n        backend: {\n            loadPath: process.env.NODE_ENV !== 'production' ? '/locales/{{lng}}.json' : '/wp-content/plugins/wp-campaigns/locales/{{lng}}.json'\n        },\n        lng: \"en_US\",\n        interpolation: {\n            escapeValue: false\n        }\n    });\n\nexport default locale;\n","import styled from \"styled-components\";\nimport React from \"react\";\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome'\n\nconst WidgetControlStyled = styled.div`\n    max-width: 600px;\n    margin: 10px auto;\n    position: relative;\n    border: 2px solid transparent;\n    :hover{\n      border-color: #4f504f;    \n    }\n    &.selected{\n      border-color: #4f504f;    \n    }\n    .actions{\n        text-align: right;\n        display: flex;\n        justify-content: flex-end;\n        opacity: 0;\n        position: absolute;\n        width: 100%;\n        background: #000000c2;\n        color: #fff;\n        z-index: 1;\n    }\n    i{\n        margin: 8px 4px;\n    border-left: 2px solid #9e9e9e;\n    padding-left: 11px;\n    padding-right: 7px;\n    line-height: 30px;\n    cursor: pointer;\n    svg{\n        margin: 6px 4px;\n    }\n    :last-child{\n        border-right: none;\n    }\n    :first-child{\n        border-left: none;\n    }\n    }\n    \n    &.selected,\n    :hover{\n        .actions{\n            opacity: 1;\n        }\n    }\n`;\n\n\nconst WidgetControl = (props: any) => {\n    return (\n        <WidgetControlStyled className={props.selected ? 'selected' : ''}>\n            <div className=\"actions\">\n                <i onClick={props.onEdit}> <FontAwesomeIcon icon=\"pencil-alt\"/> </i>\n                <i onClick={props.onAdd}> <FontAwesomeIcon icon=\"plus-square\"/> </i>\n                <i onClick={props.onDelete}> <FontAwesomeIcon icon=\"trash-alt\"/> </i>\n            </div>\n            <div className=\"template\">\n                {props.children}\n            </div>\n        </WidgetControlStyled>\n    );\n};\n\nexport default WidgetControl;\n\n","import styled from \"styled-components\";\n\nexport const Flex = styled.div`\n      display:flex;\n      flex:1;\n      \n`;\n\nexport const FlexMinHeightContent = styled(Flex)`\nmin-height: -webkit-min-content;\n`;\n\nexport const FlexCenter = styled(Flex)`\n    align-items: center;\n    justify-content: center;\n`;\n\nexport const FlexColumn = styled(Flex)`\n  flex-direction: column;\n`;\n\nexport const FlexColumnCenter = styled(FlexCenter)`\nflex-direction: column;\n`;\n\nexport const FlexAutoScroll = styled(Flex)`\n overflow: auto;\n`;\n\nexport const ScrollableRelativeStyled = styled.div`\n    position: relative;\n    flex: 1;\n`;\n\nexport const ScrollableStyled = styled.div`\n    position: absolute;\n    left: 0;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    overflow: auto;\n    font-family: Arial,Helvetica Neue,Helvetica,sans-serif;\n`;\nexport const ScrollableCenterContentStyled = styled(ScrollableStyled)`\n    //align-items: center;\n    //justify-content: center;\n    display: flex;\n\n`;\n\n\n// ======\n\n\n\n","import styled from \"styled-components\";\nimport React from \"react\";\nimport WidgetControl from \"./WidgetControl\";\nimport {inject, observer} from \"mobx-react\";\nimport Widget from \"../stores/Widget\";\nimport {\n    FlexAutoScroll,\n    FlexMinHeightContent,\n    FlexColumnCenter,\n} from \"./StyleComponents\";\nimport ElementorTemplate from \"./ElementorTemplate\";\n\n\nconst juice = require('juice');\n\nconst CampaignTemplateStyled = styled(FlexAutoScroll)`\n    transition: transform 500ms ease 150ms;\n    transform: translate(${\n    (props: any) => {\n        return props.isOpen ? '0' : '-300px'\n    }\n    });\n`;\n\n\n@inject('campaignStore')\n@inject('uiStore')\n@observer\nclass CampaignTemplate extends React.Component<any, any> {\n\n    static whyDidYouRender = true;\n\n    htmlToString(who: any, deep: boolean): string {\n        if (!who || !who.tagName) {\n            return '';\n        }\n        let txt, ax, el: HTMLDivElement | null = document.createElement('div');\n        const clone = who.cloneNode(true);\n        el.appendChild(clone);\n        txt = el.innerHTML;\n        if (deep) {\n            ax = txt.indexOf('>') + 1;\n            txt = txt.substring(0, ax) + who.innerHTML + txt.substring(ax);\n        }\n        el = null;\n        return (txt);\n    }\n\n    componentWillUnmount(): void {\n        this.updateHtml();\n    }\n\n    // need to be in service\n    updateHtml() {\n        const html = document.createElement('html');\n        const head = document.createElement('head');\n        const body = document.createElement('body');\n        const content = document.createElement('div');\n        const linkToArchiveWrapper = document.createElement('div');\n        const style = document.querySelector('style[data-styled]');\n        const template = document.getElementById('template');\n\n        if (style) {\n            const cloneCss: any = style.cloneNode(true);\n            cloneCss.innerHTML = '/* sc-component-id: sc-bdVaJa */ .iLWcyK{max-width:600px;margin:10px auto;position:relative;border:2px solid transparent;} .iLWcyK:hover{border-color:#4f504f;} .iLWcyK.selected{border-color:#4f504f;} .iLWcyK .actions{text-align:right;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;opacity:0;position:absolute;width:100%;background:#000000c2;color:#fff;z-index:1;} .iLWcyK i{margin:8px 4px;border-left:2px solid #9e9e9e;padding-left:11px;padding-right:7px;line-height:30px;cursor:pointer;} .iLWcyK i svg{margin:6px 4px;} .iLWcyK i:last-child{border-right:none;} .iLWcyK i:first-child{border-left:none;} .iLWcyK.selected .actions,.iLWcyK:hover .actions{opacity:1;} /* sc-component-id: sc-bwzfXH */ /* sc-component-id: sc-htpNat */ .iJQKwy{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:1;-ms-flex:1;flex:1;min-height:-webkit-min-content;} /* sc-component-id: sc-bxivhb */ /* sc-component-id: sc-ifAKCX */ /* sc-component-id: sc-EHOje */ .gLTVQq{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:1;-ms-flex:1;flex:1;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;} /* sc-component-id: sc-bZQynM */ .gDjquy{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:1;-ms-flex:1;flex:1;overflow:auto;} /* sc-component-id: sc-gzVnrw */ /* sc-component-id: sc-htoDjs */ /* sc-component-id: sc-dnqmqq */ /* sc-component-id: sc-iwsKbI */ .ioquTM{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:1;-ms-flex:1;flex:1;overflow:auto;-webkit-transition:-webkit-transform 500ms ease 150ms;-webkit-transition:transform 500ms ease 150ms;transition:transform 500ms ease 150ms;-webkit-transform:translate(-300px);-ms-transform:translate(-300px);transform:translate(-300px);} /* sc-component-id: sc-gZMcBi */ .hNwQYP{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:1;-ms-flex:1;flex:1;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-flex:1;-ms-flex:1;flex:1;max-width:600px;border-right:1px solid #282c34;position:relative;-webkit-transition:-webkit-transform 500ms ease;-webkit-transition:transform 500ms ease;transition:transform 500ms ease;-webkit-transform:translate(-100%);-ms-transform:translate(-100%);transform:translate(-100%);} .hNwQYP header{-webkit-flex:1;-ms-flex:1;flex:1;max-height:60px;background:#282c34;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;color:white;} .hNwQYP header span{-webkit-flex:1;-ms-flex:1;flex:1;} .hNwQYP header button{position:relative;left:25px;background:transparent;border:none;color:white;cursor:pointer;padding:10px;font-size:17px;} .hNwQYP main{-webkit-flex:1;-ms-flex:1;flex:1;padding:20px;} .hNwQYP footer{-webkit-flex:1;-ms-flex:1;flex:1;max-height:60px;border-top:1px solid #282c34;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;padding-right:10px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;} .hNwQYP footer button{margin:10px;} .hNwQYP .fields-wrapper{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;} /* sc-component-id: sc-gqjmRU */ .hTnvgW{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:1;-ms-flex:1;flex:1;max-height:80px;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;background:#282c34;color:white;} .hTnvgW ul{list-style:none;margin:30px;} .hTnvgW ul li{display:inline-block;margin:0 10px;cursor:pointer;} .hTnvgW svg{margin-left:14px;margin-right:0;} /* sc-component-id: sc-VigVT */ .eqyCgV{color:white;}.hJDcAA{color:#989898ab;} /* sc-component-id: sc-jTzLTM */ .kBpHBG{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:1;-ms-flex:1;flex:1;} /* sc-component-id: sc-fjdhpX */ /* sc-component-id: sc-jzJRlG */ /* sc-component-id: sc-cSHVUG */ /* sc-component-id: sc-kAzzGY */ /* sc-component-id: sc-chPdSV */ /* sc-component-id: sc-kgoBCf */ .jDrawq{position:fixed;right:0;left:0;bottom:0;top:0;background:#ffffff78;z-index:100;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;font-size:30px;} /* sc-component-id: sc-kGXeez */ .dxpcOG{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:1;-ms-flex:1;flex:1;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:100%;max-width:700px;margin:0 auto;border-radius:3px;background:white;} .dxpcOG h1{margin:0;padding:19px 15px 10px;font-size:28px;font-weight:500;text-align:center;} .dxpcOG h3{margin-top:0;font-weight:500;text-align:center;color:rgba(0,0,0,.54);margin-bottom:53px;font-size:16px;} .dxpcOG h4{font-size:17px;font-weight:500;text-align:left;} .dxpcOG form{padding:0 40px 40px;} .dxpcOG ul{padding:0 23px;} /* sc-component-id: sc-kpOJdX */ .fYJAtH{padding:0;margin-bottom:30px;list-style-type:decimal;text-align:left;} /* sc-component-id: sc-dxgOiQ */ .lkfsfZ{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:1;-ms-flex:1;flex:1;font-family:Arial,Helvetica Neue,Helvetica,sans-serif;max-width:600px;margin:0px auto;background-color:transparent;padding:14px;} .lkfsfZ a{-webkit-text-decoration:none;text-decoration:none;color:black;} .lkfsfZ img{max-width:560px;}.keQoqO{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:1;-ms-flex:1;flex:1;font-family:Arial,Helvetica Neue,Helvetica,sans-serif;max-width:600px;margin:0px auto;background-color:#f0f0f0;padding:14px;} .keQoqO a{-webkit-text-decoration:none;text-decoration:none;color:black;} .keQoqO img{max-width:277px;} /* sc-component-id: sc-ckVGcZ */ .EeDxP{font-family:Arial,Helvetica Neue,Helvetica,sans-serif;text-align:right;float:none;width:100%;} .EeDxP td.text{padding-right:0;} .EeDxP td.text h3{margin-top:0;}.ioRzOG{font-family:Arial,Helvetica Neue,Helvetica,sans-serif;text-align:right;float:right;width:50%;} .ioRzOG td.text{padding-right:10px;} .ioRzOG td.text h3{margin-top:0;} /* sc-component-id: sc-jKJlTe */ .gdGwfl{text-align:center;font-family:Arial,Helvetica Neue,Helvetica,sans-serif;} .gdGwfl img{max-width:100px;} /* sc-component-id: sc-eNQAEJ */ .fEyOGn{font-family:Arial,Helvetica Neue,Helvetica,sans-serif;} .fEyOGn ul{text-align:center;margin:0;list-style:none;-webkit-flex:1;-ms-flex:1;flex:1;max-width:600px;border-bottom:1px solid #9e1c34;border-top:1px solid #9e1c34;padding:10px 0;} .fEyOGn ul li{display:inline-block;} .fEyOGn ul li a{-webkit-text-decoration:none;text-decoration:none;} .fEyOGn ul li span{display:inline-block;margin:0 6px;} /* sc-component-id: sc-hMqMXs */ /* sc-component-id: sc-kEYyzF */ /* sc-component-id: sc-kkGfuU */ /* sc-component-id: sc-iAyFgw */ /* sc-component-id: sc-hSdWYo */';\n            head.appendChild(cloneCss);\n        }\n\n        linkToArchiveWrapper.innerHTML = '<div style=\"text-align: center\"><a href=\"*|ARCHIVE|*\" style=\"font-size: 12px; color:#bdbcbc\">View this email in your browser</a></div>';\n        content.appendChild(linkToArchiveWrapper);\n\n        if (template) {\n            template.className = '';\n            content.innerHTML = template.innerHTML;\n            Array.from(content.querySelectorAll('.actions')).forEach(node => node.remove());\n        }\n\n        html.appendChild(head);\n        body.appendChild(content);\n        html.appendChild(body);\n\n        // delete all .actions buttons\n\n\n        const result = juice(this.htmlToString(html, false));\n\n\n        if (process.env.NODE_ENV !== 'production') {\n            console.log(result);\n        }\n\n        this.props.updateHtml((result));\n    }\n\n    // computedStyleToInlineStyle($0, {\n//     recursive: true,\n//     properties: style.match(/\\{([a-z\\-\\,\\.\\d\\:\\\\#;\\%\\s])+\\}/gi).reduce((acc,item)=>{\n//\n//         return acc.concat(item.replace(/{|}/g, '').split(';').map(rule => rule.split(':')[0]).filter(e=>e));\n//     },[])\n// });\n\n    // computedStyleToInlineStyle(element: any, options: any) {\n    //     const each = Array.prototype.forEach;\n    //     if (!element) {\n    //         throw new Error(\"No element specified.\");\n    //     }\n    //\n    //     if (!options) {\n    //         options = {};\n    //     }\n    //\n    //     if (options.recursive) {\n    //         each.call(element.children, function (child) {\n    //             computedStyleToInlineStyle(child, options);\n    //         });\n    //     }\n    //\n    //     const computedStyle = getComputedStyle(element);\n    //     each.call(options.properties || computedStyle, function (property) {\n    //         element.style[property] = computedStyle.getPropertyValue(property);\n    //     });\n    // }\n\n    render(): React.ReactElement<any, string | React.JSXElementConstructor<any>> | string | number | {} | React.ReactNodeArray | React.ReactPortal | boolean | null | undefined {\n\n        const widgets = this.props.widgets.map((widget: Widget, index: number) => (\n            <WidgetControl key={widget.key}\n                           selected={widget.isSelected}\n                           onEdit={() => this.props.widgetEditHandler(index)}\n                           onAdd={() => this.props.widgetAddHandler(widget, index)}\n                           onDelete={() => this.props.widgetDeleteHandler(index)}>\n                {widget.renderTemplate({...this.props, data: widget.data})}\n            </WidgetControl>\n        ));\n\n        return (\n            <CampaignTemplateStyled {...this.props}>\n                <FlexMinHeightContent {...this.props}>\n                    <FlexColumnCenter {...this.props}>\n                        <div id='template'>\n                            {/*<ElementorTemplate/>*/}\n                            {widgets}\n                        </div>\n                    </FlexColumnCenter>\n                </FlexMinHeightContent>\n            </CampaignTemplateStyled>\n        );\n    }\n}\n\nexport default CampaignTemplate;\n","import styled from \"styled-components\";\nimport React from \"react\";\nimport {Flex} from \"./StyleComponents\";\nimport Button from '@material-ui/core/Button';\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {inject, observer} from \"mobx-react\";\nimport {observable} from \"mobx\";\nimport Widget from \"../stores/Widget\";\nimport {withSnackbar} from \"notistack\";\nimport i18n from \"i18next\";\n\nconst EditorWrapperStyled = styled(Flex)`\n    flex-direction: column;\n    flex:1;\n    max-width:600px;\n    border-right:1px solid #282c34;\n    position: relative;\n    transition: transform 500ms ease;\n    transform: translate(${\n    (props: any) => {\n        return props.isOpen ? '0' : '-100%'\n    }\n    });\n    header{\n          flex:1; \n          max-height: 60px; \n          background: #282c34;\n          align-items: center;\n          //justify-content: center;\n          display: flex;\n          color: white;\n      span{\n          flex: 1;\n      }\n      button{\n        position: relative;\n        left: 25px;\n        background: transparent;\n        border: none;\n        color: white;\n        cursor: pointer;\n        padding: 10px;\n        font-size: 17px;\n      }\n  };\n    main{\n      flex:1;\n      padding:20px;\n    };\n    footer{\n        flex:1;\n        max-height: 60px;\n        border-top:1px solid #282c34;\n        justify-content: flex-end;\n        padding-right: 10px;\n        display: flex;\n        align-items: center;\n        button{\n        margin: 10px;\n        }\n    };\n    .fields-wrapper{\n        display: flex;\n        flex-direction: column;\n        align-items: flex-start;\n    }\n`;\n\n@inject('uiStore', 'campaignStore')\n@observer\nclass EditorWrapper extends React.Component<any, any> {\n\n    @observable loading: boolean = false;\n\n    @observable dataChanged = false;\n\n    onUpdateData = (widgetDateKey: string, data: any) => {\n        this.dataChanged = true;\n        this.props.updateData(widgetDateKey, data);\n    };\n\n    save = async () => {\n        this.loading = true;\n\n        try {\n            await this.props.campaignStore.campaign.save();\n            const key = this.props.enqueueSnackbar('Saving successful', {variant: 'success'});\n            setTimeout(() => this.props.closeSnackbar(key), 1500);\n        } catch (e) {\n            const key = this.props.enqueueSnackbar('Error', {variant: 'error'});\n            setTimeout(() => this.props.closeSnackbar(key), 1500);\n        }\n\n        this.dataChanged = false;\n        this.loading = false;\n    };\n\n    render(): React.ReactElement<any, string | React.JSXElementConstructor<any>> | string | number | {} | React.ReactNodeArray | React.ReactPortal | boolean | null | undefined {\n\n        const widget: Widget = this.props.campaignStore.campaign.template.selectedWidget;\n\n        return (\n            <EditorWrapperStyled {...this.props}>\n                <header>\n                    <button onClick={this.props.resetWidgetSelected}>\n                        <FontAwesomeIcon icon=\"chevron-left\"/>\n                    </button>\n                    <span>{widget && widget.config.displayName} {i18n.t('edit')}</span>\n                </header>\n                <main>\n                    {widget && widget.renderEditor({\n                        onUpdateData: this.onUpdateData,\n                        widget,\n                    })}\n                </main>\n                <footer dir={this.props.uiStore.dir}>\n                    <Button variant=\"outlined\"\n                            onClick={this.props.campaignStore.campaign.template.resetWidgetSelected}>\n                        {i18n.t('cancel')}\n                    </Button>\n                    <Button\n                        color=\"primary\"\n                        variant=\"contained\"\n                        disabled={(this.loading || !this.dataChanged)}\n                        onClick={this.save}>\n                        {this.loading && (\n                            <img\n                                alt='loading'\n                                src={process.env.NODE_ENV !== 'production' ? '/images/Dual_Ring-1s-200px-blue.svg' : '/wp-content/plugins/wp-campaigns/admin/partials/build/images/Dual_Ring-1s-200px-blue.svg'}\n                                width=\"20px\"\n                                height=\"20px\" style={{marginRight: 10}}/>)}\n                        {this.loading ? i18n.t('saving') : i18n.t('save')}\n                    </Button>\n                </footer>\n            </EditorWrapperStyled>\n        );\n    }\n}\n\n\nexport default withSnackbar(EditorWrapper);\n","import styled from \"styled-components\";\nimport React from \"react\";\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome'\nimport {Flex} from \"./StyleComponents\";\nimport {inject, observer} from \"mobx-react\";\nimport i18n from \"i18next\";\n\nconst StepperStyled = styled(Flex)`\n    max-height:80px;\n    align-items: center;\n    justify-content: center;\n    background:#282c34;\n    color: white;\n    ul{\n        list-style: none;\n            margin: 30px;\n        li{\n          display:inline-block;\n          margin:0 10px;\n          cursor: pointer;\n        }\n    }\n    \n    svg{\n        margin-left: ${({uiStore}: any) => uiStore.isRTL ? '0' : '14px'};\n        margin-right: ${({uiStore}: any) => uiStore.isRTL ? '14px' : '0'};\n    }\n`;\n\nconst LiStyled = styled.li`\n    color: ${({uiStore, step}: any) => uiStore.stepperState < step ? \"#989898ab\" : 'white'};\n`;\n\nconst LiStyledObserver = observer(({isRTL, ...props}) => (\n    <LiStyled {...props} isRTL={isRTL}>{props.children}</LiStyled>));\n\nconst Stepper = inject(\"uiStore\")(observer((props: any) => {\n\n    const iconName: any = `chevron-${props.uiStore.isRTL ? 'left' : 'right'}`;\n    return (\n        <StepperStyled {...props}\n                       data={props.uiStore.stepperState}\n                       dir={props.uiStore.dir}>\n            <ul>\n                <LiStyledObserver {...props}\n                                  step='1'\n                                  isRTL={props.uiStore.isRTL}\n                                  onClick={() => props.setStep(1)}>\n                    {i18n.t(\"Campaign config\")}\n                    <FontAwesomeIcon icon={iconName}/>\n                </LiStyledObserver>\n                <LiStyledObserver {...props}\n                                  step='2'\n                                  isRTL={props.uiStore.isRTL}\n                                  onClick={() => props.setStep(2)}>\n                    {i18n.t(\"Edit template\")}\n                    <FontAwesomeIcon icon={iconName}/>\n                </LiStyledObserver>\n                <LiStyledObserver {...props}\n                                  step='3'\n                                  isRTL={props.uiStore.isRTL}\n                                  onClick={() => props.setStep(3)}>\n                    {i18n.t(\"Sending\")}\n                </LiStyledObserver>\n            </ul>\n        </StepperStyled>\n    );\n}));\n\nexport default Stepper;\n\n","import React from \"react\";\nimport {FlexAutoScroll} from \"./StyleComponents\";\nimport {inject, observer} from \"mobx-react\";\n\nconst StepperContent = inject(\"uiStore\")(observer(({children, uiStore, step, ...othersProps}: any) => {\n    return step === uiStore.stepperState ?\n        (<FlexAutoScroll {...othersProps}>\n            {React.cloneElement(children, othersProps)}\n        </FlexAutoScroll>)\n        : null;\n}));\n\nexport default StepperContent;\n","import { library } from '@fortawesome/fontawesome-svg-core'\nimport { faChevronLeft,faChevronRight,faPencilAlt,faPlusSquare,faTrashAlt,faTimes } from '@fortawesome/free-solid-svg-icons'\n\nlibrary.add(\n    faChevronLeft,\n    faChevronRight,\n    faPencilAlt,\n    faPlusSquare,\n    faTrashAlt,\n    faTimes\n);\n","import styled from \"styled-components\";\nimport React from \"react\";\nimport {Flex} from \"../components/StyleComponents\";\nimport {inject, observer} from \"mobx-react\";\nimport Widget from \"../stores/Widget\";\nimport {observable} from \"mobx\";\n\nconst CampaignTemplateWrapperStyled = styled(Flex)``;\n\n@inject('campaignStore')\n@observer\nclass CampaignTemplateWrapper extends React.Component<any, any> {\n\n    @observable isSaveButtonDisable = true;\n\n    onWidgetEditHandler = (widgetIndex: number) => {\n        this.props.campaignStore.setWidgetSelected(widgetIndex);\n    };\n\n    onWidgetDeleteHandler = (widgetIndex: number) => {\n        this.props.campaignStore.campaign.template.deleteWidget(widgetIndex);\n    };\n\n    onWidgetAddHandler = (widget: Widget, index: number) => {\n        this.props.campaignStore.campaign.template.addWidget(widget.config.type, index);\n    };\n\n    resetWidgetSelected = () => {\n        this.props.campaignStore.setWidgetSelected(null);\n    };\n\n    save = async () => {\n        this.isSaveButtonDisable = true;\n        return await this.props.campaignStore.save();\n    };\n\n    updateData = (key: string, value: any) => {\n        this.isSaveButtonDisable = false;\n        if (this.props.campaignStore.campaign.selectedWidget) {\n            this.props.campaignStore.campaign.selectedWidget.data[key] = value;\n        }\n    };\n\n    updateHtml = (html: string) => {\n        this.props.campaignStore.campaign.setHtml(html);\n    }\n\n    render(): React.ReactElement<any, string | React.JSXElementConstructor<any>> | string | number | {} | React.ReactNodeArray | React.ReactPortal | boolean | null | undefined {\n        const childrenWithProps = React.Children.map(this.props.children, (child: any) => {\n            return React.cloneElement(child, {\n                props: this.props,\n                isSaveButtonDisable: this.isSaveButtonDisable,\n                widgetEditHandler: this.onWidgetEditHandler,\n                widgetDeleteHandler: this.onWidgetDeleteHandler,\n                widgetAddHandler: this.onWidgetAddHandler,\n                resetWidgetSelected: this.resetWidgetSelected,\n                save: this.save,\n                updateData: this.updateData,\n                widget: this.props.campaignStore.campaign.selectedWidget,\n                widgets: this.props.campaignStore.campaign.template.widgets,\n                isOpen: this.props.campaignStore.isWidgetSelected,\n                updateHtml: this.updateHtml\n            })\n        });\n\n        return (\n            <CampaignTemplateWrapperStyled {...this.props}>\n                {childrenWithProps}\n            </CampaignTemplateWrapperStyled>\n        );\n    }\n}\n\nexport default CampaignTemplateWrapper;\n\n","import * as Yup from \"yup\";\n\nconst sendingSchema = Yup\n    .object()\n    .shape({\n        emails: Yup\n            .array()\n            .of(Yup.string().email())\n    });\n\nexport default sendingSchema;\n","import styled from \"styled-components\";\nimport React, {useEffect, useState} from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\nimport {Button, TextField} from \"@material-ui/core\";\nimport Modal from \"@material-ui/core/Modal\";\nimport i18n from \"i18next\";\n\nconst ModalContentStyled = styled.div`\n    outline: none;\n    padding: 32px;\n    position: absolute;\n    box-shadow: 0px 3px 5px -1px rgba(0,0,0,0.2), 0px 5px 8px 0px rgba(0,0,0,0.14), 0px 1px 14px 0px rgba(0,0,0,0.12);\n    background-color: #fff;\n        top: 50%;\n    left: 48%;\n    transform: translate(-50%, -48%);\n`;\nconst ConfirmMessageStyled = styled.div`\n    margin-top: 25px;\n    font-size: 14px;\n    color: #241c15;\n    font-weight: 500;\n`;\n\nfunction SendingToListModal({isOpenModal, handleClose, action}: any) {\n\n    const [type, setType] = useState('');\n    const [loading, setLoading] = useState(false);\n\n    useEffect(() => {\n        return () => {\n            setLoading(false);\n            setType('');\n        };\n    },[isOpenModal]);\n\n    return (\n        <Modal\n            aria-labelledby=\"simple-modal-title\"\n            aria-describedby=\"simple-modal-description\"\n            open={isOpenModal}\n            onClose={handleClose}\n        >\n            <ModalContentStyled>\n                <Typography variant=\"h6\" id=\"modal-title\">\n                    {i18n.t(\"Let's spread the news.\")}\n                </Typography>\n                <Typography variant=\"subtitle1\" id=\"simple-modal-description\">\n                    {i18n.t(\"You're going to send to the list, you approve?\")}\n                </Typography>\n\n                <ConfirmMessageStyled>\n                    {i18n.t(\"Type SEND to confirm\")}\n                </ConfirmMessageStyled>\n                <TextField\n                    fullWidth\n                    margin=\"normal\"\n                    variant=\"outlined\"\n                    value={type}\n                    disabled={loading}\n                    onChange={(event: any) => setType(event.target.value)}\n                    type='text'\n                />\n                <div style={{marginTop: '20px'}}>\n                    <Button variant=\"contained\" color=\"primary\" disabled={type !== 'SEND' || loading} onClick={() => {\n                        setLoading(true);\n                        action();\n                    }}>\n                        {loading && (\n                            <img\n                                alt='loading'\n                                src={process.env.NODE_ENV !== 'production'?'/images/Dual_Ring-1s-200px-blue.svg':'/wp-content/plugins/wp-campaigns/admin/partials/build/images/Dual_Ring-1s-200px-blue.svg'}\n                                width=\"20px\"\n                                height=\"20px\" style={{marginRight: 10}}/>)}\n                        {loading ? i18n.t('Sending ...') : i18n.t('SEND')}\n                    </Button>\n                    <Button onClick={handleClose}>cancel</Button>\n                </div>\n            </ModalContentStyled>\n        </Modal>\n    )\n}\n\nexport default SendingToListModal;\n","import * as Yup from \"yup\";\nimport i18n from \"i18next\";\n\nconst getConfigSchema = function(){\n    return Yup\n        .object()\n        .shape({\n            mailchimpListId: Yup\n                .string()\n                .required(i18n.t('Choose mailchimp campaign id is required')),\n            templateId: Yup\n                .number()\n                .required(i18n.t('Choose template is required')),\n            name: Yup\n                .string()\n                .test(\n                    'name',\n                    \"Only a-z, A-Z, space char, 0-9 , , . - _ ! @ # $ % & * : ; \\\"  ' | < > ? + = ( ) / \\\\ ? . , ] [ , min 4 chars, max 70 chars\",\n                    value => /^[a-zA-Z0-9,.-_!@#$%&*:;\"'|<>?+=()/?.,\\]\\[}{\\s]{5,70}$/.test(value),\n                )\n                .required(i18n.t('Name field is required')),\n            mailServiceFields: Yup\n                .object()\n                .shape({\n                    preview: Yup\n                        .string()\n                        .test(\n                            'preview',\n                            \"Only a-z, A-Z, space char, 0-9 , , . - _ ! @ # $ % & * : ; \\\"  ' | < > ? + = ( ) / \\\\ ? . , ] [ , min 4 chars, max 70 chars\",\n                            value => /^[a-zA-Z0-9,.-_!@#$%&*:;\"'|<>?+=()/?.,\\]\\[}{\\s]{5,70}$/.test(value),\n                        )\n                        .required(i18n.t('Preview field is required')),\n                    title: Yup\n                        .string()\n                        .test(\n                            'title',\n                            \"Only a-z, A-Z, space char, 0-9 , , . - _ ! @ # $ % & * : ; \\\"  ' | < > ? + = ( ) / \\\\ ? . , ] [ , min 4 chars, max 70 chars\",\n                            value => /^[a-zA-Z0-9,.-_!@#$%&*:;\"'|<>?+=()/?.,\\]\\[}{\\s]{5,70}$/.test(value),\n                        )\n                        .required(i18n.t('Title field is required')),\n                    from: Yup\n                        .string()\n                        .required(i18n.t('From is required')),\n                    replayTo: Yup\n                        .string()\n                        .email(i18n.t('Invalid pattern email'))\n                        .required(i18n.t('Replay to is required')),\n                    subjectLine: Yup\n                        .string()\n                        .test(\n                            'subjectLine',\n                            \"Only a-z, A-Z, space char, 0-9 , , . - _ ! @ # $ % & * : ; \\\"  ' | < > ? + = ( ) / \\\\ ? . , ] [ , min 4 chars, max 70 chars\",\n                            value => /^[a-zA-Z0-9,.-_!@#$%&*:;\"'|<>?+=()/?.,\\]\\[}{\\s]{5,70}$/.test(value),\n                        )\n                        .required(i18n.t('Subject line is required')),\n                })\n\n        });\n}\n\nexport default getConfigSchema;\n","import styled from \"styled-components\";\nimport React from \"react\";\nimport {Flex, FlexColumnCenter, FlexMinHeightContent, FlexAutoScroll} from \"./StyleComponents\";\nimport {\n    Button,\n    TextField\n} from \"@material-ui/core\";\nimport {inject, observer} from \"mobx-react\";\nimport {Formik} from \"formik\";\nimport {debounce} from \"ts-debounce\";\nimport sendingSchema from \"../validation-schemas/sending-schema\";\nimport {action, observable} from \"mobx\";\nimport {withSnackbar} from \"notistack\";\nimport SendingToListModal from \"./SendingToListModal\";\nimport getConfigSchema from \"../validation-schemas/config-schema\";\nimport i18n from \"i18next\";\n\nconst SendingFormWrapperStyled = styled.section`\n        width: 700px;\n    margin: 0 auto;\n    display: block;\n    border-radius: 3px;\n    /* box-shadow: 0 3px 1px -2px rgba(0,0,0,.2), 0 2px 2px 0 rgba(0,0,0,.14), 0 1px 5px 0 rgba(0,0,0,.12); */\n    background: white;\n    //border: 1px solid #eeeeee;\n    \n    h1{\n        margin: 0;\n    padding: 19px 15px 10px;\n    font-size: 28px;\n    font-weight: 500;\n    text-align: center;\n    }\n    h3{\n    margin-top: 0;\n    font-weight: 500;\n    text-align: center;\n    color: rgba(0,0,0,.54);\n    margin-bottom: 53px;\n    font-size: 16px;\n    }\n    \n    h4{\n      font-size: 19px;\n      font-weight: 500;\n      text-align: ${(props: any) => props.uiStore.isRTL ? 'right' : 'left'};\n    }\n    \n    form{\n         padding:  0 40px 40px;\n    }\n    \n    button{\n        margin-top: 20px;\n        height: 36px;\n        margin-left: ${(props: any) => props.uiStore.isRTL ? '0' : '16px'};\n        margin-right: ${(props: any) => props.uiStore.isRTL ? '16px' : '0'};\n    }\n`;\nconst SendToAllWrapper = styled.div`\n  opacity: ${(props: any) => props.disableSendToAll ? '0.3' : '1'};\n  text-align: ${(props: any) => props.uiStore.isRTL ? 'right' : 'left'};\n`;\nconst UlStyled = styled.ul`\n    list-style: decimal;\n    text-align: ${({uiStore}: any) => uiStore.textAlign};\n    color: #ff5c5c;\n    padding: 0 61px 0;\n    a{\n    color: black;\n    }\n`;\n\n@inject(\"templateStore\", \"campaignStore\", \"uiStore\", 'api')\n@observer\nclass Sending extends React.Component<any, any> {\n\n    @observable loading: boolean = false;\n\n    @observable isOpenModal: boolean = false;\n\n    constructor(props: any) {\n        super(props);\n\n        this.state = {\n            emails: [],\n        }\n    }\n\n    onUpdate = async (field: string, value: any, setFieldTouched: any) => {\n        this.setState({[field]: value});\n        setFieldTouched(field, true, true);\n    };\n\n    onUpdateDebounced = debounce(this.onUpdate, 400);\n\n    onChange = async (event: any, setFieldValue: any, setFieldTouched: any, debounce = true) => {\n        let {name, value} = event.target;\n\n        value = value.split(',').map(Function.prototype.call, String.prototype.trim);\n\n        setFieldValue(name, value);\n\n        if (debounce) {\n            event.persist();\n            this.onUpdateDebounced(name, value, setFieldTouched);\n        }\n    };\n\n    setFieldTouched = (event: any, setFieldTouched: any) => {\n        const {name} = event.target;\n        setFieldTouched(name, true, true);\n    };\n\n    @action sendTest = async (emails: []) => {\n        this.loading = true;\n\n        try {\n            const response = await this.props.campaignStore.campaign.sendTest(emails);\n\n            if (response.data.success_send_test) {\n                const sendingSuccessfully = this.props.enqueueSnackbar('Has been sent successfully, please check your inbox!', {variant: 'success'});\n                setTimeout(() => this.props.closeSnackbar(sendingSuccessfully), 2500);\n            } else {\n                const errorKey = this.props.enqueueSnackbar(response.data.send_test_response.detail, {variant: 'error'});\n                setTimeout(() => this.props.closeSnackbar(errorKey), 3000);\n            }\n\n            this.props.campaignStore.campaign.updateFromJson(response.data.campaign);\n\n        } catch (e) {\n            console.log(e);\n        }\n\n        this.loading = false;\n    };\n\n    send = async () => {\n        try {\n            const response = await this.props.campaignStore.campaign.send();\n\n            this.handleClose();\n\n            if (response.data.error) {\n                const errorKey = this.props.enqueueSnackbar(response.data.error, {variant: 'error'});\n                setTimeout(() => this.props.closeSnackbar(errorKey), 5000);\n            } else {\n                const sendingSuccessfully = this.props.enqueueSnackbar('Hooray, campaign has been sent successfully!', {variant: 'success'});\n                setTimeout(() => this.props.closeSnackbar(sendingSuccessfully), 2500);\n            }\n        } catch (e) {\n            console.log(e);\n        }\n    }\n\n    handleClose = () => {\n        this.isOpenModal = false;\n    }\n\n    handleOpen = () => {\n        this.isOpenModal = true;\n    }\n\n    canSendTest = () => {\n        const errors: any = {};\n        const configFormIsValid = getConfigSchema().isValidSync({\n            ...this.props.campaignStore.campaign.asJson,\n            templateId: this.props.campaignStore.campaign.template ? this.props.campaignStore.campaign.template.id : '',\n        });\n\n        if (!configFormIsValid) {\n            errors.configFormIsValid = true;\n        }\n\n        if (!this.props.api.mailchimpConfig.private_key || this.props.api.mailchimpConfig.private_key === '') {\n            errors.privateKeyMissing = true;\n        }\n\n        return errors;\n\n    };\n\n    goToConfigForm = (event: any) => {\n        this.props.uiStore.setStep(1);\n        event.preventDefault();\n    };\n\n    render(): React.ReactElement<any, string | React.JSXElementConstructor<any>> | string | number | {} | React.ReactNodeArray | React.ReactPortal | boolean | null | undefined {\n\n        const {\n            templateStore,\n            campaignStore,\n            uiStore,\n            api,\n            step,\n            ...otherProps\n        } = this.props;\n\n        const disableSendToAll = (typeof campaignStore.campaign.mailchimpCampaignId === 'undefined' || campaignStore.campaign.mailchimpCampaignId === '' || campaignStore.campaign.mailchimpCampaignId === null);\n        const propsDisableSendToAll = {disableSendToAll,uiStore};\n        const canSendTest = this.canSendTest();\n        const disableSendTest = !!Object.entries(canSendTest).length;\n        const errorsMessages = Object.entries(canSendTest).length ? (\n            <UlStyled {...this.props}>\n                {canSendTest.configFormIsValid ?\n                    <li>{i18n.t('A few fields missing in config step, please')} <a href='#2'\n                                                                                   onClick={this.goToConfigForm}>\n                        {i18n.t('back to')}</a>{i18n.t('complete them')} </li> : null}\n                {canSendTest.privateKeyMissing ?\n                    <li>{i18n.t('You forget add private key from mailchimp, please')} <a\n                        href='/wp-admin/edit.php?post_type=wpex-campaigns&page=wpex_campaigns_settings' target='_blank'>\n                        {i18n.t('back to')}</a> {i18n.t('fill before you continue')}</li> : null}\n            </UlStyled>\n        ) : null;\n\n\n        return (\n            <FlexMinHeightContent {...otherProps} dir={this.props.uiStore.dir}>\n                <FlexColumnCenter>\n                        <SendingFormWrapperStyled {...this.props} style={{alignItems: 'center'}}>\n                            <h1>{disableSendTest ? i18n.t('Ohhh no') : i18n.t('Hooray! All set')}.</h1>\n                            <h3>{disableSendTest ? i18n.t('You missed a few things before you could send a test') : i18n.t('Test it, before you spread the news')}</h3>\n                            <span style={{display: 'none'}}>\n                                {this.loading}\n                            </span>\n\n                            {errorsMessages}\n\n                            <Formik\n                                initialValues={this.state}\n                                validationSchema={sendingSchema}\n                                validateOnChange={false}\n                                enableReinitialize={true}\n                                onSubmit={(values, {setSubmitting}) => {\n                                }}\n                            >\n                                {({\n                                      errors,\n                                      touched,\n                                      values,\n                                      setFieldValue,\n                                      setFieldTouched,\n                                  }: any) => (\n                                    <form style={{textAlign: 'left'}}>\n                                        <div style={{\n                                            display: 'flex',\n                                            borderBottom: '1px solid #f0ecec',\n                                            paddingBottom: '18px'\n                                        }}>\n                                            <TextField\n                                                style={{flex: 1}}\n                                                disabled={this.loading || disableSendTest}\n                                                label={i18n.t(\"Address for test\")}\n                                                fullWidth\n                                                margin=\"normal\"\n                                                variant=\"outlined\"\n                                                name='emails'\n                                                helperText={touched.emails && errors.emails ? i18n.t('Invalid email pattern') : i18n.t('Fro multiple address separate with comma separator like')}\n                                                error={touched.emails && errors.emails && !!errors.emails}\n                                                value={values.emails.join(',')}\n                                                onChange={(event: any) => this.onChange(event, setFieldValue, setFieldTouched)}\n                                                onBlur={(event: any) => this.setFieldTouched(event, setFieldTouched)}\n                                            />\n                                            <Button\n                                                variant=\"contained\"\n                                                color=\"primary\"\n                                                size=\"medium\"\n                                                disabled={this.loading || Object.entries(touched).length === 0 || (Object.entries(touched).length > 0 && Object.entries(errors).length > 0)}\n                                                onClick={() => this.sendTest(this.state.emails)}>\n                                                {this.loading && (\n                                                    <img\n                                                        alt='loading'\n                                                        src={process.env.NODE_ENV !== 'production'?'/images/Dual_Ring-1s-200px-blue.svg':'/wp-content/plugins/wp-campaigns/admin/partials/build/images/Dual_Ring-1s-200px-blue.svg'}\n                                                        width=\"20px\"\n                                                        height=\"20px\" style={{marginRight: 10}}/>)}\n                                                {this.loading ? i18n.t('Sending ...') : i18n.t('Test it!') }\n                                            </Button>\n                                        </div>\n\n                                        <SendToAllWrapper {...propsDisableSendToAll}>\n                                            <h4 style={{marginBottom: 0}}>\n                                                {i18n.t(\"Test completed successfully! let's spread the news\")}.\n                                            </h4>\n                                            <Button variant=\"contained\"\n                                                    color=\"primary\"\n                                                    disabled={disableSendToAll}\n                                                    onClick={this.handleOpen}\n                                            >\n                                                {i18n.t(\"Send to list\")}\n                                            </Button>\n\n                                        </SendToAllWrapper>\n                                    </form>)}\n                            </Formik>\n                        </SendingFormWrapperStyled>\n\n                        <SendingToListModal\n                            handleClose={this.handleClose}\n                            isOpenModal={this.isOpenModal}\n                            action={this.send}\n                        />\n                </FlexColumnCenter>\n            </FlexMinHeightContent>\n        );\n    }\n}\n\nexport default withSnackbar(Sending);\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nconst LoaderStyled = styled.div`\n    position: fixed;\n    right: 0;\n    left: 0;\n    bottom: 0;\n    top: 0;\n    background: #ffffff78;\n    z-index: 100;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 30px;\n`;\n\nconst Loader = ({show}: any) => {\n    return !show ? null :\n        <LoaderStyled>\n        {/*<img alt='loader' src='/images/Dual_Ring-1s-200px-blue.svg'/>*/}\n            <div className=\"loader\">\n                <div className=\"outer\"></div>\n                <div className=\"middle\"></div>\n                <div className=\"inner\"></div>\n            </div>\n    </LoaderStyled>;\n};\n\nexport default Loader;\n","import styled from \"styled-components\";\nimport React from \"react\";\nimport {FlexMinHeightContent, FlexColumnCenter} from \"../components/StyleComponents\";\nimport {\n    Button,\n    FormControl,\n    InputLabel,\n    MenuItem,\n    OutlinedInput,\n    Select,\n    TextField\n} from \"@material-ui/core\";\nimport {inject, observer} from \"mobx-react\";\nimport {Formik, FormikActions} from \"formik\";\nimport getConfigSchema from \"../validation-schemas/config-schema\";\nimport {debounce} from 'ts-debounce';\nimport Loader from \"../components/Loader\";\nimport {withSnackbar} from \"notistack\";\nimport {computed} from \"mobx\";\nimport i18n from \"i18next\";\n\n\nconst CampaignConfigFormWrapperStyled = styled(FlexColumnCenter)`\n    width: 100%;    \n    max-width: 700px;\n    margin: 0 auto;\n    border-radius: 3px;\n    background: white;\n    \n    h1{\n        margin: 0;\n    padding: 19px 15px 10px;\n    font-size: 28px;\n    font-weight: 500;\n    text-align: center;\n    }\n    h3{\n    margin-top: 0;\n    font-weight: 500;\n    text-align: center;\n    color: rgba(0,0,0,.54);\n    margin-bottom: 53px;\n    font-size: 16px;\n    }\n    \n    h4{\n      font-size: 17px;\n      font-weight: 500;\n      text-align: ${(props: any) => props.uiStore.isRTL ? 'right' : 'left'};\n    }\n    \n    form{\n         padding:  0 40px 40px;\n    }\n    \n    ul{\n        padding: 0 23px;\n    }\n`;\nconst UlStyled = styled.ul`\n    padding: 0;\n    margin-bottom: 30px;\n    list-style-type: decimal;\n    text-align: left;\n`;\nconst CustomSelect = ({items, value, onChange, error, label, name}: any) => {\n\n    // #TODO set interface to items like label, value\n    const menuItems = items.map((item: any, index: number) => {\n        return (\n            <MenuItem value={item.id || index}\n                      key={item.key || item.id}>{item.displayName || item.name || item.title}\n            </MenuItem>\n        )\n    });\n\n    value = typeof value !== \"undefined\" ? value : '';\n\n    menuItems.splice(0, 0, (\n        <MenuItem value='' key={Math.random()}>\n            <em>None</em>\n        </MenuItem>)\n    );\n\n\n    // const inputLabel = React.useRef<any>(null);\n    // const [labelWidth, setLabelWidth] = React.useState(0);\n    // React.useEffect(() => {\n    //     setLabelWidth(inputLabel.current!.offsetWidth);\n    // }, []);\n\n    // menuItems.splice(0, 0, (<MenuItem key={'None'} value=\"\"><em>None</em></MenuItem>));\n    return (\n        <FormControl variant=\"outlined\" fullWidth>\n            <InputLabel htmlFor={name}>\n                {label}\n            </InputLabel>\n            <Select\n                error={typeof error !== \"undefined\"}\n                value={value}\n                onChange={onChange}\n                input={\n                    <OutlinedInput\n                        labelWidth={90}\n                        name={name}\n                        id={name}/>\n                }\n            >\n                {menuItems}\n            </Select>\n        </FormControl>\n    );\n};\n\ninterface ConfigFormValues {\n    templateId: string;\n    mailchimpListId: string;\n    name: string;\n    mailServiceFields: object;\n}\n\n@inject(\"templateStore\", \"campaignStore\", \"uiStore\")\n@observer\nclass CampaignConfig extends React.Component<any, any> {\n\n    static whyDidYouRender = true;\n\n    constructor(props: any) {\n        super(props);\n\n        this.state = {\n            loading: false,\n            formDataHasChange: false,\n        };\n    }\n\n    onUpdate = async (field: string, value: any, setFieldTouched: any) => {\n\n        // const campaign = this.props.campaignStore.campaign;\n        //\n        // if (field.indexOf('.') > -1) {\n        //     const [mailServiceFields, fieldName] = field.split('.');\n        //     campaign[mailServiceFields][fieldName] = value;\n        // } else {\n        //     campaign[field] = value;\n        // }\n\n        setFieldTouched(field, true, true);\n    };\n\n    onUpdateDebounced = debounce(this.onUpdate, 400);\n\n    onChange = async (event: any, setFieldValue: any, setFieldTouched: any, debounce = true) => {\n        const {name, value} = event.target;\n\n        setFieldValue(name, value);\n\n        if (debounce) {\n            event.persist();\n            this.onUpdateDebounced(name, value, setFieldTouched);\n        } else {\n            this.onUpdate(name, value, setFieldTouched);\n        }\n    };\n\n    setFieldTouched = (event: any, setFieldTouched: any) => {\n        const {name} = event.target;\n        setFieldTouched(name, true, true);\n    };\n\n    onSubmit = async (values: ConfigFormValues, {setSubmitting, resetForm}: FormikActions<ConfigFormValues>) => {\n        const campaign = this.props.campaignStore.campaign;\n        const templateId: number | undefined = values.templateId === '' ? undefined : Number(values.templateId);\n\n        campaign.setTemplate(templateId);\n        campaign.mailchimpListId = values.mailchimpListId;\n        campaign.name = values.name;\n        campaign.mailServiceFields = values.mailServiceFields;\n        try {\n            await this.save();\n        } catch (e) {\n\n        }\n        setSubmitting(false);\n        resetForm();\n    };\n\n    save = async () => {\n        const campaign = this.props.campaignStore.campaign;\n\n        this.setState({loading: true});\n        try {\n            try {\n                await campaign.save();\n            } catch (e) {\n\n            }\n            const key = this.props.enqueueSnackbar('Successfully saved.', {variant: 'success'});\n\n            setTimeout(() => this.props.closeSnackbar(key), 2500);\n        } catch (e) {\n            const errorKey = this.props.enqueueSnackbar('Something went strangely, turning to the manager', {variant: 'error'});\n\n            setTimeout(() => this.props.closeSnackbar(errorKey), 3000);\n        }\n        this.setState({loading: false});\n\n        return;\n    }\n\n    onSelectTemplate = (id: number | '', setFieldTouched: any, setFieldValue: any) => {\n        setFieldValue('templateId', id);\n        setFieldTouched('templateId', true, true);\n    }\n\n    onSelectMailchimpList = (id: number | '', setFieldTouched: any, setFieldValue: any) => {\n        setFieldValue('mailchimpListId', id);\n        setFieldTouched('mailchimpListId', true, true);\n    }\n\n    @computed get initialValues() {\n\n        const campaign = this.props.campaignStore.campaign;\n\n        return {\n            mailchimpListId: campaign.asJson.mailchimpListId ? campaign.asJson.mailchimpListId : '',\n            name: campaign.asJson.name,\n            mailServiceFields: campaign.asJson.mailServiceFields,\n            templateId: campaign.asJson.template ? campaign.asJson.template.id : '',\n        };\n    }\n\n    render(): React.ReactElement<any, string | React.JSXElementConstructor<any>> | string | number | {} | React.ReactNodeArray | React.ReactPortal | boolean | null | undefined {\n        const {\n            campaignStore,\n            templateStore\n        } = this.props;\n\n        return (\n            <FlexMinHeightContent {...this.props} dir={this.props.uiStore.dir}>\n                <Loader show={campaignStore.loadingData}/>\n                <CampaignConfigFormWrapperStyled  {...this.props}>\n                    <h1>{i18n.t('Campaign configuration')}</h1>\n                    <h3>{i18n.t('Tell a bit about your campaign')}.</h3>\n\n                    <span style={{display: \"none\"}}>\n                                {this.state.loading ? 'LOADING' : 'NO'}\n                        {JSON.stringify(campaignStore.mailchimpLists)}\n                            </span>\n\n                    <Formik\n                        initialValues={this.initialValues}\n                        validationSchema={getConfigSchema()}\n                        validateOnChange={false}\n                        enableReinitialize={true}\n                        onSubmit={this.onSubmit}\n                    >\n                        {({\n                              dirty,\n                              isValid,\n                              errors,\n                              touched,\n                              values,\n                              setFieldValue,\n                              setFieldTouched,\n                              handleSubmit,\n                          }: any) => {\n                            return (\n                                <form onSubmit={handleSubmit}>\n\n                                            <span style={{display: \"none\"}}>\n                                                  {JSON.stringify(errors.templateId)}\n                                                {JSON.stringify(errors.mailchimpListId)}\n                                                {JSON.stringify({isValid})}\n                                            </span>\n                                    <br/>\n                                    <UlStyled>\n                                        <li>\n                                            <h4>\n                                                {i18n.t('Campaign details')}\n                                            </h4>\n                                            <CustomSelect\n                                                label={i18n.t('Template')}\n                                                items={templateStore.templates}\n                                                value={values.templateId}\n                                                error={errors.templateId}\n                                                name={'templateId'}\n                                                onChange={(selected: any) => this.onSelectTemplate(selected.target.value, setFieldTouched, setFieldValue)}\n                                            />\n                                            <div style={{\n                                                margin: '8px 12px 0',\n                                                color: ' #f44336',\n                                                fontSize: '0.75rem',\n                                            }}>{errors.templateId}</div>\n                                            <TextField\n                                                label={i18n.t('Campaign name')}\n                                                fullWidth\n                                                margin=\"normal\"\n                                                variant=\"outlined\"\n                                                helperText={touched.name && errors.name && errors.name}\n                                                error={touched.name && errors.name && !!errors.name}\n                                                value={values.name}\n                                                onChange={(event: any) => this.onChange(event, setFieldValue, setFieldTouched)}\n                                                onBlur={(event: any) => this.setFieldTouched(event, setFieldTouched)}\n                                                name='name'\n                                                type='text'\n                                            />\n                                        </li>\n                                        <li>\n                                            <h4>\n                                                {i18n.t('Mailchimp fields')}\n                                            </h4>\n                                            <CustomSelect\n                                                label={i18n.t('Mailchimp list')}\n                                                items={campaignStore.mailchimpLists}\n                                                value={values.mailchimpListId}\n                                                error={touched.mailchimpListId && errors.mailchimpListId}\n                                                name={'mailchimpListId'}\n                                                onChange={(selected: any) => this.onSelectMailchimpList(selected.target.value, setFieldTouched, setFieldValue)}\n                                            />\n                                            <div style={{\n                                                margin: '8px 12px 0',\n                                                color: ' #f44336',\n                                                fontSize: '0.75rem',\n                                            }}>{touched.mailchimpListId && errors.mailchimpListId}</div>\n                                            <TextField\n                                                label={i18n.t('Preview text')}\n                                                fullWidth\n                                                margin=\"normal\"\n                                                variant=\"outlined\"\n                                                helperText={touched.mailServiceFields && touched.mailServiceFields.preview && errors.mailServiceFields && errors.mailServiceFields.preview}\n                                                error={touched.mailServiceFields && touched.mailServiceFields.preview && errors.mailServiceFields && !!errors.mailServiceFields.preview}\n                                                value={values.mailServiceFields.preview}\n                                                onChange={(event: any) => this.onChange(event, setFieldValue, setFieldTouched)}\n                                                onBlur={(event: any) => this.setFieldTouched(event, setFieldTouched)}\n                                                name='mailServiceFields.preview'\n                                                type='text'\n                                            />\n                                            <TextField\n                                                label={i18n.t('Title')}\n                                                fullWidth\n                                                margin=\"normal\"\n                                                variant=\"outlined\"\n                                                helperText={touched.mailServiceFields && touched.mailServiceFields.title && errors.mailServiceFields && errors.mailServiceFields.title}\n                                                error={touched.mailServiceFields && touched.mailServiceFields.title && errors.mailServiceFields && !!errors.mailServiceFields.title}\n                                                value={values.mailServiceFields.title}\n                                                onChange={(event: any) => this.onChange(event, setFieldValue, setFieldTouched)}\n                                                onBlur={(event: any) => this.setFieldTouched(event, setFieldTouched)}\n                                                name='mailServiceFields.title'\n                                                type='text'\n                                            />\n                                            <TextField\n                                                label={i18n.t('Subject line')}\n                                                fullWidth\n                                                margin=\"normal\"\n                                                variant=\"outlined\"\n                                                helperText={touched.mailServiceFields && touched.mailServiceFields.subjectLine && errors.mailServiceFields && errors.mailServiceFields.subjectLine}\n                                                error={touched.mailServiceFields && touched.mailServiceFields.subjectLine && errors.mailServiceFields && !!errors.mailServiceFields.subjectLine}\n                                                value={values.mailServiceFields.subjectLine}\n                                                onChange={(event: any) => this.onChange(event, setFieldValue, setFieldTouched)}\n                                                onBlur={(event: any) => this.setFieldTouched(event, setFieldTouched)}\n                                                name='mailServiceFields.subjectLine'\n                                                type='text'\n                                            />\n                                            <TextField\n                                                label={i18n.t('From')}\n                                                fullWidth\n                                                margin=\"normal\"\n                                                variant=\"outlined\"\n                                                helperText={touched.mailServiceFields && touched.mailServiceFields.from && errors.mailServiceFields && errors.mailServiceFields.from}\n                                                error={touched.mailServiceFields && touched.mailServiceFields.from && errors.mailServiceFields && !!errors.mailServiceFields.from}\n                                                value={values.mailServiceFields.from}\n                                                onChange={(event: any) => this.onChange(event, setFieldValue, setFieldTouched)}\n                                                onBlur={(event: any) => this.setFieldTouched(event, setFieldTouched)}\n                                                name='mailServiceFields.from'\n                                                type='text'\n                                            />\n                                            <TextField\n                                                label={i18n.t('Replay to')}\n                                                fullWidth\n                                                margin=\"normal\"\n                                                variant=\"outlined\"\n                                                helperText={touched.mailServiceFields && touched.mailServiceFields.replayTo && errors.mailServiceFields && errors.mailServiceFields.replayTo}\n                                                error={touched.mailServiceFields && touched.mailServiceFields.replayTo && errors.mailServiceFields && !!errors.mailServiceFields.replayTo}\n                                                value={values.mailServiceFields.replayTo}\n                                                onChange={(event: any) => this.onChange(event, setFieldValue, setFieldTouched)}\n                                                onBlur={(event: any) => this.setFieldTouched(event, setFieldTouched)}\n                                                name='mailServiceFields.replayTo'\n                                                type='text'\n                                            />\n\n\n                                        </li>\n                                    </UlStyled>\n\n\n                                    <Button variant=\"contained\"\n                                            color=\"primary\"\n                                            size=\"large\"\n                                            type=\"submit\"\n                                            disabled={this.state.loading || !dirty || !isValid}\n                                    >\n                                        {this.state.loading && (\n                                            <img\n                                                alt='loading'\n                                                src={process.env.NODE_ENV !== 'production' ? '/images/Dual_Ring-1s-200px-blue.svg' : '/wp-content/plugins/wp-campaigns/admin/partials/build/images/Dual_Ring-1s-200px-blue.svg'}\n                                                width=\"20px\"\n                                                height=\"20px\" style={{marginRight: 10}}/>)}\n                                        {this.state.loading ? i18n.t('loading') : i18n.t('save button')}\n                                    </Button>\n                                </form>\n                            )\n                        }}\n                    </Formik>\n                </CampaignConfigFormWrapperStyled>\n            </FlexMinHeightContent>\n        );\n    }\n}\n\nexport default withSnackbar(CampaignConfig);\n\n","import React, {Component} from 'react';\nimport './App.scss';\nimport CampaignTemplate from \"./components/CampaignTemplate\";\nimport EditorWrapper from \"./components/EditorWrapper\";\nimport Stepper from \"./components/Stepper\";\nimport StepperContent from \"./components/StepperContent\";\nimport './config/FontAwesomeIcon';\nimport CampaignTemplateWrapper from \"./containers/CampaignTemplateWrapper\";\nimport Sending from \"./components/Sending\";\nimport {inject, observer} from \"mobx-react\";\nimport CampaignConfig from \"./containers/CampaignConfig\";\nimport {StylesProvider, ThemeProvider} from \"@material-ui/styles\";\nimport ElementorTemplate from \"./components/ElementorTemplate\";\n\n\n@inject('campaignStore', 'uiStore')\n@observer\nclass App extends Component<any, any> {\n    render() {\n        return (\n            <StylesProvider jss={this.props.uiStore.jss}>\n                <ThemeProvider theme={this.props.uiStore.theme}>\n                    <div className=\"App\">\n                        <StepperContent step={1}>\n                            <CampaignConfig/>\n                        </StepperContent>\n\n                        <StepperContent step={2}>\n                            <CampaignTemplateWrapper>\n                                <EditorWrapper/>\n                                <CampaignTemplate/>\n                            </CampaignTemplateWrapper>\n                        </StepperContent>\n\n                        <StepperContent step={3}>\n                            <Sending/>\n                        </StepperContent>\n\n                        <Stepper setStep={this.props.uiStore.setStep}/>\n                    </div>\n\n                </ThemeProvider>\n            </StylesProvider>\n        );\n    }\n}\n\nexport default (App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import {action, computed, observable} from \"mobx\";\nimport {WpexApi} from \"../api/WpexApi\";\nimport {jssPreset} from \"@material-ui/styles\";\nimport rtl from \"jss-rtl\";\nimport {create} from 'jss';\nimport {createMuiTheme} from \"@material-ui/core\";\nimport i18next from 'i18next';\n\nclass UiStore {\n\n    api: WpexApi;\n    _jssLTR: any = create({plugins: [...jssPreset().plugins]});\n    _jssRTL: any = create({plugins: [...jssPreset().plugins, rtl()]});\n\n    _themeRTL: any = createMuiTheme({\n        direction: 'rtl',\n        palette: {\n            primary: {\n                main: '#3ea9f5',\n                contrastText: 'white',\n            },\n        },\n    });\n\n    _themeLTR: any = createMuiTheme({\n        palette: {\n            primary: {\n                main: '#3ea9f5',\n                contrastText: 'white',\n            },\n        },\n    });\n\n    @observable locale: string = '';\n\n    @observable stepperState = 1; // 1-4\n\n    @observable campaignDraftOrNew: 'Draft' | 'New' = 'New';\n\n    constructor(api: WpexApi) {\n        this.api = api;\n        this.setLocale();\n    }\n\n    @action setLocale = async () => {\n        const response = await this.api.getLocale();\n        await i18next.changeLanguage(response.locale);\n        this.locale = response.locale;\n    };\n\n    @computed get dir() {\n        return this.isRTL ? 'rtl' : 'ltr';\n    }\n\n    @computed get isRTL() {\n        return (this.locale === 'he_IL');\n    }\n\n    @computed get textAlign() {\n        return this.isRTL ? 'right' : 'left';\n    }\n\n    @computed get jss() {\n        return this.isRTL ? this._jssRTL : this._jssLTR;\n    }\n\n    @computed get theme() {\n        return this.isRTL ? this._themeRTL : this._themeLTR;\n    }\n\n    @action setStep = (step: number) => {\n        this.stepperState = step;\n    }\n\n    @computed get isDraftCampaign() {\n        return this.campaignDraftOrNew === 'Draft';\n    }\n}\n\nexport default UiStore;\n","import {action, computed, observable} from \"mobx\";\nimport CampaignStore from \"./CampaignStore\";\nimport uuidv4 from 'uuid/v4';\nimport TemplateStore from \"./TemplateStore\";\nimport {Template} from \"./Template\";\nimport CampaignInterface from \"./CampaignInterface\";\nimport Widget from \"./Widget\";\n\nexport default class Campaign implements CampaignInterface {\n\n    store: CampaignStore;\n\n    id: number | null = null;\n\n    post_id: number;\n\n    mailchimpWebId: string = '';\n\n    key: string;\n\n    status: string = 'draft';\n\n    @observable template: Template | undefined;\n\n    @observable templateStore: TemplateStore;\n\n    @observable name: string = \"\";\n\n    @observable mailServiceFields = {\n        preview: '',\n        title: '',\n        from: '',\n        subjectLine: '',\n        replayTo: '',\n    };\n\n    @observable mailchimpListId: any = '';\n\n    @observable mailchimpCampaignId: any;\n\n    constructor(store: CampaignStore, templateStore: TemplateStore, key = uuidv4()) {\n        this.store = store;\n        this.post_id = this.store.getPostIdFromUrl();\n        this.templateStore = templateStore;\n        this.key = key;\n        this.template = this.templateStore.createTemplate(this.templateStore.templates[0]);\n    }\n\n    @computed get asJson(): CampaignInterface {\n        const json = JSON.parse(\n            JSON.stringify({\n                id: this.id,\n                key: this.key,\n                mailchimpWebId: this.mailchimpWebId,\n                mailServiceFields: this.mailServiceFields,\n                status: this.status,\n                name: this.name,\n                mailchimpListId: this.mailchimpListId,\n                mailchimpCampaignId: this.mailchimpCampaignId,\n                post_id: this.post_id,\n            })\n        );\n        json.template = this.template && this.template.asJson;\n        return json;\n    }\n\n    @action setHtml(html: string = '') {\n        if (this.template) {\n            this.template.html = html;\n        }\n    }\n\n    setTemplate = (templateId: number | undefined) => {\n        let template;\n\n        if (typeof templateId !== \"undefined\") {\n            template = this.templateStore.getTemplate(templateId);\n        }\n        if (template) {\n            this.template = this.templateStore.createTemplate(template);\n        } else {\n            this.template = template;\n        }\n\n    };\n\n    updateFromJson(json: any) {\n        if (!json) {\n            return;\n        }\n        this.mailchimpWebId = json.mailchimpWebId;\n        this.mailchimpListId = json.mailchimpListId;\n        this.mailchimpCampaignId = json.mailchimpCampaignId;\n        this.id = Number(json.id);\n        this.name = json.name;\n        this.key = json.key;\n        this.status = json.status;\n        this.mailServiceFields = json.mailServiceFields;\n        this.template = this.templateStore.createTemplate(json.template);\n    }\n\n    @action setWidgetSelected(widgetIndex: number | null = null) {\n        if (this.template) {\n            this.template.setWidgetSelected(widgetIndex);\n        }\n    }\n\n    @action setMailchimpListId(id: number) {\n        this.mailchimpListId = id;\n    }\n\n    @computed get selectedWidget(): Widget | null {\n        return (this.template && this.template.selectedWidget) ? this.template.selectedWidget : null;\n    }\n\n    save = async () => {\n        const response: any = await this.store.api.saveCampaign(this.asJson);\n        this.updateFromJson(response.campaign);\n        return response;\n    }\n\n    sendTest = async (emails: []) => {\n        const response: any = await this.store.api.sendTest(this.asJson, emails);\n        return response;\n    }\n\n    send = async () => {\n        return await this.store.api.send(this.asJson);\n    }\n\n\n}\n","import {action, computed, observable} from \"mobx\";\nimport Campaign from \"./Campaign\";\nimport CampaignInterface from \"./CampaignInterface\";\nimport TemplateStore from \"./TemplateStore\";\nimport UiStore from \"./UiStore\";\nimport {WpexApi} from \"../api/WpexApi\";\n\nexport default class CampaignStore {\n\n    api: WpexApi;\n\n    @observable loadingData: boolean = false;\n\n    @observable loading: boolean = false;\n\n    @observable campaigns: Campaign[] = [];\n\n    @observable campaign: Campaign;\n\n    @observable templateStore: TemplateStore;\n\n    @observable mailchimpLists: any = [];\n\n    constructor(templateStore: TemplateStore, uiStore: UiStore, api: WpexApi) {\n        this.templateStore = templateStore;\n        this.campaign = new Campaign(this, templateStore);\n        this.api = api;\n        this.loadInitData(this.campaign);\n    }\n\n    loadInitData = async (campaign: Campaign) => {\n        this.loadingData = true;\n        const lists = this.api.getMailchimpLists();\n        let campaignAsync = this.api.getCampaignByPostId(campaign.post_id);\n\n        this.setMailchimpLists(await lists);\n        this.campaign.updateFromJson(await campaignAsync);\n        this.loadingData = false;\n    }\n\n    @action setMailchimpLists(lists: [] | null) {\n        if (lists) {\n            this.mailchimpLists = lists.map((list: any) => ({id: list.id, displayName: list.name}));\n        }\n    }\n\n    @computed get isWidgetSelected(): boolean {\n        return (this.campaign.template && this.campaign.template.isWidgetSelected) ? this.campaign.template.isWidgetSelected : false;\n    }\n\n    @computed get widgetSelectedIndex(): number | null {\n        return (this.campaign.template && this.campaign.template.widgetSelectedIndex) ? this.campaign.template.widgetSelectedIndex : null;\n    }\n\n    updateTodoFromServer(json: CampaignInterface): Campaign {\n        let campaign = this.campaigns.find(campaign => campaign.id === json.id);\n        if (!campaign) {\n            campaign = new Campaign(this, this.templateStore);\n            this.campaigns.push(campaign);\n        }\n        campaign.updateFromJson(json);\n        return campaign;\n    }\n\n    async save() {\n        this.loading = true;\n        const response = await this.api.saveCampaign(this.campaign);\n        await new Promise((rs, rj) => {\n            setTimeout(() => rs(), 2000);\n        });\n        this.loading = false;\n        return response;\n    }\n\n    async loadAll(): Promise<Campaign[]> {\n\n        let campaigns: Campaign[] = [];\n\n        try {\n            const data = await this.api.loadCampaigns();\n            campaigns = data.map((campaign: CampaignInterface): Campaign => this.updateTodoFromServer(campaign));\n        } catch (e) {\n\n        }\n        return campaigns;\n    }\n\n    select(id: number) {\n\n        let campaign: Campaign | undefined = this.campaigns.find(campaign => campaign.id === id);\n\n        if (campaign) {\n            this.campaign = campaign;\n        }\n    }\n\n    getPostIdFromUrl(): number {\n        const url = new URL(window.location.href);\n        return Number(url.searchParams.get(\"post\"));\n    }\n\n    setWidgetSelected(widgetIndex: number | null = null) {\n        this.campaign.setWidgetSelected(widgetIndex);\n    }\n\n}\n","export default class MenuItem {\n    ID: number | undefined;\n    guid: string | undefined;\n    title: string | undefined;\n\n    constructor(item: any) {\n        Object.assign(this, item);\n    }\n}\n","import MenuItem from \"./MenuItem\";\n\nexport default class Menu {\n    label: string | undefined;\n    name: string | undefined;\n    value: string | undefined;\n    term_id: number | undefined;\n    items: MenuItem[] | undefined;\n\n    constructor(menu: any) {\n        Object.assign(this, menu);\n\n        if (this.items) {\n            this.items = this.items.map(item => new MenuItem(item));\n        }\n    }\n}\n","import {action, observable} from \"mobx\";\nimport Menu from \"./Menu\";\nimport MenusApi from \"./MenusApi\";\n\nclass MenusStore {\n    menuApi: MenusApi;\n\n    @observable items: Menu[] = [];\n\n    constructor(menuApi: MenusApi) {\n        this.menuApi = menuApi;\n        this.fetch();\n    }\n\n    @action fetch = async () => {\n        if (!this.items.length) { // get only once\n            const items = await this.menuApi.fetch();\n            this.items = items.map(item => new Menu(item));\n        }\n    }\n\n}\n\nexport default MenusStore;\n","import styled from \"styled-components\";\nimport React from \"react\";\nimport {Flex} from \"../StyleComponents\";\n\nconst PostStyled = styled(Flex)`\n    font-family: Arial,Helvetica Neue,Helvetica,sans-serif;\n    max-width: 600px;\n    margin: 0px auto;\n    // flex-direction: ${(props: any) => (props.size === 'Large') ? \"column\" : \"row\"};\n    background-color: ${(props: any) => props.isBgGray ? '#f0f0f0' : 'transparent'};\n    padding: 14px;\n    \n    a{\n    text-decoration: none;\n    color:black;\n    }\n    img{\n    max-width: ${(props: any) => (props.size === 'Large') ? \"560px\" : \"277px\"};\n    }\n`;\nconst Table = styled.table`\nfont-family: Arial,Helvetica Neue,Helvetica,sans-serif;\ntext-align: right;\nfloat: ${(props: any) => (props.size === 'Large') ? \"none\" : \"right\"};\n width:  ${(props: any) => (props.size === 'Large') ? \"100%\" : \"50%\"};\n \n td.text{\n      padding-right: ${(props: any) => (props.size === 'Large') ? \"0\" : \"10px\"};\n      \n      h3{margin-top: 0;}\n }\n`;\n\nconst Post = (props: any) => {\n\n    const post = props.data.post || {};\n\n    let {\n        image_src,\n        post_title,\n        post_excerpt,\n        snippet,\n        guid,\n        // post_content,\n    } = post;\n\n    post_excerpt = post_excerpt && post_excerpt.trim();\n\n    // if (process.env.NODE_ENV !== 'production') {\n        snippet = snippet && snippet.trim();\n        post_excerpt = (post_excerpt && post_excerpt !== '') ? post_excerpt : (snippet && snippet !== '' ? snippet : undefined);\n\n        if (image_src) {\n            image_src = image_src.replace('clarionproject', 'clarionproject.org');\n            image_src = image_src.replace('giladt', 'medialab.jerusalemu.org');\n            image_src = image_src.replace('localhost', 'medialab.jerusalemu.org');\n        }\n    // }\n\n\n    return (\n        <PostStyled {...props}>\n            <table style={{border: 0, width: '100%',maxWidth:600,}}>\n                <tbody>\n                <tr>\n                    <td>\n                        <Table {...props}>\n                            <tbody>\n                            <tr>\n                                <td>\n                                    <img alt={post_title}\n                                         src={image_src || (process.env.NODE_ENV !== 'production' ? '/images/Image_placeholder_293.jpg' : '/wp-content/plugins/wp-campaigns/admin/partials/build/images/Image_placeholder_293.jpg')}\n                                         width=\"100%\"/>\n                                </td>\n                            </tr>\n                            </tbody>\n                        </Table>\n                        <Table {...props}>\n                            <tbody>\n                            <tr>\n                                <td className={'text'}>\n                                    <h3 style={{marginBottom: 0}}>\n                                        <a\n                                            target=\"_blank\"\n                                            rel=\"noopener noreferrer\"\n                                            href={guid || '#'}>{post_title || 'What is Lorem Ipsum?'}</a>\n                                    </h3>\n                                    <br/>\n                                    <a\n                                        target=\"_blank\"\n                                        rel=\"noopener noreferrer\"\n                                        href={guid || '#'}>{post_excerpt || 'Lorem Ipsum is simply dummy text of the printing and typesetting industry.'}</a>\n\n                                </td>\n                            </tr>\n                            </tbody>\n                        </Table>\n                    </td>\n                </tr>\n                </tbody>\n            </table>\n        </PostStyled>\n    );\n};\n\nexport default Post;\n","import styled from \"styled-components\";\nimport React from \"react\";\n\nconst LogoStyled = styled.div`\n    text-align: center;\n    font-family: Arial,Helvetica Neue,Helvetica,sans-serif;\n    img{\n      max-width: 100px;\n    }\n    \n`;\n\nconst Logo = (props: any) => {\n    let src = props.data.src === '' ? (process.env.NODE_ENV !== 'production' ? '/images/Image_placeholder_293.jpg' : '/wp-content/plugins/wp-campaigns/admin/partials/build/images/Image_placeholder_293.jpg') : props.data.src;\n    src = src.replace('giladt', 'medialab.jerusalemu.org');\n    src = src.replace('localhost', 'medialab.jerusalemu.org');\n\n    return (\n        <LogoStyled>\n            <img\n                alt='a'\n                src={src}/>\n        </LogoStyled>\n    );\n};\n\nexport default Logo;\n","import styled from \"styled-components\";\nimport React from \"react\";\n\nconst NavigationStyled = styled.div`\n    font-family: Arial,Helvetica Neue,Helvetica,sans-serif;\n    ul{\n    text-align: center;\n      margin: 0;\n      list-style: none;\n      flex: 1;\n      max-width: 600px;\n      border-bottom: 1px solid #9e1c34;\n      border-top: 1px solid #9e1c34;\n            padding: 10px 0;\n        li{\n          display: inline-block;\n          a{\n            text-decoration: none;\n          }\n          span{\n              display: inline-block;\n              margin: 0 6px;\n          }\n        }\n    }\n`;\n\nconst pointCSS = {\n    color: '#e9e9e9'\n};\n\nconst Navigation = (props: any) => {\n\n    const {menu} = props.data;\n\n    let items = null;\n\n    if (menu) {\n        items = menu.items.map((item: any, index: number) => (\n            <li key={item.ID}><a href={item.guid}>{item.title}</a>\n                {menu.items.length - 1 > index ? <span style={pointCSS}></span> : null}\n            </li>\n        ));\n    }else{\n        items = new Array(5).fill(null).map((item, index) => <li key={index}><a href='#a'>link {index+1}</a>{index < 4 ? (\n            <span style={pointCSS}></span>) : null} </li>);\n    }\n\n    return (\n        <NavigationStyled>\n            <ul>\n                {items}\n            </ul>\n        </NavigationStyled>\n    );\n};\n\nexport default Navigation;\n","/* eslint-disable react/prop-types, react/jsx-handler-names */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport Select from 'react-select';\nimport {withStyles} from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport NoSsr from '@material-ui/core/NoSsr';\nimport TextField from '@material-ui/core/TextField';\nimport Paper from '@material-ui/core/Paper';\nimport Chip from '@material-ui/core/Chip';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport {emphasize} from '@material-ui/core/styles/colorManipulator';\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {observer} from \"mobx-react\";\nimport {Flex} from \"./StyleComponents\";\nimport styled from \"styled-components\";\n\n\nconst stylesTheme: any = (theme: any) => ({\n\n    input: {\n        display: 'flex',\n        padding: 0,\n    },\n    valueContainer: {\n        display: 'flex',\n        flexWrap: 'wrap',\n        flex: 1,\n        alignItems: 'center',\n        overflow: 'hidden',\n    },\n    chip: {\n        margin: `${theme.spacing.unit / 2}px ${theme.spacing.unit / 4}px`,\n    },\n    chipFocused: {\n        backgroundColor: emphasize(\n            theme.palette.type === 'light' ? theme.palette.grey[300] : theme.palette.grey[700],\n            0.08,\n        ),\n    },\n    noOptionsMessage: {\n        padding: `${theme.spacing.unit}px ${theme.spacing.unit * 2}px`,\n    },\n    singleValue: {\n        fontSize: 16,\n    },\n    placeholder: {\n        position: 'absolute',\n        left: 2,\n        fontSize: 16,\n    },\n    paper: {\n        position: 'absolute',\n        zIndex: 1,\n        marginTop: theme.spacing.unit,\n        left: 0,\n        right: 0,\n    },\n    divider: {\n        height: theme.spacing.unit * 2,\n    },\n});\n\nfunction NoOptionsMessage(props: any) {\n    return (\n        <Typography\n            color=\"textSecondary\"\n            className={props.selectProps.classes.noOptionsMessage}\n            {...props.innerProps}\n        >\n            {props.children}\n        </Typography>\n    );\n}\n\nfunction inputComponent({inputRef, ...props}: any) {\n    return <div ref={inputRef} {...props} />;\n}\n\nfunction Control(props: any) {\n    return (\n        <TextField\n            fullWidth\n            InputProps={{\n                inputComponent,\n                inputProps: {\n                    className: props.selectProps.classes.input,\n                    inputRef: props.innerRef,\n                    children: props.children,\n                    ...props.innerProps,\n                },\n            }}\n            {...props.selectProps.textFieldProps}\n        />\n    );\n}\n\nfunction Option(props: any) {\n\n    return (\n        <MenuItem\n            buttonRef={props.innerRef}\n            selected={props.isFocused}\n            component=\"div\"\n            style={{\n                fontWeight: props.isSelected ? 500 : 400,\n            }}\n            {...props.innerProps}\n        >\n            {props.data.image_src && (\n                <img src={props.data.image_src} style={{maxWidth: 35, marginRight: 5,}} alt={'prev'}/>)} {props.children}\n        </MenuItem>\n    );\n}\n\nfunction Placeholder(props: any) {\n    return (\n        <Typography\n            color=\"textSecondary\"\n            className={props.selectProps.classes.placeholder}\n            {...props.innerProps}\n        >\n            {props.children}\n        </Typography>\n    );\n}\n\nfunction SingleValue(props: any) {\n    return (\n        <Typography className={props.selectProps.classes.singleValue} {...props.innerProps}>\n            {props.children}\n        </Typography>\n    );\n}\n\nfunction ValueContainer(props: any) {\n    return <div className={props.selectProps.classes.valueContainer}>{props.children}</div>;\n}\n\nfunction MultiValue(props: any) {\n    return (\n        <Chip\n            tabIndex={-1}\n            label={props.children}\n            className={classNames(props.selectProps.classes.chip, {\n                [props.selectProps.classes.chipFocused]: props.isFocused,\n            })}\n            onDelete={props.removeProps.onClick}\n            deleteIcon={<FontAwesomeIcon {...props.removeProps} icon=\"times\"/>}\n        />\n    );\n}\n\nfunction Menu(props: any) {\n    return (\n        <Paper square className={props.selectProps.classes.paper} {...props.innerProps}>\n            {props.children}\n        </Paper>\n    );\n}\n\nconst components = {\n    Control,\n    Menu,\n    MultiValue,\n    NoOptionsMessage,\n    Option,\n    Placeholder,\n    SingleValue,\n    ValueContainer,\n};\n\nconst Wrapper = styled(Flex)``;\n\n// const Loading = styled.img`\n//     max-width: 27px;\n//     max-height: 40px;\n//     margin-left: 11px;\n// `;\nconst WrapperInput = styled.div`\nflex:1;\n`;\n\n@observer\nclass IntegrationReactSelect extends React.Component<any, any> {\n\n    public static propTypes = {\n        classes: PropTypes.object.isRequired,\n        theme: PropTypes.object.isRequired,\n        inputChange: PropTypes.func.isRequired,\n        suggestions: PropTypes.array.isRequired,\n        onChange: PropTypes.func.isRequired,\n        value: PropTypes.object,\n        loading: PropTypes.bool.isRequired,\n        placeholder: PropTypes.string,\n    };\n\n    public static defaultProps = {\n        value: null,\n    };\n\n    render() {\n        const {classes, theme}: any = this.props;\n\n        const selectStyles = {\n            input: (base: any) => ({\n                ...base,\n                color: theme.palette.text.primary,\n                '& input': {\n                    font: 'inherit',\n                },\n            }),\n        };\n\n        return (\n            <Wrapper>\n                <WrapperInput className={classes.root}>\n                    <NoSsr>\n                        <Select\n                            classes={classes}\n                            styles={selectStyles}\n                            components={components}\n                            options={this.props.suggestions}\n                            value={this.props.value}\n                            onInputChange={this.props.inputChange}\n                            onChange={this.props.onChange}\n                            placeholder={this.props.placeholder || \"Select post...\"}\n                            isClearable\n                            isSearchable\n                            isLoading={this.props.loading}\n                        />\n                        <div className={classes.divider}/>\n\n                    </NoSsr>\n                </WrapperInput>\n                {/*{this.props.loading && <Loading src={'/images/Double_Ring-1s-200px.svg'}/>}*/}\n            </Wrapper>\n        );\n    }\n}\n\nexport default withStyles(stylesTheme, {withTheme: true})(IntegrationReactSelect);\n","import React from \"react\";\nimport IntegrationReactSelect from \"../Autocomplete\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Radio from \"@material-ui/core/Radio\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport {BehaviorSubject, Observable, Subscription, throwError} from \"rxjs\";\nimport {catchError, debounceTime, distinctUntilChanged, filter, map, pluck, startWith, switchMap} from \"rxjs/operators\";\nimport axios from 'axios';\nimport {observable} from \"mobx\";\nimport {inject, observer} from \"mobx-react\";\nimport i18n from \"i18next\";\n\nexport interface State {\n    suggestions: [] | undefined;\n    query: string | null;\n}\n\nconst state: State = {\n    suggestions: undefined,\n    query: null,\n};\n\nexport class RxStore {\n\n    private subject = new BehaviorSubject<State>(state);\n    private store = this.subject.asObservable().pipe(distinctUntilChanged());\n\n    get value() {\n        return this.subject.value;\n    }\n\n    select<T>(name: string): Observable<T> {\n        return this.store.pipe(pluck(name));\n    }\n\n    set(name: string, state: any) {\n        this.subject.next({\n            ...this.value, [name]: state\n        });\n    }\n\n}\n\nconst store = new RxStore();\n\n@inject(\"uiStore\")\n@observer\nclass PostEditor extends React.Component<any, any> {\n\n    @observable suggestions: any[] = [];\n\n    @observable loading: boolean = false;\n\n    data: any = null;\n\n    querySubscribe: Subscription | undefined;\n\n    BASE_URL = process.env.NODE_ENV === 'production' ? window.location.protocol + \"//\" + window.location.host + \"/\" : 'http://giladt:9090/';\n\n    query$: Observable<string> = store.select('query');\n\n    onInputChange = (query: string) => {\n        if (query.length > 0) {\n            store.set('query', query);\n        }\n    };\n\n    componentWillUnmount(): void {\n        if (this.querySubscribe) {\n            this.querySubscribe.unsubscribe();\n            store.set('query', null);\n        }\n    }\n\n    componentDidMount(): void {\n        this.subscribeToQuery();\n    }\n\n    subscribeToQuery() {\n        this.querySubscribe = this.query$.pipe(\n            startWith(null),\n            debounceTime(750),\n            distinctUntilChanged(),\n            filter((query) => typeof query === 'string'),\n            switchMap(query => {\n                this.loading = true;\n                return axios.post(`${this.BASE_URL}wp-admin/admin-ajax.php`, `action=wpex_search_post_by_title&query=${query}`, {\n                    headers: {\n                        'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'\n                    }\n                });\n            }),\n            map((response) => {\n                this.suggestions = response.data.posts.map((post: any) => ({\n                    ...post,\n                    'label': post.post_title,\n                    'value': post.post_title,\n                    'image_src': post.image_src,\n                }));\n                this.loading = false;\n            }),\n            catchError((err, caught) => throwError(err))\n        ).subscribe();\n    }\n\n    changeSelection = (selected: any) => {\n        if (selected === null || (selected && selected.ID)) {\n            if (selected) {\n                delete selected.post_content;\n            }\n            this.props.onUpdateData('post', selected);\n        }\n    };\n\n    render(): React.ReactElement<any, string | React.JSXElementConstructor<any>> | string | number | {} | React.ReactNodeArray | React.ReactPortal | boolean | null | undefined {\n        return (\n            <div dir={this.props.uiStore.dir}>\n                <IntegrationReactSelect\n                    placeholder={i18n.t('Select post')}\n                    value={this.props.widget.data.post}\n                    suggestions={this.suggestions}\n                    inputChange={this.onInputChange}\n                    onChange={this.changeSelection}\n                    loading={this.loading}\n                />\n\n                <div className='fields-wrapper'>\n                    <FormControl>\n                        <RadioGroup\n                            aria-label=\"Gender\"\n                            name=\"gender1\"\n                            value={this.props.widget.data.size}\n                            onChange={(event: any) => this.props.onUpdateData('size', event.target.value)}\n                        >\n                            <FormControlLabel value=\"Small\" control={<Radio/>} label={i18n.t(\"Small\")}/>\n                            <FormControlLabel value=\"Large\" control={<Radio/>} label={i18n.t(\"Large\")}/>\n                        </RadioGroup>\n                    </FormControl>\n                    <div>\n                        <FormControl>\n                            <FormControlLabel\n                                control={<Checkbox\n                                    checked={this.props.widget.data.isBgGray}\n                                    onChange={(event: any) => this.props.onUpdateData('isBgGray', event.target.checked)}\n                                    value=\"#dadada\"/>}\n                                label={i18n.t(\"Gray background\")}\n                            />\n                        </FormControl>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default PostEditor;\n\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport {Button} from \"@material-ui/core\";\nimport i18n from \"i18next\";\nimport {inject, observer} from \"mobx-react\";\n\nconst LogoEditorStyled = styled.div`\n    display: flex;\n    flex: 1;\n    div{\n      flex:1\n    }\n`;\n\ndeclare global {\n    interface Window {\n        wp: any;\n    }\n}\n\n@inject(\"uiStore\")\n@observer\nclass LogoEditor extends React.Component<any, any> {\n\n\n    frame: any;\n\n    onSelect = () => {\n        const attachment = this.frame.state().get('selection').first().toJSON();\n        this.props.onUpdateData('src', attachment.url);\n    };\n\n    openMedia = () => {\n        this.frame.open();\n    }\n\n    componentWillMount(): void {\n        const wp = window.wp;\n        this.frame = wp.media.frames.file_frame = wp.media({\n            multiple: false\n        });\n        this.frame.on('select', this.onSelect);\n    }\n\n    componentWillUnmount(): void {\n        try {\n            this.frame.off(this.onSelect);\n        } catch (e) {\n        }\n    }\n\n    render(): React.ReactElement<any, string | React.JSXElementConstructor<any>> | string | number | {} | React.ReactNodeArray | React.ReactPortal | boolean | null | undefined {\n\n        return (\n            <LogoEditorStyled dir={this.props.uiStore.dir}>\n                <Button variant=\"contained\" color=\"primary\" onClick={this.openMedia}>\n                    {i18n.t(\"Open wordpress gallery\")}\n                </Button>\n                {/*<TextField*/}\n                {/*    variant=\"outlined\"*/}\n                {/*    id=\"standard-name\"*/}\n                {/*    label={i18n.t(\"Logo src label\")}*/}\n                {/*    value={this.props.widget.data.src}*/}\n                {/*    onChange={(event) => this.props.onUpdateData('src', event.target.value)}*/}\n                {/*    margin=\"normal\"*/}\n                {/*/>*/}\n            </LogoEditorStyled>\n        );\n    }\n}\n\nexport default LogoEditor;\n\n","import React from \"react\";\nimport IntegrationReactSelect from \"../Autocomplete\";\nimport {observable} from \"mobx\";\nimport {inject, observer} from \"mobx-react\";\nimport i18n from \"i18next\";\n\n@inject('menuStore')\n@observer\nclass NavigationEditor extends React.Component<any, any> {\n\n    @observable menu: any[] = [];\n\n    @observable loading: boolean= false;\n\n    async componentWillMount(): Promise<any> {\n        this.loading = true;\n        await this.props.menuStore.fetch();\n        this.menu =  this.props.menuStore.items;\n        this.loading = false;\n    }\n\n    render(): React.ReactElement<any, string | React.JSXElementConstructor<any>> | string | number | {} | React.ReactNodeArray | React.ReactPortal | boolean | null | undefined {\n        return (\n            <>\n                <IntegrationReactSelect\n                    placeholder={i18n.t('Choose Menu label')}\n                    loading={this.loading}\n                    value={this.props.widget.data.menu}\n                    suggestions={this.menu}\n                    inputChange={() => {\n                    }}\n                    onChange={(data:any)=>this.props.onUpdateData('menu',data)}/>\n            </>\n        );\n    }\n}\n\nexport default NavigationEditor;\n\n","import React from \"react\";\nimport {action, computed, observable} from \"mobx\";\nimport uuidv4 from 'uuid/v4';\n\nexport interface WidgetModelInterface {\n    key?: string;\n    data: {};\n    config: {\n        type: string,\n        displayName: string,\n    };\n    isSelected: boolean,\n}\n\nclass Widget {\n\n    key: string;\n\n    @observable isSelected = false;\n\n    @observable config: any = {};\n\n    @observable data: any = {};\n\n    private templateComponent: any;\n\n    private editorComponent: any;\n\n    constructor({\n                    config = {\n                        type: 'Logo',\n                        displayName: 'Logo'\n                    },\n                    data = {},\n                    key = uuidv4(),\n                    isSelected = false\n                }: WidgetModelInterface) {\n        this.config = config;\n        this.data = data;\n        this.key = key;\n        this.isSelected = isSelected;\n    }\n\n    @computed get displayName(): string {\n        return this.config.displayName;\n    }\n\n    @action updateWidgetData = (data: any) => {\n        this.data = data;\n    };\n\n    setEditorComponent(editorComponent: any) {\n        this.editorComponent = editorComponent;\n    }\n\n    setTemplateComponent(templateComponent: any) {\n        this.templateComponent = templateComponent;\n    }\n\n    renderEditor = (props = {}) => {\n        const Component = this.editorComponent;\n\n        props = {...props, ...this.data};\n\n        return (<Component {...props}/>);\n    };\n\n    renderTemplate = (props = {}) => {\n        const Component = this.templateComponent;\n\n        props = {...props, ...this.data};\n\n        return (<Component {...props}/>);\n    };\n\n    get asJson() {\n        return {\n            config: this.config,\n            data: this.data,\n            key: this.key,\n            // isSelected: this.isSelected,\n        };\n    }\n\n    renderButton = () => {\n        return (<div>Add button</div>);\n    }\n\n}\n\nexport default Widget;\n","import styled from \"styled-components\";\nimport React from \"react\";\n\nconst TitleStyled = styled.div`\n    font-family: Arial,Helvetica Neue,Helvetica,sans-serif;\n    text-align: center;\n    img{\n      max-width: 100px;\n    }\n    h1{\n        margin-bottom: 0;\n        text-align: center;\n    }\n    h3{\n            font-size: 14px;\n            text-align: center;\n    color: #c3c3c3;\n    font-weight: normal;\n    }\n`;\n\nconst Title = (props: any) => {\n    return (\n        <TitleStyled>\n            <h1>{props.data.title !== '' ? props.data.title : 'Lorem Ipsum is simply'}</h1>\n            <h3>{props.data.subTitle !== '' ? props.data.subTitle : 'Lorem Ipsum is simply dummy text of the printing and typesetting industry'}</h3>\n        </TitleStyled>\n    );\n};\n\nexport default Title;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport TextField from '@material-ui/core/TextField';\nimport {inject} from \"mobx-react\";\nimport i18n from \"i18next\";\n\nconst TitleEditorStyled = styled.div`\n`;\n\n@inject(\"uiStore\")\nclass TitleEditor extends React.Component<any, any> {\n\n    render(): React.ReactElement<any, string | React.JSXElementConstructor<any>> | string | number | {} | React.ReactNodeArray | React.ReactPortal | boolean | null | undefined {\n        return (\n            <TitleEditorStyled dir={this.props.uiStore.dir}>\n                <TextField\n                    fullWidth\n                    variant=\"outlined\"\n                    id=\"standard-name\"\n                    label={i18n.t(\"Title\")}\n                    value={this.props.widget.data.title}\n                    onChange={(event) => this.props.onUpdateData('title', event.target.value)}\n                    margin=\"normal\"\n                />\n                <div>\n                    <TextField\n                        variant=\"outlined\"\n                        fullWidth\n                        id=\"standard-name\"\n                        label={i18n.t(\"Sub title\")}\n                        value={this.props.widget.data.subTitle}\n                        onChange={(event) => this.props.onUpdateData('subTitle', event.target.value)}\n                        margin=\"normal\"\n                    />\n                </div>\n            </TitleEditorStyled>\n        );\n    }\n}\n\nexport default TitleEditor;\n\n","import Post from \"../components/templates/Post\";\nimport Logo from \"../components/templates/Logo\";\nimport Navigation from \"../components/templates/Navigation\";\nimport PostEditor from \"../components/editors/PostEditor\";\nimport LogoEditor from \"../components/editors/LogoEditor\";\nimport NavigationEditor from \"../components/editors/NavigationEditor\";\nimport Widget, {WidgetModelInterface} from \"./Widget\";\nimport {observable} from \"mobx\";\nimport Title from \"../components/templates/Title\";\nimport TitleEditor from \"../components/editors/TitleEditor\";\n\n\nclass WidgetsStore {\n\n    @observable items: Map<string, any> = new Map<string, any>();\n\n    constructor() {\n        this.init();\n    }\n\n    init() {\n\n        this.items.set('Title', {\n            template: Title,\n            editor: TitleEditor\n        });\n\n        this.items.set('Post', {\n            template: Post,\n            editor: PostEditor\n        });\n\n        this.items.set('Navigation', {\n            template: Navigation,\n            editor: NavigationEditor\n        });\n\n        this.items.set('Logo', {\n            template: Logo,\n            editor: LogoEditor\n        });\n\n    }\n\n    createWidget(widgetModel: WidgetModelInterface): Widget {\n        const widget = new Widget(widgetModel);\n        const type = widget.config.type;\n\n        //#TODO add check if template or editor is exist\n        widget.setEditorComponent(this.items.get(type).editor);\n        widget.setTemplateComponent(this.items.get(type).template);\n\n        return widget;\n    }\n}\n\nexport default WidgetsStore;\n","import {WidgetModelInterface} from \"./Widget\";\n\nexport const logoWidget: WidgetModelInterface = {\n    config: {\n        type: 'Logo',\n        displayName: 'Logo'\n    },\n    isSelected: false,\n    data: {\n        src:''\n    }\n\n};\n\nexport const titleWidget: WidgetModelInterface = {\n    config: {\n        type: 'Title',\n        displayName: 'Title'\n    },\n    isSelected: false,\n    data: {\n        title:'',\n        subTitle:'',\n    }\n\n};\n\nexport const menuDataWidget: WidgetModelInterface = {\n    config: {\n        type: 'Navigation',\n        displayName: 'Navigation'\n    },\n    isSelected: false,\n    data: {}\n};\n\nexport const postDataWidget: WidgetModelInterface = {\n    config: {\n        type: 'Post',\n        displayName: 'Post'\n    },\n    isSelected: false,\n    data: {\n        size: 'Small',\n        isBgGray: false,\n    }\n};\n\nexport const postLargeDataWidget = Object.assign({}, postDataWidget, {data: {...postDataWidget.data, 'size': 'Large'}});\n","import {action, computed, observable} from \"mobx\";\nimport Widget, {WidgetModelInterface} from \"./Widget\";\nimport WidgetsStore from \"./WidgetsStore\";\nimport TemplateInterface from \"./TemplateInterface\";\nimport {logoWidget, menuDataWidget, postDataWidget} from \"./templateData_temp\";\nimport uuidv4 from 'uuid/v4';\n\n// #TODO move to store index.tsx\nconst widgetsStore = new WidgetsStore();\n\nexport class Template implements TemplateInterface {\n\n    id: number;\n\n    key: string;\n\n    displayName: string = '';\n\n    @observable html: string = '';\n\n    @observable widgets: Widget[] = [];\n\n    constructor({displayName, widgets, id, key = uuidv4()}: TemplateInterface) {\n        this.displayName = displayName;\n        this.id = id;\n        this.key = key;\n\n        //#TODO remove Object.assign\n        this.widgets = widgets.map(widget => widgetsStore.createWidget(Object.assign({}, widget)));\n    }\n\n    addWidget = (type: string, index: number) => {\n        const widget: Widget = widgetsStore.createWidget(this.getWidgetData(type));\n        this.widgets.splice(index + 1, 0, widget);\n    };\n\n    deleteWidget = (widgetIndex: number) => {\n\n        const widgets = this.widgets;\n        const currentWidget: any = widgets.find((item: Widget, index: number) => widgetIndex === index);\n        const beforeWidget = widgets.find((item: Widget, index: number) => (widgetIndex - 1) === index);\n        const afterWidget = widgets.find((item: Widget, index: number) => (widgetIndex + 1) === index);\n\n        if (\n            (!beforeWidget && afterWidget && currentWidget.config.type === afterWidget.config.type) ||\n            (beforeWidget && !afterWidget && currentWidget.config.type === beforeWidget.config.type) ||\n            (beforeWidget && afterWidget && (currentWidget.config.type === beforeWidget.config.type || currentWidget.config.type === afterWidget.config.type))\n        ) {\n\n            this.widgets.splice(widgetIndex, 1);\n        }\n\n    };\n\n    getWidgetData = (widgetType: string): WidgetModelInterface => {\n        if (widgetType === 'Post') {\n            return postDataWidget;\n        }\n        if (widgetType === 'Navigation') {\n            return menuDataWidget;\n        }\n        if (widgetType === 'Logo') {\n            return logoWidget;\n        }\n\n        return postDataWidget;\n    }\n\n    @action setWidgetSelected(widgetIndex: number | null = null) {\n        this.widgets.forEach(((widget, index) => widget.isSelected = index === widgetIndex));\n    }\n\n    get asJson() {\n        return {\n            widgets: this.widgets.map((widget: any) => widget.asJson),\n            displayName: this.displayName,\n            id: this.id,\n            html: this.html,\n        };\n    };\n\n    @computed get isWidgetSelected(): boolean {\n        return this.widgets.find((widget) => widget.isSelected) !== undefined;\n    }\n\n    @computed get widgetSelectedIndex(): number | null {\n        const index = this.widgets.findIndex((widget: Widget) => widget.isSelected);\n        return index !== -1 ? index : null;\n    }\n\n    @computed get selectedWidget(): Widget | null {\n        return this.widgetSelectedIndex !== null ? this.widgets[this.widgetSelectedIndex] : null;\n    }\n\n    resetWidgetSelected = () => {\n        this.widgets.forEach((widget: Widget) => widget.isSelected = false);\n    }\n\n}\n","import {observable} from \"mobx\";\nimport {Template} from \"./Template\";\nimport TemplateModeInterface from \"./TemplateInterface\";\nimport {logoWidget, menuDataWidget, postDataWidget, postLargeDataWidget, titleWidget} from \"./templateData_temp\";\nimport TemplateInterface from \"./TemplateInterface\";\nimport uuidv4 from 'uuid/v4';\n\nclass TemplateStore {\n\n    @observable templates: TemplateModeInterface[] = [\n        {\n            id: 0,\n            key: uuidv4(),\n            displayName: 'Large post',\n            widgets: [logoWidget, menuDataWidget, postLargeDataWidget, postDataWidget, postDataWidget]\n        },\n        {\n            id: 1,\n            key: uuidv4(),\n            displayName: 'Campaign',\n            widgets: [logoWidget, titleWidget, postLargeDataWidget, postDataWidget]\n        },\n        {\n            id: 2,\n            key: uuidv4(),\n            displayName: 'Without menu',\n            widgets: [logoWidget, postDataWidget, postLargeDataWidget, postDataWidget]\n        },\n    ];\n    getTemplate = (index: number): TemplateInterface => JSON.parse(JSON.stringify(this.templates[index]));\n\n    createTemplate(template: TemplateInterface): Template {\n        return new Template(template);\n    }\n\n}\n\nexport default TemplateStore;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport './config/i18n';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport {Provider} from \"mobx-react\";\nimport UiStore from \"./stores/UiStore\";\nimport CampaignStore from \"./stores/CampaignStore\";\nimport MenusStore from \"./stores/Menu/MenusStore\";\nimport TemplatesStore from \"./stores/TemplateStore\";\nimport MenusApi from \"./stores/Menu/MenusApi\";\nimport {WpexApi} from \"./api/WpexApi\";\nimport {SnackbarProvider} from \"notistack\";\n\nconst api = new WpexApi();\nconst templateStore = new TemplatesStore();\nconst uiStore = new UiStore(api);\nconst campaignStore = new CampaignStore(templateStore, uiStore, api);\nconst menuApi: MenusApi = new MenusApi();\nconst menuStore = new MenusStore(menuApi);\nconst stores = {\n    campaignStore,\n    uiStore,\n    menuStore,\n    templateStore,\n    api,\n};\n\nif (process.env.NODE_ENV !== 'production') {\n    const whyDidYouRender = require('@welldone-software/why-did-you-render');\n    whyDidYouRender(React);\n}\n\nReactDOM.render(\n    <SnackbarProvider hideIconVariant={false}\n                      anchorOrigin={{\n                          vertical: 'top',\n                          horizontal: 'right',\n                      }}>\n        <Provider {...stores}>\n            <App/>\n        </Provider>\n    </SnackbarProvider>\n    , document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import axios from \"axios\";\nimport CampaignInterface from \"../stores/CampaignInterface\";\n\ndeclare global {\n    interface Window {\n        before: any;\n        after: any;\n    }\n\n    interface String {\n        replaceAt(index: number, char: string): string;\n    }\n}\n\n\nexport class WpexApi {\n\n    BASE_URL = process.env.NODE_ENV === 'production' ? window.location.protocol + \"//\" + window.location.host + \"/\" : 'http://giladt:9090/';\n\n    mailchimpConfig: any = {};\n\n    constructor() {\n        this.getMailchimpConfig();\n    }\n\n    async getShortCode(){\n        try {\n\n            const {data} = await axios.post(`${this.BASE_URL}wp-admin/admin-ajax.php`, `action=wpex_get_short_code`, {\n                headers: {\n                    'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'\n                }\n            });\n\n            return data;\n        } catch (e) {\n            console.warn('Error: WpexApi->getLocale', e);\n        }\n    }\n\n    async getLocale() {\n        try {\n\n            const {data} = await axios.post(`${this.BASE_URL}wp-admin/admin-ajax.php`, `action=wpex_get_locale`, {\n                headers: {\n                    'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'\n                }\n            });\n\n            return data;\n        } catch (e) {\n            console.warn('Error: WpexApi->getLocale', e);\n        }\n    }\n\n    async getMailchimpConfig() {\n        try {\n\n            let toSend: any = {\n                action: 'wpex_get_mailchimp_config',\n            };\n\n            const {data} = await axios.post(`${this.BASE_URL}wp-admin/admin-ajax.php`, this.jqueryParam(toSend), {\n                headers: {\n                    'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'\n                }\n            });\n\n            this.mailchimpConfig = data;\n        } catch (e) {\n            console.warn('Error: WpexApi->getMailchimpConfig', e);\n        }\n    }\n\n    async saveCampaign(campaign: CampaignInterface) {\n        try {\n\n            let toSend: any = {\n                action: 'wpex_save_campaign',\n                campaign: campaign,\n\n            };\n\n            const {data} = await axios.post(`${this.BASE_URL}wp-admin/admin-ajax.php`, this.jqueryParam(toSend), {\n                headers: {\n                    'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'\n                }\n            });\n\n            return data;\n        } catch (e) {\n            console.warn('Error: WpexApi->saveCampaign', e);\n        }\n    }\n\n\n    async loadCampaigns(): Promise<CampaignInterface[]> {\n\n        let campaigns: CampaignInterface[] = [];\n\n        try {\n\n            const {data} = await axios.post(`${this.BASE_URL}wp-admin/admin-ajax.php`, `action=wpex_get_campaign`, {\n                headers: {\n                    'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'\n                }\n            });\n\n            campaigns = data.campaigns;\n        } catch (e) {\n            console.warn('Error: WpexApi->loadCampaings', e);\n        }\n\n        return campaigns;\n    }\n\n    async getMailchimpLists() {\n        try {\n            const {data} = await axios.post(`${this.BASE_URL}wp-admin/admin-ajax.php`, 'action=wpex_get_mailchimp_lists');\n\n            //#TODO  check if lists exist\n            return data.lists;\n        } catch (e) {\n            console.log('Error to get mailchimp list', e);\n        }\n    }\n\n    async sendTest(campaign: CampaignInterface, emails: []) {\n        try {\n            const dataToSend = {\n                action: 'wpex_send_campaign_test',\n                campaign: campaign,\n                emails: emails,\n            };\n            return await axios.post(`${this.BASE_URL}wp-admin/admin-ajax.php`, `${this.jqueryParam(dataToSend)}`);\n\n        } catch (e) {\n            console.log('Error to get mailchimp list', e);\n        }\n    }\n\n    async send(campaign: CampaignInterface) {\n        try {\n            const dataToSend = {\n                action: 'wpex_send_campaign',\n                campaign: campaign,\n            };\n\n            return await axios.post(`${this.BASE_URL}wp-admin/admin-ajax.php`, `${this.jqueryParam(dataToSend)}`);\n\n        } catch (e) {\n            console.log('Error to get mailchimp list', e);\n        }\n    }\n\n    async getCampaignByPostId(post_id: number) {\n        try {\n            const {data} = await axios.post(`${this.BASE_URL}wp-admin/admin-ajax.php`, `action=wpex_get_campaign&post_id=${post_id}`);\n            return data.campaign;\n        } catch (e) {\n            console.log('Error to get mailchimp list', e);\n        }\n    }\n\n    jqueryParam(a: any) {\n        const s: any[] = [];\n\n        const add = (k: any, v: any) => {\n            v = typeof v === 'function' ? v() : v;\n            v = v === null ? '' : v === undefined ? '' : v;\n            s[s.length] = encodeURIComponent(k) + '=' + encodeURIComponent(v);\n        };\n\n        const buildParams = function (prefix: any, obj: any) {\n            let i, len, key;\n\n            if (prefix) {\n                if (Array.isArray(obj)) {\n                    for (i = 0, len = obj.length; i < len; i++) {\n                        buildParams(\n                            prefix + '[' + (typeof obj[i] === 'object' && obj[i] ? i : '') + ']',\n                            obj[i]\n                        );\n                    }\n                } else if (String(obj) === '[object Object]') {\n                    for (key in obj) {\n                        buildParams(prefix + '[' + key + ']', obj[key]);\n                    }\n                } else {\n                    add(prefix, obj);\n                }\n            } else if (Array.isArray(obj)) {\n                for (i = 0, len = obj.length; i < len; i++) {\n                    add(obj[i].name, obj[i].value);\n                }\n            } else {\n                for (key in obj) {\n                    buildParams(key, obj[key]);\n                }\n            }\n            return s;\n        };\n\n        return buildParams('', a).join('&');\n    }\n}\n","import Menu from \"./Menu\";\nimport axios from \"axios\";\n\nexport default class MenusApi {\n\n    BASE_URL = process.env.NODE_ENV === 'production' ? window.location.protocol + \"//\" + window.location.host + \"/\" : 'http://giladt:9090/';\n\n    fetch = async (): Promise<Menu[]> => {\n        const {data} = await axios.post(`${this.BASE_URL}wp-admin/admin-ajax.php`, `action=wpex_get_menu_items`, {\n            headers: {\n                'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'\n            }\n        });\n\n        return data;\n    }\n}\n"],"sourceRoot":""}